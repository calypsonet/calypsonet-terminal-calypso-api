<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>SignatureComputationData (Calypsonet Terminal Calypso API - 1.2.0-SNAPSHOT)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../../../../keyple-stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SignatureComputationData (Calypsonet Terminal Calypso API - 1.2.0-SNAPSHOT)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = false;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SignatureComputationData.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><span></span><span style="line-height: 30px"> Calypsonet Terminal Calypso API - 1.2.0-SNAPSHOT</span></div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.calypsonet.terminal.calypso.transaction</a></div>
<h2 title="Interface SignatureComputationData" class="title">Interface SignatureComputationData</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public interface <span class="typeNameLabel">SignatureComputationData</span></pre>
<div class="block">Contains the input/output data of the <a href="CommonTransactionManager.html#prepareComputeSignature(org.calypsonet.terminal.calypso.transaction.SignatureComputationData)"><code>CommonTransactionManager.prepareComputeSignature(SignatureComputationData)</code></a> method.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.2.0</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="SignatureComputationData.html" title="interface in org.calypsonet.terminal.calypso.transaction">SignatureComputationData</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#disableBusyMode()">disableBusyMode</a></span>()</code></th>
<td class="colLast">
<div class="block">Disables the "Busy" mode.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="SignatureComputationData.html" title="interface in org.calypsonet.terminal.calypso.transaction">SignatureComputationData</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#enableSamTraceabilityMode(int,boolean)">enableSamTraceabilityMode</a></span>&#8203;(int&nbsp;offset,
                         boolean&nbsp;usePartialSamSerialNumber)</code></th>
<td class="colLast">
<div class="block">Enables the "SAM traceability" mode to securely record in the data to sign the SAM serial
 number and the value of the counter associated with the signing key.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getSignature()">getSignature</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the computed signature.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getSignedData()">getSignedData</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the data that was used to generate the signature.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="SignatureComputationData.html" title="interface in org.calypsonet.terminal.calypso.transaction">SignatureComputationData</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setData(byte%5B%5D,byte,byte)">setData</a></span>&#8203;(byte[]&nbsp;data,
       byte&nbsp;kif,
       byte&nbsp;kvc)</code></th>
<td class="colLast">
<div class="block">Sets the data to be signed and the KIF/KVC of the key to be used for the signature computation.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="SignatureComputationData.html" title="interface in org.calypsonet.terminal.calypso.transaction">SignatureComputationData</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setSignatureSize(int)">setSignatureSize</a></span>&#8203;(int&nbsp;size)</code></th>
<td class="colLast">
<div class="block">Sets the expected size of the signature in bytes, which can be between 1 and 8 bytes
 (optional).</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="SignatureComputationData.html" title="interface in org.calypsonet.terminal.calypso.transaction">SignatureComputationData</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#useKeyDiversifier(byte%5B%5D)">useKeyDiversifier</a></span>&#8203;(byte[]&nbsp;keyDiversifier)</code></th>
<td class="colLast">
<div class="block">Requires to perform a key diversification before signing using the provided diversifier.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="setData(byte[],byte,byte)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setData</h4>
<pre class="methodSignature"><a href="SignatureComputationData.html" title="interface in org.calypsonet.terminal.calypso.transaction">SignatureComputationData</a>&nbsp;setData&#8203;(byte[]&nbsp;data,
                                 byte&nbsp;kif,
                                 byte&nbsp;kvc)</pre>
<div class="block">Sets the data to be signed and the KIF/KVC of the key to be used for the signature computation.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - The data to be signed.</dd>
<dd><code>kif</code> - The KIF of the key to be used for the signature computation.</dd>
<dd><code>kvc</code> - The KVC of the key to be used for the signature computation.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The current instance.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.2.0</dd>
</dl>
</li>
</ul>
<a id="setSignatureSize(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSignatureSize</h4>
<pre class="methodSignature"><a href="SignatureComputationData.html" title="interface in org.calypsonet.terminal.calypso.transaction">SignatureComputationData</a>&nbsp;setSignatureSize&#8203;(int&nbsp;size)</pre>
<div class="block">Sets the expected size of the signature in bytes, which can be between 1 and 8 bytes
 (optional).

 <p>By default, the signature will be generated on 8 bytes.

 <p>Note: the longer the signature, the more secure it is.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>size</code> - The expected size [1..8]</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The current instance.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.2.0</dd>
</dl>
</li>
</ul>
<a id="enableSamTraceabilityMode(int,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>enableSamTraceabilityMode</h4>
<pre class="methodSignature"><a href="SignatureComputationData.html" title="interface in org.calypsonet.terminal.calypso.transaction">SignatureComputationData</a>&nbsp;enableSamTraceabilityMode&#8203;(int&nbsp;offset,
                                                   boolean&nbsp;usePartialSamSerialNumber)</pre>
<div class="block">Enables the "SAM traceability" mode to securely record in the data to sign the SAM serial
 number and the value of the counter associated with the signing key.

 <p>The SAM replaces the bits after the indicated offset by its serial number (3 or 4 bytes)
 followed by the new value (3 bytes) of the counter.

 <p>To reduce the size of the data modified, the SAM may use only the 3 LSBytes of its serial
 number. With the full serial number, 56 bits of data are replaced. With the 3 LSBytes of the
 serial number, 48 bits of data are replaced.

 <p>By default, the "SAM traceability" mode is disabled.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>offset</code> - The offset in bits.</dd>
<dd><code>usePartialSamSerialNumber</code> - True if only the 3 LSBytes of the SAM serial number should be
     used.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The current instance.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.2.0</dd>
</dl>
</li>
</ul>
<a id="disableBusyMode()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disableBusyMode</h4>
<pre class="methodSignature"><a href="SignatureComputationData.html" title="interface in org.calypsonet.terminal.calypso.transaction">SignatureComputationData</a>&nbsp;disableBusyMode()</pre>
<div class="block">Disables the "Busy" mode. When enabled, if the "PSO Verify Signature" command used to check the
 signature fails because of an incorrect signature, other "PSO Verify Signature" command with
 "Busy" mode is rejected for a few seconds by responding with the "busy" status word. For
 security reasons, it is recommended to use the "Busy" mode in all new usages of this command.

 <p>By default, the "Busy" mode is enabled.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The current instance.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.2.0</dd>
</dl>
</li>
</ul>
<a id="useKeyDiversifier(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>useKeyDiversifier</h4>
<pre class="methodSignature"><a href="SignatureComputationData.html" title="interface in org.calypsonet.terminal.calypso.transaction">SignatureComputationData</a>&nbsp;useKeyDiversifier&#8203;(byte[]&nbsp;keyDiversifier)</pre>
<div class="block">Requires to perform a key diversification before signing using the provided diversifier.

 <p>By default, there will be no new diversification of the key.

 <p>Note: the signature may be used for many purposes, for example:

 <ul>
   <li>To add a signature to data recorded in a contactless card or ticket.<br>
       <u>Remark</u>: to speed up processing, it is recommended to use a constant signing key
       (which is not diversified before ciphering). Instead, the serial number of the card or
       ticket should be inserted at the beginning of the data to sign.
   <li>To sign some data reported from a terminal to a central system.<br>
       <u>Remark</u>: in this case, the terminal SAM contains a signing work key diversified
       with its own serial number, guarantying that the data has indeed been signed by this SAM.
       The central system SAM uses the master signing key, diversified before signing with the
       diversifier set previously by "Select Diversifier" command.
 </ul></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyDiversifier</code> - The diversifier to be used (8 bytes long).</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The current instance.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.2.0</dd>
</dl>
</li>
</ul>
<a id="getSignedData()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSignedData</h4>
<pre class="methodSignature">byte[]&nbsp;getSignedData()</pre>
<div class="block">Returns the data that was used to generate the signature. If the "SAM traceability" mode was
 enabled, then the signed data are the original data modified with the SAM traceability
 information.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A byte array of the same size as the original data to be signed.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - If the command has not yet been processed.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.2.0</dd>
</dl>
</li>
</ul>
<a id="getSignature()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getSignature</h4>
<pre class="methodSignature">byte[]&nbsp;getSignature()</pre>
<div class="block">Returns the computed signature.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A byte array of 1 to 8 bytes.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - If the command has not yet been processed.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.2.0</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SignatureComputationData.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Copyright © Calypso Networks Association https://calypsonet.org/</div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
