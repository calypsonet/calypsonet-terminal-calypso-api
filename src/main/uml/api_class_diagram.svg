<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2790px" preserveAspectRatio="none" style="width:4954px;height:2790px;background:#FFFFFF;" version="1.1" viewBox="0 0 4954 2790" width="4954px" zoomAndPan="magnify"><defs><filter height="1" id="bzkloum6jd8yu0" width="1" x="0" y="0"><feFlood flood-color="#FFFF00" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter></defs><g><rect fill="none" height="25.6406" id="_title" style="stroke:none;stroke-width:1.0;" width="490" x="2225" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="480" x="2230" y="22.6738">Calypsonet - calypsonet-terminal-calypso-java-api - 1.4.+ (2022-10-19)</text><rect fill="#DDDDDD" height="58.9219" id="_legend" rx="7.5" ry="7.5" style="stroke:#000000;stroke-width:1.0;" width="288" x="2326" y="44.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="88" x="2332" y="63.3145">Colors legend</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="2424" y="63.3145">:</text><ellipse cx="2337.5" cy="74.4219" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="189" x="2345" y="78.9551">External public API references</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="2538" y="78.9551">:</text><rect fill="#000000" height="3.5" style="stroke:#000000;stroke-width:0.0;" width="3.5" x="2353" y="89.5625"/><text fill="#000000" filter="url(#bzkloum6jd8yu0)" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="250" x="2358" y="94.5957">calypsonet-terminal-reader-java-api</text><!--MD5=[7442f3b126ee602ae02566c1a49e158a]
cluster api--><g id="cluster_api"><path d="M8.5,118.5625 L231.5,118.5625 A3.75,3.75 0 0 1 234,121.0625 L241,140.2031 L4944.5,140.2031 A2.5,2.5 0 0 1 4947,142.7031 L4947,2781.0625 A2.5,2.5 0 0 1 4944.5,2783.5625 L8.5,2783.5625 A2.5,2.5 0 0 1 6,2781.0625 L6,121.0625 A2.5,2.5 0 0 1 8.5,118.5625 " fill="#F8F9F9" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="241" y1="140.2031" y2="140.2031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="222" x="10" y="133.2363">org.calypsonet.terminal.calypso</text></g><!--MD5=[f7e0e2453c87923036c1ac2adfb9cbf0]
cluster spi--><g id="cluster_spi"><path d="M32.5,1869.0625 L54.5,1869.0625 A3.75,3.75 0 0 1 57,1871.5625 L64,1890.7031 L481.5,1890.7031 A2.5,2.5 0 0 1 484,1893.2031 L484,2013.5625 A2.5,2.5 0 0 1 481.5,2016.0625 L32.5,2016.0625 A2.5,2.5 0 0 1 30,2013.5625 L30,1871.5625 A2.5,2.5 0 0 1 32.5,1869.0625 " fill="#F2F3F4" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="30" x2="64" y1="1890.7031" y2="1890.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="21" x="34" y="1883.7363">spi</text></g><!--MD5=[fc5f7357635190d92cef7ec8135ac887]
cluster card--><g id="cluster_card"><path d="M3376.5,841.0625 L3408.5,841.0625 A3.75,3.75 0 0 1 3411,843.5625 L3418,862.7031 L4920.5,862.7031 A2.5,2.5 0 0 1 4923,865.2031 L4923,2503.0625 A2.5,2.5 0 0 1 4920.5,2505.5625 L3376.5,2505.5625 A2.5,2.5 0 0 1 3374,2503.0625 L3374,843.5625 A2.5,2.5 0 0 1 3376.5,841.0625 " fill="#F2F3F4" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="3374" x2="3418" y1="862.7031" y2="862.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="31" x="3378" y="855.7363">card</text></g><!--MD5=[98d4fa74a8fc0b7c744d347d810a7562]
cluster sam--><g id="cluster_sam"><path d="M1170.5,2181.5625 L1199.5,2181.5625 A3.75,3.75 0 0 1 1202,2184.0625 L1209,2203.2031 L2135.5,2203.2031 A2.5,2.5 0 0 1 2138,2205.7031 L2138,2757.0625 A2.5,2.5 0 0 1 2135.5,2759.5625 L1170.5,2759.5625 A2.5,2.5 0 0 1 1168,2757.0625 L1168,2184.0625 A2.5,2.5 0 0 1 1170.5,2181.5625 " fill="#F2F3F4" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1168" x2="1209" y1="2203.2031" y2="2203.2031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="28" x="1172" y="2196.2363">sam</text></g><!--MD5=[f9c58d90839a0c7c212d8c6553ac9eb7]
cluster transaction--><g id="cluster_transaction"><path d="M510.5,160.5625 L590.5,160.5625 A3.75,3.75 0 0 1 593,163.0625 L600,182.2031 L3347.5,182.2031 A2.5,2.5 0 0 1 3350,184.7031 L3350,2131.0625 A2.5,2.5 0 0 1 3347.5,2133.5625 L510.5,2133.5625 A2.5,2.5 0 0 1 508,2131.0625 L508,163.0625 A2.5,2.5 0 0 1 510.5,160.5625 " fill="#F2F3F4" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="508" x2="600" y1="182.2031" y2="182.2031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="79" x="512" y="175.2363">transaction</text></g><!--MD5=[120218adfd8782b0057db0a1b8294250]
class ApiProperties--><g id="elem_ApiProperties"><rect codeLine="61" fill="#FEFECE" height="63.6406" id="ApiProperties" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="213" x="149.5" y="306.0625"/><ellipse cx="164.5" cy="322.0625" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M167.2656,317.9375 Q167.4219,317.7188 167.6094,317.6094 Q167.7969,317.5 168.0156,317.5 Q168.3906,317.5 168.625,317.7656 Q168.8594,318.0156 168.8594,318.625 L168.8594,320.0781 Q168.8594,320.6875 168.625,320.9531 Q168.3906,321.2188 168.0156,321.2188 Q167.6719,321.2188 167.4688,321.0156 Q167.2656,320.8281 167.1563,320.3125 Q167.1094,319.9531 166.9219,319.7656 Q166.5938,319.3906 165.9844,319.1719 Q165.375,318.9531 164.75,318.9531 Q163.9844,318.9531 163.3438,319.2813 Q162.7188,319.6094 162.2188,320.3594 Q161.7344,321.1094 161.7344,322.1406 L161.7344,323.2344 Q161.7344,324.4688 162.625,325.2969 Q163.5156,326.1094 165.1094,326.1094 Q166.0469,326.1094 166.7031,325.8594 Q167.0938,325.7031 167.5156,325.2656 Q167.7813,325 167.9219,324.9219 Q168.0781,324.8438 168.2813,324.8438 Q168.6094,324.8438 168.8594,325.1094 Q169.125,325.3594 169.125,325.7031 Q169.125,326.0469 168.7813,326.4531 Q168.2813,327.0313 167.4844,327.3594 Q166.4063,327.8125 165.1094,327.8125 Q163.5938,327.8125 162.3906,327.1875 Q161.4063,326.6875 160.7188,325.625 Q160.0313,324.5469 160.0313,323.2656 L160.0313,322.1094 Q160.0313,320.7813 160.6406,319.6406 Q161.2656,318.4844 162.3594,317.875 Q163.4531,317.25 164.6875,317.25 Q165.4219,317.25 166.0625,317.4219 Q166.7188,317.5781 167.2656,317.9375 Z " fill="#000000"/><ellipse cx="183.5" cy="321.5625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="30" x="189.5" y="326.916">final</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="223.5" y="326.916">CalypsoApiProperties</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="150.5" x2="361.5" y1="338.0625" y2="338.0625"/><ellipse cx="160.5" cy="351.3828" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="30" x="169.5" y="354.7363">final</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="101" x="203.5" y="354.7363">String VERSION</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="150.5" x2="361.5" y1="361.7031" y2="361.7031"/></g><!--MD5=[d40df061e984b253aad79dc56dfef347]
class WriteAccessLevel--><g id="elem_WriteAccessLevel"><rect codeLine="64" fill="#FEFECE" height="94.9219" id="WriteAccessLevel" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="155" x="2468.5" y="2332.0625"/><ellipse cx="2483.5" cy="2348.0625" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2482.3594,2348.8594 L2482.3594,2351.3594 L2486.6875,2351.3594 L2486.6875,2350.4375 Q2486.6875,2349.8281 2486.9219,2349.5625 Q2487.1719,2349.2969 2487.5469,2349.2969 Q2487.9219,2349.2969 2488.1563,2349.5625 Q2488.3906,2349.8281 2488.3906,2350.4375 L2488.3906,2353.0625 L2480.3906,2353.0625 Q2479.7656,2353.0625 2479.5,2352.8281 Q2479.25,2352.5938 2479.25,2352.2031 Q2479.25,2351.8281 2479.5156,2351.5938 Q2479.7813,2351.3594 2480.3906,2351.3594 L2480.6563,2351.3594 L2480.6563,2344.7031 L2480.3906,2344.7031 Q2479.7656,2344.7031 2479.5,2344.4688 Q2479.25,2344.2344 2479.25,2343.8438 Q2479.25,2343.4688 2479.5,2343.2344 Q2479.7656,2343 2480.3906,2343 L2488.0156,2343 L2488.0156,2345.5938 Q2488.0156,2346.2031 2487.7813,2346.4688 Q2487.5625,2346.7188 2487.1719,2346.7188 Q2486.7969,2346.7188 2486.5625,2346.4688 Q2486.3281,2346.2031 2486.3281,2345.5938 L2486.3281,2344.7031 L2482.3594,2344.7031 L2482.3594,2347.1563 L2483.8438,2347.1563 Q2483.8438,2346.5 2483.9688,2346.3125 Q2484.2344,2345.9063 2484.7031,2345.9063 Q2485.0781,2345.9063 2485.3125,2346.1719 Q2485.5469,2346.4219 2485.5469,2347.0313 L2485.5469,2349 Q2485.5469,2349.5469 2485.4219,2349.7344 Q2485.1563,2350.125 2484.7031,2350.125 Q2484.2344,2350.125 2483.9688,2349.7188 Q2483.8438,2349.5313 2483.8438,2348.8594 L2482.3594,2348.8594 Z " fill="#000000"/><ellipse cx="2502.5" cy="2347.5625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="2508.5" y="2352.916">WriteAccessLevel</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2469.5" x2="2622.5" y1="2364.0625" y2="2364.0625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="2474.5" y="2380.7363">PERSONALIZATION</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="2474.5" y="2396.377">LOAD</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="2474.5" y="2412.0176">DEBIT</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2469.5" x2="2622.5" y1="2418.9844" y2="2418.9844"/></g><!--MD5=[858307e347215d8034d295bce1f15f07]
class SelectFileControl--><g id="elem_SelectFileControl"><rect codeLine="69" fill="#FEFECE" height="94.9219" id="SelectFileControl" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="151" x="3379.5" y="570.5625"/><ellipse cx="3394.5" cy="586.5625" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3393.3594,587.3594 L3393.3594,589.8594 L3397.6875,589.8594 L3397.6875,588.9375 Q3397.6875,588.3281 3397.9219,588.0625 Q3398.1719,587.7969 3398.5469,587.7969 Q3398.9219,587.7969 3399.1563,588.0625 Q3399.3906,588.3281 3399.3906,588.9375 L3399.3906,591.5625 L3391.3906,591.5625 Q3390.7656,591.5625 3390.5,591.3281 Q3390.25,591.0938 3390.25,590.7031 Q3390.25,590.3281 3390.5156,590.0938 Q3390.7813,589.8594 3391.3906,589.8594 L3391.6563,589.8594 L3391.6563,583.2031 L3391.3906,583.2031 Q3390.7656,583.2031 3390.5,582.9688 Q3390.25,582.7344 3390.25,582.3438 Q3390.25,581.9688 3390.5,581.7344 Q3390.7656,581.5 3391.3906,581.5 L3399.0156,581.5 L3399.0156,584.0938 Q3399.0156,584.7031 3398.7813,584.9688 Q3398.5625,585.2188 3398.1719,585.2188 Q3397.7969,585.2188 3397.5625,584.9688 Q3397.3281,584.7031 3397.3281,584.0938 L3397.3281,583.2031 L3393.3594,583.2031 L3393.3594,585.6563 L3394.8438,585.6563 Q3394.8438,585 3394.9688,584.8125 Q3395.2344,584.4063 3395.7031,584.4063 Q3396.0781,584.4063 3396.3125,584.6719 Q3396.5469,584.9219 3396.5469,585.5313 L3396.5469,587.5 Q3396.5469,588.0469 3396.4219,588.2344 Q3396.1563,588.625 3395.7031,588.625 Q3395.2344,588.625 3394.9688,588.2188 Q3394.8438,588.0313 3394.8438,587.3594 L3393.3594,587.3594 Z " fill="#000000"/><ellipse cx="3413.5" cy="586.0625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="3419.5" y="591.416">SelectFileControl</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3380.5" x2="3529.5" y1="602.5625" y2="602.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="3385.5" y="619.2363">FIRST_EF</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="3385.5" y="634.877">NEXT_EF</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="3385.5" y="650.5176">CURRENT_DF</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3380.5" x2="3529.5" y1="657.4844" y2="657.4844"/></g><!--MD5=[97e08845a712c8f45c07bef0bf0d44ef]
class GetDataTag--><g id="elem_GetDataTag"><rect codeLine="74" fill="#FEFECE" height="110.5625" id="GetDataTag" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="211" x="3570.5" y="562.5625"/><ellipse cx="3627.25" cy="578.5625" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3626.1094,579.3594 L3626.1094,581.8594 L3630.4375,581.8594 L3630.4375,580.9375 Q3630.4375,580.3281 3630.6719,580.0625 Q3630.9219,579.7969 3631.2969,579.7969 Q3631.6719,579.7969 3631.9063,580.0625 Q3632.1406,580.3281 3632.1406,580.9375 L3632.1406,583.5625 L3624.1406,583.5625 Q3623.5156,583.5625 3623.25,583.3281 Q3623,583.0938 3623,582.7031 Q3623,582.3281 3623.2656,582.0938 Q3623.5313,581.8594 3624.1406,581.8594 L3624.4063,581.8594 L3624.4063,575.2031 L3624.1406,575.2031 Q3623.5156,575.2031 3623.25,574.9688 Q3623,574.7344 3623,574.3438 Q3623,573.9688 3623.25,573.7344 Q3623.5156,573.5 3624.1406,573.5 L3631.7656,573.5 L3631.7656,576.0938 Q3631.7656,576.7031 3631.5313,576.9688 Q3631.3125,577.2188 3630.9219,577.2188 Q3630.5469,577.2188 3630.3125,576.9688 Q3630.0781,576.7031 3630.0781,576.0938 L3630.0781,575.2031 L3626.1094,575.2031 L3626.1094,577.6563 L3627.5938,577.6563 Q3627.5938,577 3627.7188,576.8125 Q3627.9844,576.4063 3628.4531,576.4063 Q3628.8281,576.4063 3629.0625,576.6719 Q3629.2969,576.9219 3629.2969,577.5313 L3629.2969,579.5 Q3629.2969,580.0469 3629.1719,580.2344 Q3628.9063,580.625 3628.4531,580.625 Q3627.9844,580.625 3627.7188,580.2188 Q3627.5938,580.0313 3627.5938,579.3594 L3626.1094,579.3594 Z " fill="#000000"/><ellipse cx="3652.75" cy="578.0625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="3658.75" y="583.416">GetDataTag</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3571.5" x2="3780.5" y1="594.5625" y2="594.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177" x="3576.5" y="611.2363">FCP_FOR_CURRENT_FILE</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="3576.5" y="626.877">FCI_FOR_CURRENT_DF</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="3576.5" y="642.5176">EF_LIST</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="3576.5" y="658.1582">TRACEABILITY_INFORMATION</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3571.5" x2="3780.5" y1="665.125" y2="665.125"/></g><!--MD5=[e9275a698c945725d635dad2e94a3fa6]
class SamRevocationServiceSpi--><g id="elem_SamRevocationServiceSpi"><rect codeLine="81" fill="#FEFECE" height="79.2813" id="SamRevocationServiceSpi" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="422" x="46" y="1921.0625"/><ellipse cx="165.25" cy="1937.0625" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M166.2031,1933.7031 L166.2031,1940.3594 L167.9219,1940.3594 Q168.5313,1940.3594 168.7969,1940.5938 Q169.0625,1940.8281 169.0625,1941.2188 Q169.0625,1941.5938 168.7969,1941.8281 Q168.5313,1942.0625 167.9219,1942.0625 L162.7813,1942.0625 Q162.1719,1942.0625 161.9063,1941.8281 Q161.6406,1941.5938 161.6406,1941.2031 Q161.6406,1940.8281 161.9063,1940.5938 Q162.1719,1940.3594 162.7813,1940.3594 L164.5,1940.3594 L164.5,1933.7031 L162.7813,1933.7031 Q162.1719,1933.7031 161.9063,1933.4688 Q161.6406,1933.2344 161.6406,1932.8438 Q161.6406,1932.4688 161.9063,1932.2344 Q162.1719,1932 162.7813,1932 L167.9219,1932 Q168.5313,1932 168.7969,1932.2344 Q169.0625,1932.4688 169.0625,1932.8438 Q169.0625,1933.2344 168.7969,1933.4688 Q168.5313,1933.7031 167.9219,1933.7031 L166.2031,1933.7031 Z " fill="#000000"/><ellipse cx="190.75" cy="1936.5625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="164" x="196.75" y="1941.916">SamRevocationServiceSpi</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="47" x2="467" y1="1953.0625" y2="1953.0625"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="47" x2="467" y1="1961.0625" y2="1961.0625"/><ellipse cx="57" cy="1974.3828" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="285" x="66" y="1977.7363">boolean isSamRevoked (byte[] serialNumber)</text><ellipse cx="57" cy="1990.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="396" x="66" y="1993.377">boolean isSamRevoked (byte[] serialNumber, int counterValue)</text></g><!--MD5=[dedf7a414a26192be9658079488df692]
class CalypsoCardSelection--><g id="elem_CalypsoCardSelection"><rect codeLine="87" fill="#FEFECE" height="370.0938" id="CalypsoCardSelection" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="619" x="3390.5" y="1065.0625"/><ellipse cx="3620.25" cy="1085.7031" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3621.2031,1082.3438 L3621.2031,1089 L3622.9219,1089 Q3623.5313,1089 3623.7969,1089.2344 Q3624.0625,1089.4688 3624.0625,1089.8594 Q3624.0625,1090.2344 3623.7969,1090.4688 Q3623.5313,1090.7031 3622.9219,1090.7031 L3617.7813,1090.7031 Q3617.1719,1090.7031 3616.9063,1090.4688 Q3616.6406,1090.2344 3616.6406,1089.8438 Q3616.6406,1089.4688 3616.9063,1089.2344 Q3617.1719,1089 3617.7813,1089 L3619.5,1089 L3619.5,1082.3438 L3617.7813,1082.3438 Q3617.1719,1082.3438 3616.9063,1082.1094 Q3616.6406,1081.875 3616.6406,1081.4844 Q3616.6406,1081.1094 3616.9063,1080.875 Q3617.1719,1080.6406 3617.7813,1080.6406 L3622.9219,1080.6406 Q3623.5313,1080.6406 3623.7969,1080.875 Q3624.0625,1081.1094 3624.0625,1081.4844 Q3624.0625,1081.875 3623.7969,1082.1094 Q3623.5313,1082.3438 3622.9219,1082.3438 L3621.2031,1082.3438 Z " fill="#000000"/><ellipse cx="3645.75" cy="1085.2031" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="16" x="3661.25" y="1082.7363">&lt;&lt;</text><text fill="#000000" filter="url(#bzkloum6jd8yu0)" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="3677.25" y="1082.7363">CardSelection</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="16" x="3766.25" y="1082.7363">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="140" x="3651.75" y="1098.377">CalypsoCardSelection</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3391.5" x2="4008.5" y1="1106.3438" y2="1106.3438"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3391.5" x2="4008.5" y1="1114.3438" y2="1114.3438"/><ellipse cx="3401.5" cy="1127.6641" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="405" x="3410.5" y="1131.0176">CalypsoCardSelection filterByCardProtocol (String cardProtocol)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="3410.5" y="1146.6582"> </text><ellipse cx="3401.5" cy="1158.9453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="457" x="3410.5" y="1162.2988">CalypsoCardSelection filterByPowerOnData (String powerOnDataRegex)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="3410.5" y="1177.9395"> </text><ellipse cx="3401.5" cy="1190.2266" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="309" x="3410.5" y="1193.5801">CalypsoCardSelection filterByDfName (byte[] aid)</text><ellipse cx="3401.5" cy="1205.8672" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="311" x="3410.5" y="1209.2207">CalypsoCardSelection filterByDfName (String aid)</text><ellipse cx="3401.5" cy="1221.5078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="467" x="3410.5" y="1224.8613">CalypsoCardSelection setFileOccurrence (FileOccurrence fileOccurrence)</text><ellipse cx="3401.5" cy="1237.1484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="593" x="3410.5" y="1240.502">CalypsoCardSelection setFileControlInformation (FileControlInformation fileControlInformation)</text><ellipse cx="3401.5" cy="1252.7891" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="415" x="3410.5" y="1256.1426">CalypsoCardSelection addSuccessfulStatusWord (int statusWord)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="3410.5" y="1271.7832"> </text><ellipse cx="3401.5" cy="1284.0703" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="299" x="3410.5" y="1287.4238">CalypsoCardSelection acceptInvalidatedCard ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="3410.5" y="1303.0645"> </text><ellipse cx="3401.5" cy="1315.3516" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="323" x="3410.5" y="1318.7051">CalypsoCardSelection prepareSelectFile (byte[] lid)</text><ellipse cx="3401.5" cy="1330.9922" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="320" x="3410.5" y="1334.3457">CalypsoCardSelection prepareSelectFile (short lid)</text><ellipse cx="3401.5" cy="1346.6328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="465" x="3410.5" y="1349.9863">CalypsoCardSelection prepareSelectFile (SelectFileControl selectControl)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="3410.5" y="1365.627"> </text><ellipse cx="3401.5" cy="1377.9141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="363" x="3410.5" y="1381.2676">CalypsoCardSelection prepareGetData (GetDataTag tag)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="3410.5" y="1396.9082"> </text><ellipse cx="3401.5" cy="1409.1953" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="473" x="3410.5" y="1412.5488">CalypsoCardSelection prepareReadRecordFile (byte sfi, int recordNumber)</text><ellipse cx="3401.5" cy="1424.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="450" x="3410.5" y="1428.1895">CalypsoCardSelection prepareReadRecord (byte sfi, int recordNumber)</text></g><!--MD5=[986279e3cfc2043660398b1cf71c65a2]
class FileOccurrence--><g id="elem_FileOccurrence"><rect codeLine="109" fill="#FEFECE" height="110.5625" id="FileOccurrence" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="140" x="3390" y="1905.0625"/><ellipse cx="3405" cy="1921.0625" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3403.8594,1921.8594 L3403.8594,1924.3594 L3408.1875,1924.3594 L3408.1875,1923.4375 Q3408.1875,1922.8281 3408.4219,1922.5625 Q3408.6719,1922.2969 3409.0469,1922.2969 Q3409.4219,1922.2969 3409.6563,1922.5625 Q3409.8906,1922.8281 3409.8906,1923.4375 L3409.8906,1926.0625 L3401.8906,1926.0625 Q3401.2656,1926.0625 3401,1925.8281 Q3400.75,1925.5938 3400.75,1925.2031 Q3400.75,1924.8281 3401.0156,1924.5938 Q3401.2813,1924.3594 3401.8906,1924.3594 L3402.1563,1924.3594 L3402.1563,1917.7031 L3401.8906,1917.7031 Q3401.2656,1917.7031 3401,1917.4688 Q3400.75,1917.2344 3400.75,1916.8438 Q3400.75,1916.4688 3401,1916.2344 Q3401.2656,1916 3401.8906,1916 L3409.5156,1916 L3409.5156,1918.5938 Q3409.5156,1919.2031 3409.2813,1919.4688 Q3409.0625,1919.7188 3408.6719,1919.7188 Q3408.2969,1919.7188 3408.0625,1919.4688 Q3407.8281,1919.2031 3407.8281,1918.5938 L3407.8281,1917.7031 L3403.8594,1917.7031 L3403.8594,1920.1563 L3405.3438,1920.1563 Q3405.3438,1919.5 3405.4688,1919.3125 Q3405.7344,1918.9063 3406.2031,1918.9063 Q3406.5781,1918.9063 3406.8125,1919.1719 Q3407.0469,1919.4219 3407.0469,1920.0313 L3407.0469,1922 Q3407.0469,1922.5469 3406.9219,1922.7344 Q3406.6563,1923.125 3406.2031,1923.125 Q3405.7344,1923.125 3405.4688,1922.7188 Q3405.3438,1922.5313 3405.3438,1921.8594 L3403.8594,1921.8594 Z " fill="#000000"/><ellipse cx="3424" cy="1920.5625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="3430" y="1925.916">FileOccurrence</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3391" x2="3529" y1="1937.0625" y2="1937.0625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="3396" y="1953.7363">FIRST</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="3396" y="1969.377">LAST</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="3396" y="1985.0176">NEXT</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="3396" y="2000.6582">PREVIOUS</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3391" x2="3529" y1="2007.625" y2="2007.625"/></g><!--MD5=[7db03ef0d09735de9c956eac87f10fc3]
class FileControlInformation--><g id="elem_FileControlInformation"><rect codeLine="115" fill="#FEFECE" height="79.2813" id="FileControlInformation" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="182" x="3565" y="1921.0625"/><ellipse cx="3580" cy="1937.0625" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3578.8594,1937.8594 L3578.8594,1940.3594 L3583.1875,1940.3594 L3583.1875,1939.4375 Q3583.1875,1938.8281 3583.4219,1938.5625 Q3583.6719,1938.2969 3584.0469,1938.2969 Q3584.4219,1938.2969 3584.6563,1938.5625 Q3584.8906,1938.8281 3584.8906,1939.4375 L3584.8906,1942.0625 L3576.8906,1942.0625 Q3576.2656,1942.0625 3576,1941.8281 Q3575.75,1941.5938 3575.75,1941.2031 Q3575.75,1940.8281 3576.0156,1940.5938 Q3576.2813,1940.3594 3576.8906,1940.3594 L3577.1563,1940.3594 L3577.1563,1933.7031 L3576.8906,1933.7031 Q3576.2656,1933.7031 3576,1933.4688 Q3575.75,1933.2344 3575.75,1932.8438 Q3575.75,1932.4688 3576,1932.2344 Q3576.2656,1932 3576.8906,1932 L3584.5156,1932 L3584.5156,1934.5938 Q3584.5156,1935.2031 3584.2813,1935.4688 Q3584.0625,1935.7188 3583.6719,1935.7188 Q3583.2969,1935.7188 3583.0625,1935.4688 Q3582.8281,1935.2031 3582.8281,1934.5938 L3582.8281,1933.7031 L3578.8594,1933.7031 L3578.8594,1936.1563 L3580.3438,1936.1563 Q3580.3438,1935.5 3580.4688,1935.3125 Q3580.7344,1934.9063 3581.2031,1934.9063 Q3581.5781,1934.9063 3581.8125,1935.1719 Q3582.0469,1935.4219 3582.0469,1936.0313 L3582.0469,1938 Q3582.0469,1938.5469 3581.9219,1938.7344 Q3581.6563,1939.125 3581.2031,1939.125 Q3580.7344,1939.125 3580.4688,1938.7188 Q3580.3438,1938.5313 3580.3438,1937.8594 L3578.8594,1937.8594 Z " fill="#000000"/><ellipse cx="3599" cy="1936.5625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="3605" y="1941.916">FileControlInformation</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3566" x2="3746" y1="1953.0625" y2="1953.0625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="22" x="3571" y="1969.7363">FCI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="3571" y="1985.377">NO_RESPONSE</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3566" x2="3746" y1="1992.3438" y2="1992.3438"/></g><!--MD5=[57d9060bfed72118962c04165c3e8b58]
class CalypsoCard--><g id="elem_CalypsoCard"><rect codeLine="119" fill="#FEFECE" height="714.1875" id="CalypsoCard" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="362" x="4045" y="893.0625"/><ellipse cx="4166.25" cy="913.7031" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M4167.2031,910.3438 L4167.2031,917 L4168.9219,917 Q4169.5313,917 4169.7969,917.2344 Q4170.0625,917.4688 4170.0625,917.8594 Q4170.0625,918.2344 4169.7969,918.4688 Q4169.5313,918.7031 4168.9219,918.7031 L4163.7813,918.7031 Q4163.1719,918.7031 4162.9063,918.4688 Q4162.6406,918.2344 4162.6406,917.8438 Q4162.6406,917.4688 4162.9063,917.2344 Q4163.1719,917 4163.7813,917 L4165.5,917 L4165.5,910.3438 L4163.7813,910.3438 Q4163.1719,910.3438 4162.9063,910.1094 Q4162.6406,909.875 4162.6406,909.4844 Q4162.6406,909.1094 4162.9063,908.875 Q4163.1719,908.6406 4163.7813,908.6406 L4168.9219,908.6406 Q4169.5313,908.6406 4169.7969,908.875 Q4170.0625,909.1094 4170.0625,909.4844 Q4170.0625,909.875 4169.7969,910.1094 Q4169.5313,910.3438 4168.9219,910.3438 L4167.2031,910.3438 Z " fill="#000000"/><ellipse cx="4191.75" cy="913.2031" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="16" x="4197.75" y="910.7363">&lt;&lt;</text><text fill="#000000" filter="url(#bzkloum6jd8yu0)" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="68" x="4213.75" y="910.7363">SmartCard</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="16" x="4281.75" y="910.7363">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="82" x="4206.75" y="926.377">CalypsoCard</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="4046" x2="4406" y1="934.3438" y2="934.3438"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="4046" x2="4406" y1="942.3438" y2="942.3438"/><ellipse cx="4056" cy="955.6641" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200" x="4065" y="959.0176">ProductType getProductType ()</text><ellipse cx="4056" cy="971.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="4065" y="974.6582">boolean isHce ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="4065" y="990.2988"> </text><ellipse cx="4056" cy="1002.5859" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="4065" y="1005.9395">boolean isDfInvalidated ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="4065" y="1021.5801"> </text><ellipse cx="4056" cy="1033.8672" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="4065" y="1037.2207">byte[] getDfName ()</text><ellipse cx="4056" cy="1049.5078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="227" x="4065" y="1052.8613">byte[] getApplicationSerialNumber ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="4065" y="1068.502"> </text><ellipse cx="4056" cy="1080.7891" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="4065" y="1084.1426">byte[] getStartupInfoRawData ()</text><ellipse cx="4056" cy="1096.4297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="4065" y="1099.7832">byte getPlatform ()</text><ellipse cx="4056" cy="1112.0703" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166" x="4065" y="1115.4238">byte getApplicationType ()</text><ellipse cx="4056" cy="1127.7109" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="186" x="4065" y="1131.0645">byte getApplicationSubtype ()</text><ellipse cx="4056" cy="1143.3516" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="4065" y="1146.7051">byte getSoftwareIssuer ()</text><ellipse cx="4056" cy="1158.9922" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="4065" y="1162.3457">byte getSoftwareVersion ()</text><ellipse cx="4056" cy="1174.6328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="4065" y="1177.9863">byte getSoftwareRevision ()</text><ellipse cx="4056" cy="1190.2734" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190" x="4065" y="1193.627">byte getSessionModification ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="4065" y="1209.2676"> </text><ellipse cx="4056" cy="1221.5547" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="216" x="4065" y="1224.9082">byte[] getTraceabilityInformation ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="4065" y="1240.5488"> </text><ellipse cx="4056" cy="1252.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="244" x="4065" y="1256.1895">DirectoryHeader getDirectoryHeader ()</text><ellipse cx="4056" cy="1268.4766" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="232" x="4065" y="1271.8301">ElementaryFile getFileBySfi (byte sfi)</text><ellipse cx="4056" cy="1284.1172" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="240" x="4065" y="1287.4707">ElementaryFile getFileByLid (short lid)</text><ellipse cx="4056" cy="1299.7578" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="256" x="4065" y="1303.1113">Map&lt;Byte, ElementaryFile&gt; getAllFiles ()</text><ellipse cx="4056" cy="1315.3984" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="4065" y="1318.752">Set&lt;ElementaryFile&gt; getFiles ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="4065" y="1334.3926"> </text><ellipse cx="4056" cy="1346.6797" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="4065" y="1350.0332">boolean isDfRatified ()</text><ellipse cx="4056" cy="1362.3203" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179" x="4065" y="1365.6738">int getTransactionCounter ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="4065" y="1381.3145"> </text><ellipse cx="4056" cy="1393.6016" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="4065" y="1396.9551">boolean isPkiModeSupported ()</text><ellipse cx="4056" cy="1409.2422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="239" x="4065" y="1412.5957">boolean isExtendedModeSupported ()</text><ellipse cx="4056" cy="1424.8828" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="289" x="4065" y="1428.2363">boolean isRatificationOnDeselectSupported ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="4065" y="1443.877"> </text><ellipse cx="4056" cy="1456.1641" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206" x="4065" y="1459.5176">boolean isPinFeatureAvailable ()</text><ellipse cx="4056" cy="1471.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="4065" y="1475.1582">boolean isPinBlocked ()</text><ellipse cx="4056" cy="1487.4453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="188" x="4065" y="1490.7988">int getPinAttemptRemaining ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="4065" y="1506.4395"> </text><ellipse cx="4056" cy="1518.7266" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202" x="4065" y="1522.0801">boolean isSvFeatureAvailable ()</text><ellipse cx="4056" cy="1534.3672" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="4065" y="1537.7207">int getSvBalance ()</text><ellipse cx="4056" cy="1550.0078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="4065" y="1553.3613">int getSvLastTNum ()</text><ellipse cx="4056" cy="1565.6484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="274" x="4065" y="1569.002">SvLoadLogRecord getSvLoadLogRecord ()</text><ellipse cx="4056" cy="1581.2891" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="303" x="4065" y="1584.6426">SvDebitLogRecord getSvDebitLogLastRecord ()</text><ellipse cx="4056" cy="1596.9297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="336" x="4065" y="1600.2832">List&lt;SvDebitLogRecord&gt; getSvDebitLogAllRecords ()</text></g><!--MD5=[0b9f931ff20ef873cbf798587ab2189f]
class DirectoryHeader--><g id="elem_DirectoryHeader"><rect codeLine="163" fill="#FEFECE" height="173.125" id="DirectoryHeader" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="338" x="4157" y="1874.0625"/><ellipse cx="4264.25" cy="1890.0625" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M4265.2031,1886.7031 L4265.2031,1893.3594 L4266.9219,1893.3594 Q4267.5313,1893.3594 4267.7969,1893.5938 Q4268.0625,1893.8281 4268.0625,1894.2188 Q4268.0625,1894.5938 4267.7969,1894.8281 Q4267.5313,1895.0625 4266.9219,1895.0625 L4261.7813,1895.0625 Q4261.1719,1895.0625 4260.9063,1894.8281 Q4260.6406,1894.5938 4260.6406,1894.2031 Q4260.6406,1893.8281 4260.9063,1893.5938 Q4261.1719,1893.3594 4261.7813,1893.3594 L4263.5,1893.3594 L4263.5,1886.7031 L4261.7813,1886.7031 Q4261.1719,1886.7031 4260.9063,1886.4688 Q4260.6406,1886.2344 4260.6406,1885.8438 Q4260.6406,1885.4688 4260.9063,1885.2344 Q4261.1719,1885 4261.7813,1885 L4266.9219,1885 Q4267.5313,1885 4267.7969,1885.2344 Q4268.0625,1885.4688 4268.0625,1885.8438 Q4268.0625,1886.2344 4267.7969,1886.4688 Q4267.5313,1886.7031 4266.9219,1886.7031 L4265.2031,1886.7031 Z " fill="#000000"/><ellipse cx="4289.75" cy="1889.5625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="104" x="4295.75" y="1894.916">DirectoryHeader</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="4158" x2="4494" y1="1906.0625" y2="1906.0625"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="4158" x2="4494" y1="1914.0625" y2="1914.0625"/><ellipse cx="4168" cy="1927.3828" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="4177" y="1930.7363">short getLid ()</text><ellipse cx="4168" cy="1943.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="4177" y="1946.377">Byte getDfStatus ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="4177" y="1962.0176"> </text><ellipse cx="4168" cy="1974.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185" x="4177" y="1977.6582">byte[] getAccessConditions ()</text><ellipse cx="4168" cy="1989.9453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="4177" y="1993.2988">byte[] getKeyIndexes ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="4177" y="2008.9395"> </text><ellipse cx="4168" cy="2021.2266" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="305" x="4177" y="2024.5801">byte getKif (WriteAccessLevel writeAccessLevel)</text><ellipse cx="4168" cy="2036.8672" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="312" x="4177" y="2040.2207">byte getKvc (WriteAccessLevel writeAccessLevel)</text></g><!--MD5=[96ed275c747ab8e5816af3c7b7a6d739]
class ElementaryFile--><g id="elem_ElementaryFile"><rect codeLine="173" fill="#FEFECE" height="94.9219" id="ElementaryFile" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="179" x="4530.5" y="1913.0625"/><ellipse cx="4564.4" cy="1929.0625" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M4565.3531,1925.7031 L4565.3531,1932.3594 L4567.0719,1932.3594 Q4567.6813,1932.3594 4567.9469,1932.5938 Q4568.2125,1932.8281 4568.2125,1933.2188 Q4568.2125,1933.5938 4567.9469,1933.8281 Q4567.6813,1934.0625 4567.0719,1934.0625 L4561.9313,1934.0625 Q4561.3219,1934.0625 4561.0563,1933.8281 Q4560.7906,1933.5938 4560.7906,1933.2031 Q4560.7906,1932.8281 4561.0563,1932.5938 Q4561.3219,1932.3594 4561.9313,1932.3594 L4563.65,1932.3594 L4563.65,1925.7031 L4561.9313,1925.7031 Q4561.3219,1925.7031 4561.0563,1925.4688 Q4560.7906,1925.2344 4560.7906,1924.8438 Q4560.7906,1924.4688 4561.0563,1924.2344 Q4561.3219,1924 4561.9313,1924 L4567.0719,1924 Q4567.6813,1924 4567.9469,1924.2344 Q4568.2125,1924.4688 4568.2125,1924.8438 Q4568.2125,1925.2344 4567.9469,1925.4688 Q4567.6813,1925.7031 4567.0719,1925.7031 L4565.3531,1925.7031 Z " fill="#000000"/><ellipse cx="4587.6" cy="1928.5625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="94" x="4593.6" y="1933.916">ElementaryFile</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="4531.5" x2="4708.5" y1="1945.0625" y2="1945.0625"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="4531.5" x2="4708.5" y1="1953.0625" y2="1953.0625"/><ellipse cx="4541.5" cy="1966.3828" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="4550.5" y="1969.7363">byte getSfi ()</text><ellipse cx="4541.5" cy="1982.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="4550.5" y="1985.377">FileHeader getHeader ()</text><ellipse cx="4541.5" cy="1997.6641" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="4550.5" y="2001.0176">FileData getData ()</text></g><!--MD5=[486f9787c412818ec30cf5d906211656]
class FileHeader--><g id="elem_FileHeader"><rect codeLine="178" fill="#FEFECE" height="220.0469" id="FileHeader" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="239" x="3936.5" y="2269.5625"/><ellipse cx="4011.25" cy="2285.5625" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M4012.2031,2282.2031 L4012.2031,2288.8594 L4013.9219,2288.8594 Q4014.5313,2288.8594 4014.7969,2289.0938 Q4015.0625,2289.3281 4015.0625,2289.7188 Q4015.0625,2290.0938 4014.7969,2290.3281 Q4014.5313,2290.5625 4013.9219,2290.5625 L4008.7813,2290.5625 Q4008.1719,2290.5625 4007.9063,2290.3281 Q4007.6406,2290.0938 4007.6406,2289.7031 Q4007.6406,2289.3281 4007.9063,2289.0938 Q4008.1719,2288.8594 4008.7813,2288.8594 L4010.5,2288.8594 L4010.5,2282.2031 L4008.7813,2282.2031 Q4008.1719,2282.2031 4007.9063,2281.9688 Q4007.6406,2281.7344 4007.6406,2281.3438 Q4007.6406,2280.9688 4007.9063,2280.7344 Q4008.1719,2280.5 4008.7813,2280.5 L4013.9219,2280.5 Q4014.5313,2280.5 4014.7969,2280.7344 Q4015.0625,2280.9688 4015.0625,2281.3438 Q4015.0625,2281.7344 4014.7969,2281.9688 Q4014.5313,2282.2031 4013.9219,2282.2031 L4012.2031,2282.2031 Z " fill="#000000"/><ellipse cx="4036.75" cy="2285.0625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="70" x="4042.75" y="2290.416">FileHeader</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3937.5" x2="4174.5" y1="2301.5625" y2="2301.5625"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3937.5" x2="4174.5" y1="2309.5625" y2="2309.5625"/><ellipse cx="3947.5" cy="2322.8828" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="3956.5" y="2326.2363">short getLid ()</text><ellipse cx="3947.5" cy="2338.5234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="3956.5" y="2341.877">byte getDfStatus ()</text><ellipse cx="3947.5" cy="2354.1641" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213" x="3956.5" y="2357.5176">ElementaryFile.Type getEfType ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="3956.5" y="2373.1582"> </text><ellipse cx="3947.5" cy="2385.4453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="3956.5" y="2388.7988">int getRecordsNumber ()</text><ellipse cx="3947.5" cy="2401.0859" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="3956.5" y="2404.4395">int getRecordSize ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="3956.5" y="2420.0801"> </text><ellipse cx="3947.5" cy="2432.3672" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185" x="3956.5" y="2435.7207">byte[] getAccessConditions ()</text><ellipse cx="3947.5" cy="2448.0078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="3956.5" y="2451.3613">byte[] getKeyIndexes ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="3956.5" y="2467.002"> </text><ellipse cx="3947.5" cy="2479.2891" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="184" x="3956.5" y="2482.6426">Short getSharedReference ()</text></g><!--MD5=[b2892fca6bf934519171596a14a2d163]
class FileType--><g id="elem_FileType"><rect codeLine="191" fill="#FEFECE" height="126.2031" id="FileType" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="173" x="4265.5" y="2316.5625"/><ellipse cx="4326.25" cy="2332.5625" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M4325.1094,2333.3594 L4325.1094,2335.8594 L4329.4375,2335.8594 L4329.4375,2334.9375 Q4329.4375,2334.3281 4329.6719,2334.0625 Q4329.9219,2333.7969 4330.2969,2333.7969 Q4330.6719,2333.7969 4330.9063,2334.0625 Q4331.1406,2334.3281 4331.1406,2334.9375 L4331.1406,2337.5625 L4323.1406,2337.5625 Q4322.5156,2337.5625 4322.25,2337.3281 Q4322,2337.0938 4322,2336.7031 Q4322,2336.3281 4322.2656,2336.0938 Q4322.5313,2335.8594 4323.1406,2335.8594 L4323.4063,2335.8594 L4323.4063,2329.2031 L4323.1406,2329.2031 Q4322.5156,2329.2031 4322.25,2328.9688 Q4322,2328.7344 4322,2328.3438 Q4322,2327.9688 4322.25,2327.7344 Q4322.5156,2327.5 4323.1406,2327.5 L4330.7656,2327.5 L4330.7656,2330.0938 Q4330.7656,2330.7031 4330.5313,2330.9688 Q4330.3125,2331.2188 4329.9219,2331.2188 Q4329.5469,2331.2188 4329.3125,2330.9688 Q4329.0781,2330.7031 4329.0781,2330.0938 L4329.0781,2329.2031 L4325.1094,2329.2031 L4325.1094,2331.6563 L4326.5938,2331.6563 Q4326.5938,2331 4326.7188,2330.8125 Q4326.9844,2330.4063 4327.4531,2330.4063 Q4327.8281,2330.4063 4328.0625,2330.6719 Q4328.2969,2330.9219 4328.2969,2331.5313 L4328.2969,2333.5 Q4328.2969,2334.0469 4328.1719,2334.2344 Q4327.9063,2334.625 4327.4531,2334.625 Q4326.9844,2334.625 4326.7188,2334.2188 Q4326.5938,2334.0313 4326.5938,2333.3594 L4325.1094,2333.3594 Z " fill="#000000"/><ellipse cx="4351.75" cy="2332.0625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="4357.75" y="2337.416">Type</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="4266.5" x2="4437.5" y1="2348.5625" y2="2348.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="4271.5" y="2365.2363">LINEAR</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="4271.5" y="2380.877">BINARY</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="4271.5" y="2396.5176">CYCLIC</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="4271.5" y="2412.1582">COUNTERS</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="4271.5" y="2427.7988">SIMULATED_COUNTERS</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="4266.5" x2="4437.5" y1="2434.7656" y2="2434.7656"/></g><!--MD5=[9e0c9777a80d688403528ae1660d9a4a]
class FileData--><g id="elem_FileData"><rect codeLine="198" fill="#FEFECE" height="157.4844" id="FileData" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="433" x="4473.5" y="2301.0625"/><ellipse cx="4653.75" cy="2317.0625" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M4654.7031,2313.7031 L4654.7031,2320.3594 L4656.4219,2320.3594 Q4657.0313,2320.3594 4657.2969,2320.5938 Q4657.5625,2320.8281 4657.5625,2321.2188 Q4657.5625,2321.5938 4657.2969,2321.8281 Q4657.0313,2322.0625 4656.4219,2322.0625 L4651.2813,2322.0625 Q4650.6719,2322.0625 4650.4063,2321.8281 Q4650.1406,2321.5938 4650.1406,2321.2031 Q4650.1406,2320.8281 4650.4063,2320.5938 Q4650.6719,2320.3594 4651.2813,2320.3594 L4653,2320.3594 L4653,2313.7031 L4651.2813,2313.7031 Q4650.6719,2313.7031 4650.4063,2313.4688 Q4650.1406,2313.2344 4650.1406,2312.8438 Q4650.1406,2312.4688 4650.4063,2312.2344 Q4650.6719,2312 4651.2813,2312 L4656.4219,2312 Q4657.0313,2312 4657.2969,2312.2344 Q4657.5625,2312.4688 4657.5625,2312.8438 Q4657.5625,2313.2344 4657.2969,2313.4688 Q4657.0313,2313.7031 4656.4219,2313.7031 L4654.7031,2313.7031 Z " fill="#000000"/><ellipse cx="4679.25" cy="2316.5625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="53" x="4685.25" y="2321.916">FileData</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="4474.5" x2="4905.5" y1="2333.0625" y2="2333.0625"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="4474.5" x2="4905.5" y1="2341.0625" y2="2341.0625"/><ellipse cx="4484.5" cy="2354.3828" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="4493.5" y="2357.7363">byte[] getContent ()</text><ellipse cx="4484.5" cy="2370.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="215" x="4493.5" y="2373.377">byte[] getContent (int numRecord)</text><ellipse cx="4484.5" cy="2385.6641" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="407" x="4493.5" y="2389.0176">byte[] getContent (int numRecord, int dataOffset, int dataLength)</text><ellipse cx="4484.5" cy="2401.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="328" x="4493.5" y="2404.6582">SortedMap&lt;Integer, byte[]&gt; getAllRecordsContent ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="4493.5" y="2420.2988"> </text><ellipse cx="4484.5" cy="2432.5859" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="332" x="4493.5" y="2435.9395">Integer getContentAsCounterValue (int numCounter)</text><ellipse cx="4484.5" cy="2448.2266" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="328" x="4493.5" y="2451.5801">SortedMap&lt;Integer, Integer&gt; getAllCountersValue ()</text></g><!--MD5=[e000c089c172563ba3d8f11f76ec265c]
class CardProductType--><g id="elem_CardProductType"><rect codeLine="207" fill="#FEFECE" height="141.8438" id="CardProductType" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="141" x="3980.5" y="1889.5625"/><ellipse cx="4003.15" cy="1905.5625" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M4002.0094,1906.3594 L4002.0094,1908.8594 L4006.3375,1908.8594 L4006.3375,1907.9375 Q4006.3375,1907.3281 4006.5719,1907.0625 Q4006.8219,1906.7969 4007.1969,1906.7969 Q4007.5719,1906.7969 4007.8063,1907.0625 Q4008.0406,1907.3281 4008.0406,1907.9375 L4008.0406,1910.5625 L4000.0406,1910.5625 Q3999.4156,1910.5625 3999.15,1910.3281 Q3998.9,1910.0938 3998.9,1909.7031 Q3998.9,1909.3281 3999.1656,1909.0938 Q3999.4313,1908.8594 4000.0406,1908.8594 L4000.3063,1908.8594 L4000.3063,1902.2031 L4000.0406,1902.2031 Q3999.4156,1902.2031 3999.15,1901.9688 Q3998.9,1901.7344 3998.9,1901.3438 Q3998.9,1900.9688 3999.15,1900.7344 Q3999.4156,1900.5 4000.0406,1900.5 L4007.6656,1900.5 L4007.6656,1903.0938 Q4007.6656,1903.7031 4007.4313,1903.9688 Q4007.2125,1904.2188 4006.8219,1904.2188 Q4006.4469,1904.2188 4006.2125,1903.9688 Q4005.9781,1903.7031 4005.9781,1903.0938 L4005.9781,1902.2031 L4002.0094,1902.2031 L4002.0094,1904.6563 L4003.4938,1904.6563 Q4003.4938,1904 4003.6188,1903.8125 Q4003.8844,1903.4063 4004.3531,1903.4063 Q4004.7281,1903.4063 4004.9625,1903.6719 Q4005.1969,1903.9219 4005.1969,1904.5313 L4005.1969,1906.5 Q4005.1969,1907.0469 4005.0719,1907.2344 Q4004.8063,1907.625 4004.3531,1907.625 Q4003.8844,1907.625 4003.6188,1907.2188 Q4003.4938,1907.0313 4003.4938,1906.3594 L4002.0094,1906.3594 Z " fill="#000000"/><ellipse cx="4023.85" cy="1905.0625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="4029.85" y="1910.416">ProductType</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3981.5" x2="4120.5" y1="1921.5625" y2="1921.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="3986.5" y="1938.2363">PRIME_REVISION_1</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="3986.5" y="1953.877">PRIME_REVISION_2</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="3986.5" y="1969.5176">PRIME_REVISION_3</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="3986.5" y="1985.1582">LIGHT</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="3986.5" y="2000.7988">BASIC</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="3986.5" y="2016.4395">UNKNOWN</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3981.5" x2="4120.5" y1="2023.4063" y2="2023.4063"/></g><!--MD5=[c749d7bba5587d09bce06f9a9a7e89ad]
class SvLoadLogRecord--><g id="elem_SvLoadLogRecord"><rect codeLine="215" fill="#FEFECE" height="251.3281" id="SvLoadLogRecord" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="162" x="4745" y="1835.0625"/><ellipse cx="4760.9" cy="1851.0625" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M4761.8531,1847.7031 L4761.8531,1854.3594 L4763.5719,1854.3594 Q4764.1813,1854.3594 4764.4469,1854.5938 Q4764.7125,1854.8281 4764.7125,1855.2188 Q4764.7125,1855.5938 4764.4469,1855.8281 Q4764.1813,1856.0625 4763.5719,1856.0625 L4758.4313,1856.0625 Q4757.8219,1856.0625 4757.5563,1855.8281 Q4757.2906,1855.5938 4757.2906,1855.2031 Q4757.2906,1854.8281 4757.5563,1854.5938 Q4757.8219,1854.3594 4758.4313,1854.3594 L4760.15,1854.3594 L4760.15,1847.7031 L4758.4313,1847.7031 Q4757.8219,1847.7031 4757.5563,1847.4688 Q4757.2906,1847.2344 4757.2906,1846.8438 Q4757.2906,1846.4688 4757.5563,1846.2344 Q4757.8219,1846 4758.4313,1846 L4763.5719,1846 Q4764.1813,1846 4764.4469,1846.2344 Q4764.7125,1846.4688 4764.7125,1846.8438 Q4764.7125,1847.2344 4764.4469,1847.4688 Q4764.1813,1847.7031 4763.5719,1847.7031 L4761.8531,1847.7031 Z " fill="#000000"/><ellipse cx="4780.1" cy="1850.5625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117" x="4786.1" y="1855.916">SvLoadLogRecord</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="4746" x2="4906" y1="1867.0625" y2="1867.0625"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="4746" x2="4906" y1="1875.0625" y2="1875.0625"/><ellipse cx="4756" cy="1888.3828" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="4765" y="1891.7363">byte[] getRawData ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="4765" y="1907.377"> </text><ellipse cx="4756" cy="1919.6641" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="4765" y="1923.0176">byte[] getLoadDate ()</text><ellipse cx="4756" cy="1935.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="4765" y="1938.6582">byte[] getLoadTime ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="4765" y="1954.2988"> </text><ellipse cx="4756" cy="1966.5859" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="4765" y="1969.9395">int getAmount ()</text><ellipse cx="4756" cy="1982.2266" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="4765" y="1985.5801">int getBalance ()</text><ellipse cx="4756" cy="1997.8672" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="4765" y="2001.2207">byte[] getFreeData ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="4765" y="2016.8613"> </text><ellipse cx="4756" cy="2029.1484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="4765" y="2032.502">byte getKvc ()</text><ellipse cx="4756" cy="2044.7891" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="4765" y="2048.1426">byte[] getSamId ()</text><ellipse cx="4756" cy="2060.4297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="4765" y="2063.7832">int getSamTNum ()</text><ellipse cx="4756" cy="2076.0703" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="4765" y="2079.4238">int getSvTNum ()</text></g><!--MD5=[f7bb9a4e07bc41a393fc40394d0e062c]
class SvDebitLogRecord--><g id="elem_SvDebitLogRecord"><rect codeLine="230" fill="#FEFECE" height="235.6875" id="SvDebitLogRecord" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="163" x="3782.5" y="1842.5625"/><ellipse cx="3798.4" cy="1858.5625" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3799.3531,1855.2031 L3799.3531,1861.8594 L3801.0719,1861.8594 Q3801.6813,1861.8594 3801.9469,1862.0938 Q3802.2125,1862.3281 3802.2125,1862.7188 Q3802.2125,1863.0938 3801.9469,1863.3281 Q3801.6813,1863.5625 3801.0719,1863.5625 L3795.9313,1863.5625 Q3795.3219,1863.5625 3795.0563,1863.3281 Q3794.7906,1863.0938 3794.7906,1862.7031 Q3794.7906,1862.3281 3795.0563,1862.0938 Q3795.3219,1861.8594 3795.9313,1861.8594 L3797.65,1861.8594 L3797.65,1855.2031 L3795.9313,1855.2031 Q3795.3219,1855.2031 3795.0563,1854.9688 Q3794.7906,1854.7344 3794.7906,1854.3438 Q3794.7906,1853.9688 3795.0563,1853.7344 Q3795.3219,1853.5 3795.9313,1853.5 L3801.0719,1853.5 Q3801.6813,1853.5 3801.9469,1853.7344 Q3802.2125,1853.9688 3802.2125,1854.3438 Q3802.2125,1854.7344 3801.9469,1854.9688 Q3801.6813,1855.2031 3801.0719,1855.2031 L3799.3531,1855.2031 Z " fill="#000000"/><ellipse cx="3817.6" cy="1858.0625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="118" x="3823.6" y="1863.416">SvDebitLogRecord</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3783.5" x2="3944.5" y1="1874.5625" y2="1874.5625"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3783.5" x2="3944.5" y1="1882.5625" y2="1882.5625"/><ellipse cx="3793.5" cy="1895.8828" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="3802.5" y="1899.2363">byte[] getRawData ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="3802.5" y="1914.877"> </text><ellipse cx="3793.5" cy="1927.1641" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="3802.5" y="1930.5176">byte[] getDebitDate ()</text><ellipse cx="3793.5" cy="1942.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="3802.5" y="1946.1582">byte[] getDebitTime ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="3802.5" y="1961.7988"> </text><ellipse cx="3793.5" cy="1974.0859" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="3802.5" y="1977.4395">int getAmount ()</text><ellipse cx="3793.5" cy="1989.7266" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="3802.5" y="1993.0801">int getBalance ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="3802.5" y="2008.7207"> </text><ellipse cx="3793.5" cy="2021.0078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="3802.5" y="2024.3613">byte getKvc ()</text><ellipse cx="3793.5" cy="2036.6484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="3802.5" y="2040.002">byte[] getSamId ()</text><ellipse cx="3793.5" cy="2052.2891" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="3802.5" y="2055.6426">int getSamTNum ()</text><ellipse cx="3793.5" cy="2067.9297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="3802.5" y="2071.2832">int getSvTNum ()</text></g><!--MD5=[c337779d2dbd9414fdf26e542ab5c644]
class CalypsoSamSelection--><g id="elem_CalypsoSamSelection"><rect codeLine="246" fill="#FEFECE" height="119.8438" id="CalypsoSamSelection" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="553" x="1568.5" y="2319.5625"/><ellipse cx="1766.75" cy="2340.2031" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1767.7031,2336.8438 L1767.7031,2343.5 L1769.4219,2343.5 Q1770.0313,2343.5 1770.2969,2343.7344 Q1770.5625,2343.9688 1770.5625,2344.3594 Q1770.5625,2344.7344 1770.2969,2344.9688 Q1770.0313,2345.2031 1769.4219,2345.2031 L1764.2813,2345.2031 Q1763.6719,2345.2031 1763.4063,2344.9688 Q1763.1406,2344.7344 1763.1406,2344.3438 Q1763.1406,2343.9688 1763.4063,2343.7344 Q1763.6719,2343.5 1764.2813,2343.5 L1766,2343.5 L1766,2336.8438 L1764.2813,2336.8438 Q1763.6719,2336.8438 1763.4063,2336.6094 Q1763.1406,2336.375 1763.1406,2335.9844 Q1763.1406,2335.6094 1763.4063,2335.375 Q1763.6719,2335.1406 1764.2813,2335.1406 L1769.4219,2335.1406 Q1770.0313,2335.1406 1770.2969,2335.375 Q1770.5625,2335.6094 1770.5625,2335.9844 Q1770.5625,2336.375 1770.2969,2336.6094 Q1770.0313,2336.8438 1769.4219,2336.8438 L1767.7031,2336.8438 Z " fill="#000000"/><ellipse cx="1792.25" cy="2339.7031" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="16" x="1806.25" y="2337.2363">&lt;&lt;</text><text fill="#000000" filter="url(#bzkloum6jd8yu0)" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="1822.25" y="2337.2363">CardSelection</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="16" x="1911.25" y="2337.2363">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="137" x="1798.25" y="2352.877">CalypsoSamSelection</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1569.5" x2="2120.5" y1="2360.8438" y2="2360.8438"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1569.5" x2="2120.5" y1="2368.8438" y2="2368.8438"/><ellipse cx="1579.5" cy="2382.1641" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="527" x="1588.5" y="2385.5176">CalypsoSamSelection filterByProductType (CalypsoSam.ProductType productType)</text><ellipse cx="1579.5" cy="2397.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="447" x="1588.5" y="2401.1582">CalypsoSamSelection filterBySerialNumber (String serialNumberRegex)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1588.5" y="2416.7988"> </text><ellipse cx="1579.5" cy="2429.0859" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="358" x="1588.5" y="2432.4395">CalypsoSamSelection setUnlockData (String unlockData)</text></g><!--MD5=[f25ff1fa8fa59bbc0543eaadeb7d653a]
class CalypsoSam--><g id="elem_CalypsoSam"><rect codeLine="252" fill="#FEFECE" height="291.8906" id="CalypsoSam" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="349" x="1184.5" y="2233.5625"/><ellipse cx="1299.25" cy="2254.2031" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1300.2031,2250.8438 L1300.2031,2257.5 L1301.9219,2257.5 Q1302.5313,2257.5 1302.7969,2257.7344 Q1303.0625,2257.9688 1303.0625,2258.3594 Q1303.0625,2258.7344 1302.7969,2258.9688 Q1302.5313,2259.2031 1301.9219,2259.2031 L1296.7813,2259.2031 Q1296.1719,2259.2031 1295.9063,2258.9688 Q1295.6406,2258.7344 1295.6406,2258.3438 Q1295.6406,2257.9688 1295.9063,2257.7344 Q1296.1719,2257.5 1296.7813,2257.5 L1298.5,2257.5 L1298.5,2250.8438 L1296.7813,2250.8438 Q1296.1719,2250.8438 1295.9063,2250.6094 Q1295.6406,2250.375 1295.6406,2249.9844 Q1295.6406,2249.6094 1295.9063,2249.375 Q1296.1719,2249.1406 1296.7813,2249.1406 L1301.9219,2249.1406 Q1302.5313,2249.1406 1302.7969,2249.375 Q1303.0625,2249.6094 1303.0625,2249.9844 Q1303.0625,2250.375 1302.7969,2250.6094 Q1302.5313,2250.8438 1301.9219,2250.8438 L1300.2031,2250.8438 Z " fill="#000000"/><ellipse cx="1324.75" cy="2253.7031" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="16" x="1330.75" y="2251.2363">&lt;&lt;</text><text fill="#000000" filter="url(#bzkloum6jd8yu0)" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="68" x="1346.75" y="2251.2363">SmartCard</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="16" x="1414.75" y="2251.2363">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="1341.25" y="2266.877">CalypsoSam</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1185.5" x2="1532.5" y1="2274.8438" y2="2274.8438"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1185.5" x2="1532.5" y1="2282.8438" y2="2282.8438"/><ellipse cx="1195.5" cy="2296.1641" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200" x="1204.5" y="2299.5176">ProductType getProductType ()</text><ellipse cx="1195.5" cy="2311.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="1204.5" y="2315.1582">String getProductInfo ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1204.5" y="2330.7988"> </text><ellipse cx="1195.5" cy="2343.0859" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="1204.5" y="2346.4395">byte[] getSerialNumber ()</text><ellipse cx="1195.5" cy="2358.7266" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="1204.5" y="2362.0801">byte getPlatform ()</text><ellipse cx="1195.5" cy="2374.3672" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166" x="1204.5" y="2377.7207">byte getApplicationType ()</text><ellipse cx="1195.5" cy="2390.0078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191" x="1204.5" y="2393.3613">byte getApplicationSubType ()</text><ellipse cx="1195.5" cy="2405.6484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="1204.5" y="2409.002">byte getSoftwareIssuer ()</text><ellipse cx="1195.5" cy="2421.2891" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="1204.5" y="2424.6426">byte getSoftwareVersion ()</text><ellipse cx="1195.5" cy="2436.9297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="1204.5" y="2440.2832">byte getSoftwareRevision ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1204.5" y="2455.9238"> </text><ellipse cx="1195.5" cy="2468.2109" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="323" x="1204.5" y="2471.5645">Integer getEventCounter (int eventCounterNumber)</text><ellipse cx="1195.5" cy="2483.8516" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="313" x="1204.5" y="2487.2051">SortedMap&lt;Integer, Integer&gt; getEventCounters ()</text><ellipse cx="1195.5" cy="2499.4922" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="307" x="1204.5" y="2502.8457">Integer getEventCeiling (int eventCeilingNumber)</text><ellipse cx="1195.5" cy="2515.1328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="305" x="1204.5" y="2518.4863">SortedMap&lt;Integer, Integer&gt; getEventCeilings ()</text></g><!--MD5=[64db2d10778acf6b7b903aeb76cb16f8]
class SamProductType--><g id="elem_SamProductType"><rect codeLine="269" fill="#FEFECE" height="141.8438" id="SamProductType" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="124" x="1338" y="2601.5625"/><ellipse cx="1353" cy="2617.5625" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1351.8594,2618.3594 L1351.8594,2620.8594 L1356.1875,2620.8594 L1356.1875,2619.9375 Q1356.1875,2619.3281 1356.4219,2619.0625 Q1356.6719,2618.7969 1357.0469,2618.7969 Q1357.4219,2618.7969 1357.6563,2619.0625 Q1357.8906,2619.3281 1357.8906,2619.9375 L1357.8906,2622.5625 L1349.8906,2622.5625 Q1349.2656,2622.5625 1349,2622.3281 Q1348.75,2622.0938 1348.75,2621.7031 Q1348.75,2621.3281 1349.0156,2621.0938 Q1349.2813,2620.8594 1349.8906,2620.8594 L1350.1563,2620.8594 L1350.1563,2614.2031 L1349.8906,2614.2031 Q1349.2656,2614.2031 1349,2613.9688 Q1348.75,2613.7344 1348.75,2613.3438 Q1348.75,2612.9688 1349,2612.7344 Q1349.2656,2612.5 1349.8906,2612.5 L1357.5156,2612.5 L1357.5156,2615.0938 Q1357.5156,2615.7031 1357.2813,2615.9688 Q1357.0625,2616.2188 1356.6719,2616.2188 Q1356.2969,2616.2188 1356.0625,2615.9688 Q1355.8281,2615.7031 1355.8281,2615.0938 L1355.8281,2614.2031 L1351.8594,2614.2031 L1351.8594,2616.6563 L1353.3438,2616.6563 Q1353.3438,2616 1353.4688,2615.8125 Q1353.7344,2615.4063 1354.2031,2615.4063 Q1354.5781,2615.4063 1354.8125,2615.6719 Q1355.0469,2615.9219 1355.0469,2616.5313 L1355.0469,2618.5 Q1355.0469,2619.0469 1354.9219,2619.2344 Q1354.6563,2619.625 1354.2031,2619.625 Q1353.7344,2619.625 1353.4688,2619.2188 Q1353.3438,2619.0313 1353.3438,2618.3594 L1351.8594,2618.3594 Z " fill="#000000"/><ellipse cx="1372" cy="2617.0625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="1378" y="2622.416">ProductType</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1339" x2="1461" y1="2633.5625" y2="2633.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="1344" y="2650.2363">SAM_C1</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="1344" y="2665.877">HSM_C1</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="1344" y="2681.5176">SAM_S1E1</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="1344" y="2697.1582">SAM_S1Dx</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="1344" y="2712.7988">CSAM_F</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="1344" y="2728.4395">UNKNOWN</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1339" x2="1461" y1="2735.4063" y2="2735.4063"/></g><!--MD5=[da61a391893b692be16caea6f1f8a515]
class CommonTransactionManager--><g id="elem_CommonTransactionManager"><rect codeLine="280" fill="#FEFECE" height="157.4844" id="CommonTransactionManager" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="504" x="1574" y="539.5625"/><ellipse cx="1593.95" cy="555.5625" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1594.9031,552.2031 L1594.9031,558.8594 L1596.6219,558.8594 Q1597.2313,558.8594 1597.4969,559.0938 Q1597.7625,559.3281 1597.7625,559.7188 Q1597.7625,560.0938 1597.4969,560.3281 Q1597.2313,560.5625 1596.6219,560.5625 L1591.4813,560.5625 Q1590.8719,560.5625 1590.6063,560.3281 Q1590.3406,560.0938 1590.3406,559.7031 Q1590.3406,559.3281 1590.6063,559.0938 Q1590.8719,558.8594 1591.4813,558.8594 L1593.2,558.8594 L1593.2,552.2031 L1591.4813,552.2031 Q1590.8719,552.2031 1590.6063,551.9688 Q1590.3406,551.7344 1590.3406,551.3438 Q1590.3406,550.9688 1590.6063,550.7344 Q1590.8719,550.5 1591.4813,550.5 L1596.6219,550.5 Q1597.2313,550.5 1597.4969,550.7344 Q1597.7625,550.9688 1597.7625,551.3438 Q1597.7625,551.7344 1597.4969,551.9688 Q1597.2313,552.2031 1596.6219,552.2031 L1594.9031,552.2031 Z " fill="#000000"/><ellipse cx="1614.05" cy="555.0625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="188" x="1620.05" y="560.416">CommonTransactionManager</text><rect fill="#FFFFFF" height="28.8125" style="stroke:#D4AC0D;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="260" x="1821" y="536.5625"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="258" x="1822" y="548.4258">T extends CommonTransactionManager&lt;T, S&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="213" x="1844.5" y="561.832">S extends CommonSecuritySetting&lt;S&gt;</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1575" x2="2077" y1="571.5625" y2="571.5625"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1575" x2="2077" y1="579.5625" y2="579.5625"/><ellipse cx="1585" cy="592.8828" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="1594" y="596.2363">S getSecuritySetting ()</text><ellipse cx="1585" cy="608.5234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="248" x="1594" y="611.877">List&lt;byte[]&gt; getTransactionAuditData ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1594" y="627.5176"> </text><ellipse cx="1585" cy="639.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="478" x="1594" y="643.1582">T prepareComputeSignature (CommonSignatureComputationData&lt;?&gt; data)</text><ellipse cx="1585" cy="655.4453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="447" x="1594" y="658.7988">T prepareVerifySignature (CommonSignatureVerificationData&lt;?&gt; data)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1594" y="674.4395"> </text><ellipse cx="1585" cy="686.7266" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="1594" y="690.0801">T processCommands ()</text></g><!--MD5=[c17ae2c2af60537b87d9abee834860c0]
class CommonSignatureComputationData--><g id="elem_CommonSignatureComputationData"><rect codeLine="289" fill="#FEFECE" height="126.2031" id="CommonSignatureComputationData" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="553" x="1396.5" y="275.0625"/><ellipse cx="1411.5" cy="291.0625" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1412.4531,287.7031 L1412.4531,294.3594 L1414.1719,294.3594 Q1414.7813,294.3594 1415.0469,294.5938 Q1415.3125,294.8281 1415.3125,295.2188 Q1415.3125,295.5938 1415.0469,295.8281 Q1414.7813,296.0625 1414.1719,296.0625 L1409.0313,296.0625 Q1408.4219,296.0625 1408.1563,295.8281 Q1407.8906,295.5938 1407.8906,295.2031 Q1407.8906,294.8281 1408.1563,294.5938 Q1408.4219,294.3594 1409.0313,294.3594 L1410.75,294.3594 L1410.75,287.7031 L1409.0313,287.7031 Q1408.4219,287.7031 1408.1563,287.4688 Q1407.8906,287.2344 1407.8906,286.8438 Q1407.8906,286.4688 1408.1563,286.2344 Q1408.4219,286 1409.0313,286 L1414.1719,286 Q1414.7813,286 1415.0469,286.2344 Q1415.3125,286.4688 1415.3125,286.8438 Q1415.3125,287.2344 1415.0469,287.4688 Q1414.7813,287.7031 1414.1719,287.7031 L1412.4531,287.7031 Z " fill="#000000"/><ellipse cx="1430.5" cy="290.5625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="227" x="1436.5" y="295.916">CommonSignatureComputationData</text><rect fill="#FFFFFF" height="15.4063" style="stroke:#D4AC0D;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="281" x="1671.5" y="272.0625"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="279" x="1672.5" y="283.9258">T extends CommonSignatureComputationData&lt;T&gt;</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1397.5" x2="1948.5" y1="307.0625" y2="307.0625"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1397.5" x2="1948.5" y1="315.0625" y2="315.0625"/><ellipse cx="1407.5" cy="328.3828" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="256" x="1416.5" y="331.7363">T setData (byte[] data, byte kif, byte kvc)</text><ellipse cx="1407.5" cy="344.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="1416.5" y="347.377">T setSignatureSize (int size)</text><ellipse cx="1407.5" cy="359.6641" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="233" x="1416.5" y="363.0176">T setKeyDiversifier (byte[] diversifier)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1416.5" y="378.6582"> </text><ellipse cx="1407.5" cy="390.9453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="1416.5" y="394.2988">byte[] getSignature ()</text></g><!--MD5=[c644258d6e85feb715526e24ebfc93b6]
class BasicSignatureComputationData--><g id="elem_BasicSignatureComputationData"><rect codeLine="296" fill="#FEFECE" height="48" id="BasicSignatureComputationData" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="248" x="1291" y="594.0625"/><ellipse cx="1306" cy="610.0625" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1306.9531,606.7031 L1306.9531,613.3594 L1308.6719,613.3594 Q1309.2813,613.3594 1309.5469,613.5938 Q1309.8125,613.8281 1309.8125,614.2188 Q1309.8125,614.5938 1309.5469,614.8281 Q1309.2813,615.0625 1308.6719,615.0625 L1303.5313,615.0625 Q1302.9219,615.0625 1302.6563,614.8281 Q1302.3906,614.5938 1302.3906,614.2031 Q1302.3906,613.8281 1302.6563,613.5938 Q1302.9219,613.3594 1303.5313,613.3594 L1305.25,613.3594 L1305.25,606.7031 L1303.5313,606.7031 Q1302.9219,606.7031 1302.6563,606.4688 Q1302.3906,606.2344 1302.3906,605.8438 Q1302.3906,605.4688 1302.6563,605.2344 Q1302.9219,605 1303.5313,605 L1308.6719,605 Q1309.2813,605 1309.5469,605.2344 Q1309.8125,605.4688 1309.8125,605.8438 Q1309.8125,606.2344 1309.5469,606.4688 Q1309.2813,606.7031 1308.6719,606.7031 L1306.9531,606.7031 Z " fill="#000000"/><ellipse cx="1325" cy="609.5625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="205" x="1331" y="614.916">BasicSignatureComputationData</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1292" x2="1538" y1="626.0625" y2="626.0625"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1292" x2="1538" y1="634.0625" y2="634.0625"/></g><!--MD5=[cdc2fcd8768bdabfe9b56e9f578bd14d]
class TraceableSignatureComputationData--><g id="elem_TraceableSignatureComputationData"><rect codeLine="298" fill="#FEFECE" height="110.5625" id="TraceableSignatureComputationData" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="732" x="524" y="562.5625"/><ellipse cx="762.75" cy="578.5625" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M763.7031,575.2031 L763.7031,581.8594 L765.4219,581.8594 Q766.0313,581.8594 766.2969,582.0938 Q766.5625,582.3281 766.5625,582.7188 Q766.5625,583.0938 766.2969,583.3281 Q766.0313,583.5625 765.4219,583.5625 L760.2813,583.5625 Q759.6719,583.5625 759.4063,583.3281 Q759.1406,583.0938 759.1406,582.7031 Q759.1406,582.3281 759.4063,582.0938 Q759.6719,581.8594 760.2813,581.8594 L762,581.8594 L762,575.2031 L760.2813,575.2031 Q759.6719,575.2031 759.4063,574.9688 Q759.1406,574.7344 759.1406,574.3438 Q759.1406,573.9688 759.4063,573.7344 Q759.6719,573.5 760.2813,573.5 L765.4219,573.5 Q766.0313,573.5 766.2969,573.7344 Q766.5625,573.9688 766.5625,574.3438 Q766.5625,574.7344 766.2969,574.9688 Q766.0313,575.2031 765.4219,575.2031 L763.7031,575.2031 Z " fill="#000000"/><ellipse cx="788.25" cy="578.0625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="235" x="794.25" y="583.416">TraceableSignatureComputationData</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="525" x2="1255" y1="594.5625" y2="594.5625"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="525" x2="1255" y1="602.5625" y2="602.5625"/><ellipse cx="535" cy="615.8828" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="706" x="544" y="619.2363">TraceableSignatureComputationData withSamTraceabilityMode (int offset, boolean usePartialSamSerialNumber)</text><ellipse cx="535" cy="631.5234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="363" x="544" y="634.877">TraceableSignatureComputationData withoutBusyMode ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="544" y="650.5176"> </text><ellipse cx="535" cy="662.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="544" y="666.1582">byte[] getSignedData ()</text></g><!--MD5=[49815161954875a46b9e77877b8c8585]
class CommonSignatureVerificationData--><g id="elem_CommonSignatureVerificationData"><rect codeLine="304" fill="#FEFECE" height="110.5625" id="CommonSignatureVerificationData" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="533" x="1984.5" y="282.5625"/><ellipse cx="1999.5" cy="298.5625" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2000.4531,295.2031 L2000.4531,301.8594 L2002.1719,301.8594 Q2002.7813,301.8594 2003.0469,302.0938 Q2003.3125,302.3281 2003.3125,302.7188 Q2003.3125,303.0938 2003.0469,303.3281 Q2002.7813,303.5625 2002.1719,303.5625 L1997.0313,303.5625 Q1996.4219,303.5625 1996.1563,303.3281 Q1995.8906,303.0938 1995.8906,302.7031 Q1995.8906,302.3281 1996.1563,302.0938 Q1996.4219,301.8594 1997.0313,301.8594 L1998.75,301.8594 L1998.75,295.2031 L1997.0313,295.2031 Q1996.4219,295.2031 1996.1563,294.9688 Q1995.8906,294.7344 1995.8906,294.3438 Q1995.8906,293.9688 1996.1563,293.7344 Q1996.4219,293.5 1997.0313,293.5 L2002.1719,293.5 Q2002.7813,293.5 2003.0469,293.7344 Q2003.3125,293.9688 2003.3125,294.3438 Q2003.3125,294.7344 2003.0469,294.9688 Q2002.7813,295.2031 2002.1719,295.2031 L2000.4531,295.2031 Z " fill="#000000"/><ellipse cx="2018.5" cy="298.0625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="217" x="2024.5" y="303.416">CommonSignatureVerificationData</text><rect fill="#FFFFFF" height="15.4063" style="stroke:#D4AC0D;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="271" x="2249.5" y="279.5625"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="269" x="2250.5" y="291.4258">T extends CommonSignatureVerificationData&lt;T&gt;</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1985.5" x2="2516.5" y1="314.5625" y2="314.5625"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1985.5" x2="2516.5" y1="322.5625" y2="322.5625"/><ellipse cx="1995.5" cy="335.8828" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="362" x="2004.5" y="339.2363">T setData (byte[] data, byte[] signature, byte kif, byte kvc)</text><ellipse cx="1995.5" cy="351.5234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="233" x="2004.5" y="354.877">T setKeyDiversifier (byte[] diversifier)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="2004.5" y="370.5176"> </text><ellipse cx="1995.5" cy="382.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171" x="2004.5" y="386.1582">boolean isSignatureValid ()</text></g><!--MD5=[792b97716737da270761df73939131ae]
class BasicSignatureVerificationData--><g id="elem_BasicSignatureVerificationData"><rect codeLine="310" fill="#FEFECE" height="48" id="BasicSignatureVerificationData" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="238" x="2113" y="594.0625"/><ellipse cx="2128" cy="610.0625" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2128.9531,606.7031 L2128.9531,613.3594 L2130.6719,613.3594 Q2131.2813,613.3594 2131.5469,613.5938 Q2131.8125,613.8281 2131.8125,614.2188 Q2131.8125,614.5938 2131.5469,614.8281 Q2131.2813,615.0625 2130.6719,615.0625 L2125.5313,615.0625 Q2124.9219,615.0625 2124.6563,614.8281 Q2124.3906,614.5938 2124.3906,614.2031 Q2124.3906,613.8281 2124.6563,613.5938 Q2124.9219,613.3594 2125.5313,613.3594 L2127.25,613.3594 L2127.25,606.7031 L2125.5313,606.7031 Q2124.9219,606.7031 2124.6563,606.4688 Q2124.3906,606.2344 2124.3906,605.8438 Q2124.3906,605.4688 2124.6563,605.2344 Q2124.9219,605 2125.5313,605 L2130.6719,605 Q2131.2813,605 2131.5469,605.2344 Q2131.8125,605.4688 2131.8125,605.8438 Q2131.8125,606.2344 2131.5469,606.4688 Q2131.2813,606.7031 2130.6719,606.7031 L2128.9531,606.7031 Z " fill="#000000"/><ellipse cx="2147" cy="609.5625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="195" x="2153" y="614.916">BasicSignatureVerificationData</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2114" x2="2350" y1="626.0625" y2="626.0625"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2114" x2="2350" y1="634.0625" y2="634.0625"/></g><!--MD5=[2fc7953a0035a8aa989ea0d75f9f7d1b]
class TraceableSignatureVerificationData--><g id="elem_TraceableSignatureVerificationData"><rect codeLine="312" fill="#FEFECE" height="79.2813" id="TraceableSignatureVerificationData" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="948" x="2386" y="578.5625"/><ellipse cx="2737.75" cy="594.5625" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2738.7031,591.2031 L2738.7031,597.8594 L2740.4219,597.8594 Q2741.0313,597.8594 2741.2969,598.0938 Q2741.5625,598.3281 2741.5625,598.7188 Q2741.5625,599.0938 2741.2969,599.3281 Q2741.0313,599.5625 2740.4219,599.5625 L2735.2813,599.5625 Q2734.6719,599.5625 2734.4063,599.3281 Q2734.1406,599.0938 2734.1406,598.7031 Q2734.1406,598.3281 2734.4063,598.0938 Q2734.6719,597.8594 2735.2813,597.8594 L2737,597.8594 L2737,591.2031 L2735.2813,591.2031 Q2734.6719,591.2031 2734.4063,590.9688 Q2734.1406,590.7344 2734.1406,590.3438 Q2734.1406,589.9688 2734.4063,589.7344 Q2734.6719,589.5 2735.2813,589.5 L2740.4219,589.5 Q2741.0313,589.5 2741.2969,589.7344 Q2741.5625,589.9688 2741.5625,590.3438 Q2741.5625,590.7344 2741.2969,590.9688 Q2741.0313,591.2031 2740.4219,591.2031 L2738.7031,591.2031 Z " fill="#000000"/><ellipse cx="2763.25" cy="594.0625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="225" x="2769.25" y="599.416">TraceableSignatureVerificationData</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2387" x2="3333" y1="610.5625" y2="610.5625"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2387" x2="3333" y1="618.5625" y2="618.5625"/><ellipse cx="2397" cy="631.8828" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="922" x="2406" y="635.2363">TraceableSignatureVerificationData withSamTraceabilityMode (int offset, boolean isPartialSamSerialNumber, boolean checkSamRevocationStatus)</text><ellipse cx="2397" cy="647.5234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="353" x="2406" y="650.877">TraceableSignatureVerificationData withoutBusyMode ()</text></g><!--MD5=[27e9236557a0ea65dd842b05562c1db2]
class CommonSecuritySetting--><g id="elem_CommonSecuritySetting"><rect codeLine="316" fill="#FEFECE" height="79.2813" id="CommonSecuritySetting" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="529" x="1406.5" y="1210.5625"/><ellipse cx="1477.25" cy="1226.5625" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1478.2031,1223.2031 L1478.2031,1229.8594 L1479.9219,1229.8594 Q1480.5313,1229.8594 1480.7969,1230.0938 Q1481.0625,1230.3281 1481.0625,1230.7188 Q1481.0625,1231.0938 1480.7969,1231.3281 Q1480.5313,1231.5625 1479.9219,1231.5625 L1474.7813,1231.5625 Q1474.1719,1231.5625 1473.9063,1231.3281 Q1473.6406,1231.0938 1473.6406,1230.7031 Q1473.6406,1230.3281 1473.9063,1230.0938 Q1474.1719,1229.8594 1474.7813,1229.8594 L1476.5,1229.8594 L1476.5,1223.2031 L1474.7813,1223.2031 Q1474.1719,1223.2031 1473.9063,1222.9688 Q1473.6406,1222.7344 1473.6406,1222.3438 Q1473.6406,1221.9688 1473.9063,1221.7344 Q1474.1719,1221.5 1474.7813,1221.5 L1479.9219,1221.5 Q1480.5313,1221.5 1480.7969,1221.7344 Q1481.0625,1221.9688 1481.0625,1222.3438 Q1481.0625,1222.7344 1480.7969,1222.9688 Q1480.5313,1223.2031 1479.9219,1223.2031 L1478.2031,1223.2031 Z " fill="#000000"/><ellipse cx="1502.75" cy="1226.0625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="151" x="1508.75" y="1231.416">CommonSecuritySetting</text><rect fill="#FFFFFF" height="15.4063" style="stroke:#D4AC0D;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="215" x="1723.5" y="1207.5625"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="213" x="1724.5" y="1219.4258">S extends CommonSecuritySetting&lt;S&gt;</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1407.5" x2="1934.5" y1="1242.5625" y2="1242.5625"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1407.5" x2="1934.5" y1="1250.5625" y2="1250.5625"/><ellipse cx="1417.5" cy="1263.8828" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="1426.5" y="1267.2363">S setControlSamResource (</text><text fill="#000000" filter="url(#bzkloum6jd8yu0)" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1602.5" y="1267.2363">CardReader</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="245" x="1684.5" y="1267.2363">samReader, CalypsoSam calypsoSam)</text><ellipse cx="1417.5" cy="1279.5234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="427" x="1426.5" y="1282.877">S setSamRevocationServiceSpi (SamRevocationServiceSpi service)</text></g><!--MD5=[92be3b4089a2693ac3db71f8eb03f488]
class CardTransactionManager--><g id="elem_CardTransactionManager"><rect codeLine="321" fill="#FEFECE" height="955.1563" id="CardTransactionManager" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="913" x="1970.5" y="772.5625"/><ellipse cx="2335.75" cy="788.5625" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2336.7031,785.2031 L2336.7031,791.8594 L2338.4219,791.8594 Q2339.0313,791.8594 2339.2969,792.0938 Q2339.5625,792.3281 2339.5625,792.7188 Q2339.5625,793.0938 2339.2969,793.3281 Q2339.0313,793.5625 2338.4219,793.5625 L2333.2813,793.5625 Q2332.6719,793.5625 2332.4063,793.3281 Q2332.1406,793.0938 2332.1406,792.7031 Q2332.1406,792.3281 2332.4063,792.0938 Q2332.6719,791.8594 2333.2813,791.8594 L2335,791.8594 L2335,785.2031 L2333.2813,785.2031 Q2332.6719,785.2031 2332.4063,784.9688 Q2332.1406,784.7344 2332.1406,784.3438 Q2332.1406,783.9688 2332.4063,783.7344 Q2332.6719,783.5 2333.2813,783.5 L2338.4219,783.5 Q2339.0313,783.5 2339.2969,783.7344 Q2339.5625,783.9688 2339.5625,784.3438 Q2339.5625,784.7344 2339.2969,784.9688 Q2339.0313,785.2031 2338.4219,785.2031 L2336.7031,785.2031 Z " fill="#000000"/><ellipse cx="2361.25" cy="788.0625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="163" x="2367.25" y="793.416">CardTransactionManager</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1971.5" x2="2882.5" y1="804.5625" y2="804.5625"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1971.5" x2="2882.5" y1="812.5625" y2="812.5625"/><ellipse cx="1981.5" cy="825.8828" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" filter="url(#bzkloum6jd8yu0)" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1990.5" y="829.2363">CardReader</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="2072.5" y="829.2363">getCardReader ()</text><ellipse cx="1981.5" cy="841.5234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202" x="1990.5" y="844.877">CalypsoCard getCalypsoCard ()</text><ellipse cx="1981.5" cy="857.1641" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="290" x="1990.5" y="860.5176">CardSecuritySetting getCardSecuritySetting ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1990.5" y="876.1582"> </text><ellipse cx="1981.5" cy="888.4453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="345" x="1990.5" y="891.7988">CardTransactionManager prepareSelectFile (byte[] lid)</text><ellipse cx="1981.5" cy="904.0859" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="342" x="1990.5" y="907.4395">CardTransactionManager prepareSelectFile (short lid)</text><ellipse cx="1981.5" cy="919.7266" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="510" x="1990.5" y="923.0801">CardTransactionManager prepareSelectFile (SelectFileControl selectFileControl)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1990.5" y="938.7207"> </text><ellipse cx="1981.5" cy="951.0078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="385" x="1990.5" y="954.3613">CardTransactionManager prepareGetData (GetDataTag tag)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1990.5" y="970.002"> </text><ellipse cx="1981.5" cy="982.2891" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="495" x="1990.5" y="985.6426">CardTransactionManager prepareReadRecordFile (byte sfi, int recordNumber)</text><ellipse cx="1981.5" cy="997.9297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="760" x="1990.5" y="1001.2832">CardTransactionManager prepareReadRecordFile (byte sfi, int firstRecordNumber, int numberOfRecords, int recordSize)</text><ellipse cx="1981.5" cy="1013.5703" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="514" x="1990.5" y="1016.9238">CardTransactionManager prepareReadCounterFile (byte sfi, int countersNumber)</text><ellipse cx="1981.5" cy="1029.2109" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="472" x="1990.5" y="1032.5645">CardTransactionManager prepareReadRecord (byte sfi, int recordNumber)</text><ellipse cx="1981.5" cy="1044.8516" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="740" x="1990.5" y="1048.2051">CardTransactionManager prepareReadRecords (byte sfi, int fromRecordNumber, int toRecordNumber, int recordSize)</text><ellipse cx="1981.5" cy="1060.4922" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="887" x="1990.5" y="1063.8457">CardTransactionManager prepareReadRecordsPartially (byte sfi, int fromRecordNumber, int toRecordNumber, int offset, int nbBytesToRead)</text><ellipse cx="1981.5" cy="1076.1328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="540" x="1990.5" y="1079.4863">CardTransactionManager prepareReadBinary (byte sfi, int offset, int nbBytesToRead)</text><ellipse cx="1981.5" cy="1091.7734" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="512" x="1990.5" y="1095.127">CardTransactionManager prepareReadCounter (byte sfi, int nbCountersToRead)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1990.5" y="1110.7676"> </text><ellipse cx="1981.5" cy="1123.0547" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="499" x="1990.5" y="1126.4082">CardTransactionManager prepareSearchRecords (SearchCommandData data)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1990.5" y="1142.0488"> </text><ellipse cx="1981.5" cy="1154.3359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="330" x="1990.5" y="1157.6895">CardTransactionManager prepareCheckPinStatus ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1990.5" y="1173.3301"> </text><ellipse cx="1981.5" cy="1185.6172" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="488" x="1990.5" y="1188.9707">CardTransactionManager prepareAppendRecord (byte sfi, byte[] recordData)</text><ellipse cx="1981.5" cy="1201.2578" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="601" x="1990.5" y="1204.6113">CardTransactionManager prepareUpdateRecord (byte sfi, int recordNumber, byte[] recordData)</text><ellipse cx="1981.5" cy="1216.8984" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="589" x="1990.5" y="1220.252">CardTransactionManager prepareWriteRecord (byte sfi, int recordNumber, byte[] recordData)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1990.5" y="1235.8926"> </text><ellipse cx="1981.5" cy="1248.1797" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="497" x="1990.5" y="1251.5332">CardTransactionManager prepareUpdateBinary (byte sfi, int offset, byte[] data)</text><ellipse cx="1981.5" cy="1263.8203" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="485" x="1990.5" y="1267.1738">CardTransactionManager prepareWriteBinary (byte sfi, int offset, byte[] data)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1990.5" y="1282.8145"> </text><ellipse cx="1981.5" cy="1295.1016" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="585" x="1990.5" y="1298.4551">CardTransactionManager prepareIncreaseCounter (byte sfi, int counterNumber, int incValue)</text><ellipse cx="1981.5" cy="1310.7422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="729" x="1990.5" y="1314.0957">CardTransactionManager prepareIncreaseCounters(byte sfi, Map&lt;Integer, Integer&gt; counterNumberToIncValueMap)</text><ellipse cx="1981.5" cy="1326.3828" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="597" x="1990.5" y="1329.7363">CardTransactionManager prepareDecreaseCounter (byte sfi, int counterNumber, int decValue)</text><ellipse cx="1981.5" cy="1342.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="743" x="1990.5" y="1345.377">CardTransactionManager prepareDecreaseCounters(byte sfi, Map&lt;Integer, Integer&gt; counterNumberToDecValueMap)</text><ellipse cx="1981.5" cy="1357.6641" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="559" x="1990.5" y="1361.0176">CardTransactionManager prepareSetCounter (byte sfi, int counterNumber, int newValue)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1990.5" y="1376.6582"> </text><ellipse cx="1981.5" cy="1388.9453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="549" x="1990.5" y="1392.2988">CardTransactionManager prepareSvGet (SvOperation svOperation, SvAction svAction)</text><ellipse cx="1981.5" cy="1404.5859" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="577" x="1990.5" y="1407.9395">CardTransactionManager prepareSvReload (int amount, byte[] date, byte[] time, byte[] free)</text><ellipse cx="1981.5" cy="1420.2266" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="357" x="1990.5" y="1423.5801">CardTransactionManager prepareSvReload (int amount)</text><ellipse cx="1981.5" cy="1435.8672" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="493" x="1990.5" y="1439.2207">CardTransactionManager prepareSvDebit (int amount, byte[] date, byte[] time)</text><ellipse cx="1981.5" cy="1451.5078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="345" x="1990.5" y="1454.8613">CardTransactionManager prepareSvDebit (int amount)</text><ellipse cx="1981.5" cy="1467.1484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="326" x="1990.5" y="1470.502">CardTransactionManager prepareSvReadAllLogs ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1990.5" y="1486.1426"> </text><ellipse cx="1981.5" cy="1498.4297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="290" x="1990.5" y="1501.7832">CardTransactionManager prepareInvalidate ()</text><ellipse cx="1981.5" cy="1514.0703" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="305" x="1990.5" y="1517.4238">CardTransactionManager prepareRehabilitate ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1990.5" y="1533.0645"> </text><ellipse cx="1981.5" cy="1545.3516" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="366" x="1990.5" y="1548.7051">CardTransactionManager prepareReleaseCardChannel ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1990.5" y="1564.3457"> </text><ellipse cx="1981.5" cy="1576.6328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="332" x="1990.5" y="1579.9863">CardTransactionManager processCardCommands ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1990.5" y="1595.627"> </text><ellipse cx="1981.5" cy="1607.9141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="344" x="1990.5" y="1611.2676">CardTransactionManager processVerifyPin (byte[] pin)</text><ellipse cx="1981.5" cy="1623.5547" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="384" x="1990.5" y="1626.9082">CardTransactionManager processChangePin (byte[] newPin)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1990.5" y="1642.5488"> </text><ellipse cx="1981.5" cy="1654.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="738" x="1990.5" y="1658.1895">CardTransactionManager processChangeKey (int keyIndex, byte newKif, byte newKvc, byte issuerKif, byte issuerKvc)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1990.5" y="1673.8301"> </text><ellipse cx="1981.5" cy="1686.1172" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="508" x="1990.5" y="1689.4707">CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel)</text><ellipse cx="1981.5" cy="1701.7578" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="277" x="1990.5" y="1705.1113">CardTransactionManager processClosing ()</text><ellipse cx="1981.5" cy="1717.3984" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="274" x="1990.5" y="1720.752">CardTransactionManager processCancel ()</text></g><!--MD5=[80899d8261aafdb2d3733adc7bf0e757]
class SvOperation--><g id="elem_SvOperation"><rect codeLine="381" fill="#FEFECE" height="79.2813" id="SvOperation" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="122" x="2221" y="1921.0625"/><ellipse cx="2236" cy="1937.0625" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2234.8594,1937.8594 L2234.8594,1940.3594 L2239.1875,1940.3594 L2239.1875,1939.4375 Q2239.1875,1938.8281 2239.4219,1938.5625 Q2239.6719,1938.2969 2240.0469,1938.2969 Q2240.4219,1938.2969 2240.6563,1938.5625 Q2240.8906,1938.8281 2240.8906,1939.4375 L2240.8906,1942.0625 L2232.8906,1942.0625 Q2232.2656,1942.0625 2232,1941.8281 Q2231.75,1941.5938 2231.75,1941.2031 Q2231.75,1940.8281 2232.0156,1940.5938 Q2232.2813,1940.3594 2232.8906,1940.3594 L2233.1563,1940.3594 L2233.1563,1933.7031 L2232.8906,1933.7031 Q2232.2656,1933.7031 2232,1933.4688 Q2231.75,1933.2344 2231.75,1932.8438 Q2231.75,1932.4688 2232,1932.2344 Q2232.2656,1932 2232.8906,1932 L2240.5156,1932 L2240.5156,1934.5938 Q2240.5156,1935.2031 2240.2813,1935.4688 Q2240.0625,1935.7188 2239.6719,1935.7188 Q2239.2969,1935.7188 2239.0625,1935.4688 Q2238.8281,1935.2031 2238.8281,1934.5938 L2238.8281,1933.7031 L2234.8594,1933.7031 L2234.8594,1936.1563 L2236.3438,1936.1563 Q2236.3438,1935.5 2236.4688,1935.3125 Q2236.7344,1934.9063 2237.2031,1934.9063 Q2237.5781,1934.9063 2237.8125,1935.1719 Q2238.0469,1935.4219 2238.0469,1936.0313 L2238.0469,1938 Q2238.0469,1938.5469 2237.9219,1938.7344 Q2237.6563,1939.125 2237.2031,1939.125 Q2236.7344,1939.125 2236.4688,1938.7188 Q2236.3438,1938.5313 2236.3438,1937.8594 L2234.8594,1937.8594 Z " fill="#000000"/><ellipse cx="2255" cy="1936.5625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="2261" y="1941.916">SvOperation</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2222" x2="2342" y1="1953.0625" y2="1953.0625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="2227" y="1969.7363">RELOAD</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="2227" y="1985.377">DEBIT</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2222" x2="2342" y1="1992.3438" y2="1992.3438"/></g><!--MD5=[3a20855ad37700d9231151c7156c605b]
class SvAction--><g id="elem_SvAction"><rect codeLine="385" fill="#FEFECE" height="79.2813" id="SvAction" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="98" x="2378" y="1921.0625"/><ellipse cx="2393" cy="1937.0625" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2391.8594,1937.8594 L2391.8594,1940.3594 L2396.1875,1940.3594 L2396.1875,1939.4375 Q2396.1875,1938.8281 2396.4219,1938.5625 Q2396.6719,1938.2969 2397.0469,1938.2969 Q2397.4219,1938.2969 2397.6563,1938.5625 Q2397.8906,1938.8281 2397.8906,1939.4375 L2397.8906,1942.0625 L2389.8906,1942.0625 Q2389.2656,1942.0625 2389,1941.8281 Q2388.75,1941.5938 2388.75,1941.2031 Q2388.75,1940.8281 2389.0156,1940.5938 Q2389.2813,1940.3594 2389.8906,1940.3594 L2390.1563,1940.3594 L2390.1563,1933.7031 L2389.8906,1933.7031 Q2389.2656,1933.7031 2389,1933.4688 Q2388.75,1933.2344 2388.75,1932.8438 Q2388.75,1932.4688 2389,1932.2344 Q2389.2656,1932 2389.8906,1932 L2397.5156,1932 L2397.5156,1934.5938 Q2397.5156,1935.2031 2397.2813,1935.4688 Q2397.0625,1935.7188 2396.6719,1935.7188 Q2396.2969,1935.7188 2396.0625,1935.4688 Q2395.8281,1935.2031 2395.8281,1934.5938 L2395.8281,1933.7031 L2391.8594,1933.7031 L2391.8594,1936.1563 L2393.3438,1936.1563 Q2393.3438,1935.5 2393.4688,1935.3125 Q2393.7344,1934.9063 2394.2031,1934.9063 Q2394.5781,1934.9063 2394.8125,1935.1719 Q2395.0469,1935.4219 2395.0469,1936.0313 L2395.0469,1938 Q2395.0469,1938.5469 2394.9219,1938.7344 Q2394.6563,1939.125 2394.2031,1939.125 Q2393.7344,1939.125 2393.4688,1938.7188 Q2393.3438,1938.5313 2393.3438,1937.8594 L2391.8594,1937.8594 Z " fill="#000000"/><ellipse cx="2412" cy="1936.5625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="2418" y="1941.916">SvAction</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2379" x2="2475" y1="1953.0625" y2="1953.0625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21" x="2384" y="1969.7363">DO</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="2384" y="1985.377">UNDO</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2379" x2="2475" y1="1992.3438" y2="1992.3438"/></g><!--MD5=[902430ab886935d86a17fe3ee56b883e]
class CardSecuritySetting--><g id="elem_CardSecuritySetting"><rect codeLine="389" fill="#FEFECE" height="313.8906" id="CardSecuritySetting" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="600" x="1526" y="1803.5625"/><ellipse cx="1753.25" cy="1819.5625" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1754.2031,1816.2031 L1754.2031,1822.8594 L1755.9219,1822.8594 Q1756.5313,1822.8594 1756.7969,1823.0938 Q1757.0625,1823.3281 1757.0625,1823.7188 Q1757.0625,1824.0938 1756.7969,1824.3281 Q1756.5313,1824.5625 1755.9219,1824.5625 L1750.7813,1824.5625 Q1750.1719,1824.5625 1749.9063,1824.3281 Q1749.6406,1824.0938 1749.6406,1823.7031 Q1749.6406,1823.3281 1749.9063,1823.0938 Q1750.1719,1822.8594 1750.7813,1822.8594 L1752.5,1822.8594 L1752.5,1816.2031 L1750.7813,1816.2031 Q1750.1719,1816.2031 1749.9063,1815.9688 Q1749.6406,1815.7344 1749.6406,1815.3438 Q1749.6406,1814.9688 1749.9063,1814.7344 Q1750.1719,1814.5 1750.7813,1814.5 L1755.9219,1814.5 Q1756.5313,1814.5 1756.7969,1814.7344 Q1757.0625,1814.9688 1757.0625,1815.3438 Q1757.0625,1815.7344 1756.7969,1815.9688 Q1756.5313,1816.2031 1755.9219,1816.2031 L1754.2031,1816.2031 Z " fill="#000000"/><ellipse cx="1778.75" cy="1819.0625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="126" x="1784.75" y="1824.416">CardSecuritySetting</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1527" x2="2125" y1="1835.5625" y2="1835.5625"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1527" x2="2125" y1="1843.5625" y2="1843.5625"/><ellipse cx="1537" cy="1856.8828" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="247" x="1546" y="1860.2363">CardSecuritySetting setSamResource (</text><text fill="#000000" filter="url(#bzkloum6jd8yu0)" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="78" x="1793" y="1860.2363">CardReader</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="245" x="1875" y="1860.2363">samReader, CalypsoSam calypsoSam)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1546" y="1875.877"> </text><ellipse cx="1537" cy="1888.1641" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="285" x="1546" y="1891.5176">CardSecuritySetting enableMultipleSession ()</text><ellipse cx="1537" cy="1903.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="328" x="1546" y="1907.1582">CardSecuritySetting enableRatificationMechanism ()</text><ellipse cx="1537" cy="1919.4453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="322" x="1546" y="1922.7988">CardSecuritySetting enablePinPlainTransmission ()</text><ellipse cx="1537" cy="1935.0859" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="317" x="1546" y="1938.4395">CardSecuritySetting enableSvLoadAndDebitLog ()</text><ellipse cx="1537" cy="1950.7266" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="324" x="1546" y="1954.0801">CardSecuritySetting authorizeSvNegativeBalance ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1546" y="1969.7207"> </text><ellipse cx="1537" cy="1982.0078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="538" x="1546" y="1985.3613">CardSecuritySetting assignKif (WriteAccessLevel writeAccessLevel, byte kvc, byte kif)</text><ellipse cx="1537" cy="1997.6484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="523" x="1546" y="2001.002">CardSecuritySetting assignDefaultKif (WriteAccessLevel writeAccessLevel, byte kif)</text><ellipse cx="1537" cy="2013.2891" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="537" x="1546" y="2016.6426">CardSecuritySetting assignDefaultKvc (WriteAccessLevel writeAccessLevel, byte kvc)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1546" y="2032.2832"> </text><ellipse cx="1537" cy="2044.5703" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="414" x="1546" y="2047.9238">CardSecuritySetting addAuthorizedSessionKey (byte kif, byte kvc)</text><ellipse cx="1537" cy="2060.2109" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="380" x="1546" y="2063.5645">CardSecuritySetting addAuthorizedSvKey (byte kif, byte kvc)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1546" y="2079.2051"> </text><ellipse cx="1537" cy="2091.4922" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="443" x="1546" y="2094.8457">CardSecuritySetting setPinVerificationCipheringKey (byte kif, byte kvc)</text><ellipse cx="1537" cy="2107.1328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="448" x="1546" y="2110.4863">CardSecuritySetting setPinModificationCipheringKey (byte kif, byte kvc)</text></g><!--MD5=[70eb8dcb3e9c6b66ae7b5ebbb5f4f3e9]
class SearchCommandData--><g id="elem_SearchCommandData"><rect codeLine="408" fill="#FEFECE" height="188.7656" id="SearchCommandData" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="379" x="2954.5" y="1155.5625"/><ellipse cx="3064.75" cy="1171.5625" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3065.7031,1168.2031 L3065.7031,1174.8594 L3067.4219,1174.8594 Q3068.0313,1174.8594 3068.2969,1175.0938 Q3068.5625,1175.3281 3068.5625,1175.7188 Q3068.5625,1176.0938 3068.2969,1176.3281 Q3068.0313,1176.5625 3067.4219,1176.5625 L3062.2813,1176.5625 Q3061.6719,1176.5625 3061.4063,1176.3281 Q3061.1406,1176.0938 3061.1406,1175.7031 Q3061.1406,1175.3281 3061.4063,1175.0938 Q3061.6719,1174.8594 3062.2813,1174.8594 L3064,1174.8594 L3064,1168.2031 L3062.2813,1168.2031 Q3061.6719,1168.2031 3061.4063,1167.9688 Q3061.1406,1167.7344 3061.1406,1167.3438 Q3061.1406,1166.9688 3061.4063,1166.7344 Q3061.6719,1166.5 3062.2813,1166.5 L3067.4219,1166.5 Q3068.0313,1166.5 3068.2969,1166.7344 Q3068.5625,1166.9688 3068.5625,1167.3438 Q3068.5625,1167.7344 3068.2969,1167.9688 Q3068.0313,1168.2031 3067.4219,1168.2031 L3065.7031,1168.2031 Z " fill="#000000"/><ellipse cx="3090.25" cy="1171.0625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="139" x="3096.25" y="1176.416">SearchCommandData</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2955.5" x2="3332.5" y1="1187.5625" y2="1187.5625"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2955.5" x2="3332.5" y1="1195.5625" y2="1195.5625"/><ellipse cx="2965.5" cy="1208.8828" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="237" x="2974.5" y="1212.2363">SearchCommandData setSfi (byte sfi)</text><ellipse cx="2965.5" cy="1224.5234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="353" x="2974.5" y="1227.877">SearchCommandData startAtRecord (int recordNumber)</text><ellipse cx="2965.5" cy="1240.1641" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="268" x="2974.5" y="1243.5176">SearchCommandData setOffset (int offset)</text><ellipse cx="2965.5" cy="1255.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="300" x="2974.5" y="1259.1582">SearchCommandData enableRepeatedOffset ()</text><ellipse cx="2965.5" cy="1271.4453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="318" x="2974.5" y="1274.7988">SearchCommandData setSearchData (byte[] data)</text><ellipse cx="2965.5" cy="1287.0859" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="281" x="2974.5" y="1290.4395">SearchCommandData setMask (byte[] mask)</text><ellipse cx="2965.5" cy="1302.7266" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="313" x="2974.5" y="1306.0801">SearchCommandData fetchFirstMatchingResult ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="2974.5" y="1321.7207"> </text><ellipse cx="2965.5" cy="1334.0078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="279" x="2974.5" y="1337.3613">List&lt;Integer&gt; getMatchingRecordNumbers ()</text></g><!--MD5=[693a13ab3a6cdba6037243dfcb574254]
class SamTransactionManager--><g id="elem_SamTransactionManager"><rect codeLine="420" fill="#FEFECE" height="188.7656" id="SamTransactionManager" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="739" x="632.5" y="1155.5625"/><ellipse cx="912.25" cy="1171.5625" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M913.2031,1168.2031 L913.2031,1174.8594 L914.9219,1174.8594 Q915.5313,1174.8594 915.7969,1175.0938 Q916.0625,1175.3281 916.0625,1175.7188 Q916.0625,1176.0938 915.7969,1176.3281 Q915.5313,1176.5625 914.9219,1176.5625 L909.7813,1176.5625 Q909.1719,1176.5625 908.9063,1176.3281 Q908.6406,1176.0938 908.6406,1175.7031 Q908.6406,1175.3281 908.9063,1175.0938 Q909.1719,1174.8594 909.7813,1174.8594 L911.5,1174.8594 L911.5,1168.2031 L909.7813,1168.2031 Q909.1719,1168.2031 908.9063,1167.9688 Q908.6406,1167.7344 908.6406,1167.3438 Q908.6406,1166.9688 908.9063,1166.7344 Q909.1719,1166.5 909.7813,1166.5 L914.9219,1166.5 Q915.5313,1166.5 915.7969,1166.7344 Q916.0625,1166.9688 916.0625,1167.3438 Q916.0625,1167.7344 915.7969,1167.9688 Q915.5313,1168.2031 914.9219,1168.2031 L913.2031,1168.2031 Z " fill="#000000"/><ellipse cx="937.75" cy="1171.0625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="160" x="943.75" y="1176.416">SamTransactionManager</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="633.5" x2="1370.5" y1="1187.5625" y2="1187.5625"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="633.5" x2="1370.5" y1="1195.5625" y2="1195.5625"/><ellipse cx="643.5" cy="1208.8828" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" filter="url(#bzkloum6jd8yu0)" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="652.5" y="1212.2363">CardReader</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="734.5" y="1212.2363">getSamReader ()</text><ellipse cx="643.5" cy="1224.5234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196" x="652.5" y="1227.877">CalypsoSam getCalypsoSam ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="652.5" y="1243.5176"> </text><ellipse cx="643.5" cy="1255.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="502" x="652.5" y="1259.1582">SamTransactionManager prepareReadEventCounter (int eventCounterNumber)</text><ellipse cx="643.5" cy="1271.4453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="713" x="652.5" y="1274.7988">SamTransactionManager prepareReadEventCounters (int fromEventCounterNumber, int toEventCounterNumber)</text><ellipse cx="643.5" cy="1287.0859" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="486" x="652.5" y="1290.4395">SamTransactionManager prepareReadEventCeiling (int eventCeilingNumber)</text><ellipse cx="643.5" cy="1302.7266" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="689" x="652.5" y="1306.0801">SamTransactionManager prepareReadEventCeilings (int fromEventCeilingNumber, int toEventCeilingNumber)</text><ellipse cx="643.5" cy="1318.3672" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="573" x="652.5" y="1321.7207">SamTransactionManager prepareWriteEventCeiling (int eventCeilingNumber, int newValue)</text><ellipse cx="643.5" cy="1334.0078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="683" x="652.5" y="1337.3613">SamTransactionManager prepareWriteEventCeilings (int fromEventCeilingNumber, List&lt;Integer&gt; newValues)</text></g><!--MD5=[7540f2bc197295eea372683d3e802e43]
class SamSecuritySetting--><g id="elem_SamSecuritySetting"><rect codeLine="431" fill="#FEFECE" height="48" id="SamSecuritySetting" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="166" x="1179" y="1936.5625"/><ellipse cx="1194" cy="1952.5625" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1194.9531,1949.2031 L1194.9531,1955.8594 L1196.6719,1955.8594 Q1197.2813,1955.8594 1197.5469,1956.0938 Q1197.8125,1956.3281 1197.8125,1956.7188 Q1197.8125,1957.0938 1197.5469,1957.3281 Q1197.2813,1957.5625 1196.6719,1957.5625 L1191.5313,1957.5625 Q1190.9219,1957.5625 1190.6563,1957.3281 Q1190.3906,1957.0938 1190.3906,1956.7031 Q1190.3906,1956.3281 1190.6563,1956.0938 Q1190.9219,1955.8594 1191.5313,1955.8594 L1193.25,1955.8594 L1193.25,1949.2031 L1191.5313,1949.2031 Q1190.9219,1949.2031 1190.6563,1948.9688 Q1190.3906,1948.7344 1190.3906,1948.3438 Q1190.3906,1947.9688 1190.6563,1947.7344 Q1190.9219,1947.5 1191.5313,1947.5 L1196.6719,1947.5 Q1197.2813,1947.5 1197.5469,1947.7344 Q1197.8125,1947.9688 1197.8125,1948.3438 Q1197.8125,1948.7344 1197.5469,1948.9688 Q1197.2813,1949.2031 1196.6719,1949.2031 L1194.9531,1949.2031 Z " fill="#000000"/><ellipse cx="1213" cy="1952.0625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="123" x="1219" y="1957.416">SamSecuritySetting</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1180" x2="1344" y1="1968.5625" y2="1968.5625"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1180" x2="1344" y1="1976.5625" y2="1976.5625"/></g><!--MD5=[5c6c7d52e42032554528404b62c1d271]
class RuntimeException--><g id="elem_RuntimeException"><rect codeLine="434" fill="#FEFECE" height="251.3281" id="RuntimeException" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="837" x="524.5" y="212.5625"/><ellipse cx="860.75" cy="228.5625" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M863.5156,224.4375 Q863.6719,224.2188 863.8594,224.1094 Q864.0469,224 864.2656,224 Q864.6406,224 864.875,224.2656 Q865.1094,224.5156 865.1094,225.125 L865.1094,226.5781 Q865.1094,227.1875 864.875,227.4531 Q864.6406,227.7188 864.2656,227.7188 Q863.9219,227.7188 863.7188,227.5156 Q863.5156,227.3281 863.4063,226.8125 Q863.3594,226.4531 863.1719,226.2656 Q862.8438,225.8906 862.2344,225.6719 Q861.625,225.4531 861,225.4531 Q860.2344,225.4531 859.5938,225.7813 Q858.9688,226.1094 858.4688,226.8594 Q857.9844,227.6094 857.9844,228.6406 L857.9844,229.7344 Q857.9844,230.9688 858.875,231.7969 Q859.7656,232.6094 861.3594,232.6094 Q862.2969,232.6094 862.9531,232.3594 Q863.3438,232.2031 863.7656,231.7656 Q864.0313,231.5 864.1719,231.4219 Q864.3281,231.3438 864.5313,231.3438 Q864.8594,231.3438 865.1094,231.6094 Q865.375,231.8594 865.375,232.2031 Q865.375,232.5469 865.0313,232.9531 Q864.5313,233.5313 863.7344,233.8594 Q862.6563,234.3125 861.3594,234.3125 Q859.8438,234.3125 858.6406,233.6875 Q857.6563,233.1875 856.9688,232.125 Q856.2813,231.0469 856.2813,229.7656 L856.2813,228.6094 Q856.2813,227.2813 856.8906,226.1406 Q857.5156,224.9844 858.6094,224.375 Q859.7031,223.75 860.9375,223.75 Q861.6719,223.75 862.3125,223.9219 Q862.9688,224.0781 863.5156,224.4375 Z " fill="#000000"/><ellipse cx="886.25" cy="228.0625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="892.25" y="233.416">&lt;&lt;RuntimeException&gt;&gt;</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="525.5" x2="1360.5" y1="244.5625" y2="244.5625"/><ellipse cx="535.5" cy="257.8828" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="234" x="544.5" y="261.2363">SessionBufferOverflowException</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="317" x="778.5" y="261.2363">: Session buffer would overflow for atomic session.</text><ellipse cx="535.5" cy="273.5234" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="190" x="544.5" y="276.877">UnauthorizedKeyException</text><ellipse cx="535.5" cy="289.1641" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="166" x="544.5" y="292.5176">CardRevokedException</text><ellipse cx="535.5" cy="304.8047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="162" x="544.5" y="308.1582">SamRevokedException</text><ellipse cx="535.5" cy="320.4453" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="188" x="544.5" y="323.7988">InconsistentDataException</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="284" x="732.5" y="323.7988">: Number of R-APDUs != number of C-APDUs</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="15" x="1020.5" y="323.7988">or</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="316" x="1039.5" y="323.7988">data read in session != data read outside session.</text><ellipse cx="535.5" cy="336.0859" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="185" x="544.5" y="339.4395">InvalidSignatureException</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="266" x="729.5" y="339.4395">: R-APDU of PSO Verify Signature = 6988.</text><ellipse cx="535.5" cy="351.7266" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="218" x="544.5" y="355.0801">InvalidCardSignatureException</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="247" x="762.5" y="355.0801">: R-APDU of DigestAuthenticate = 6988</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="15" x="1013.5" y="355.0801">or</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="1032.5" y="355.0801">R-APDU of SvCheck = 6988.</text><ellipse cx="535.5" cy="367.3672" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="262" x="544.5" y="370.7207">CardSignatureNotVerifiableException</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="450" x="806.5" y="370.7207">: R-APDU of CloseSecureSession = 9000 but SAM is no more available.</text><ellipse cx="535.5" cy="383.0078" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="140" x="544.5" y="386.3613">SelectFileException</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="195" x="684.5" y="386.3613">: R-APDU of SelectFile = 6A82.</text><ellipse cx="535.5" cy="398.6484" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="268" x="544.5" y="402.002">UnexpectedCommandStatusException</text><ellipse cx="535.5" cy="414.2891" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="136" x="544.5" y="417.6426">ReaderIOException</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="373" x="680.5" y="417.6426">: Card reader and/or SAM reader communication is broken.</text><ellipse cx="535.5" cy="429.9297" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="118" x="544.5" y="433.2832">CardIOException</text><ellipse cx="535.5" cy="445.5703" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="114" x="544.5" y="448.9238">SamIOException</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="525.5" x2="1360.5" y1="455.8906" y2="455.8906"/></g><!--MD5=[007eb89bfb10701b962958f5b6fc0ebb]
reverse link CommonSignatureComputationData to BasicSignatureComputationData--><g id="link_CommonSignatureComputationData_BasicSignatureComputationData"><path d="M1601.7,415.8825 C1546.08,475.8125 1472.44,555.1725 1436.53,593.8625 " fill="none" id="CommonSignatureComputationData-backto-BasicSignatureComputationData" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="none" points="1596.69,411.0025,1615.42,401.1025,1606.95,420.5225,1596.69,411.0025" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[f429252bb447dd4a1aa4e00c09503393]
reverse link CommonSignatureComputationData to TraceableSignatureComputationData--><g id="link_CommonSignatureComputationData_TraceableSignatureComputationData"><path d="M1515.39,409.1025 C1471.57,427.6725 1423.72,447.1125 1379,463.5625 C1280.98,499.6025 1170.04,534.8725 1078.64,562.4825 " fill="none" id="CommonSignatureComputationData-backto-TraceableSignatureComputationData" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="none" points="1512.76,402.6225,1533.9,401.2125,1518.25,415.4925,1512.76,402.6225" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[e2b6e3fe5a6a0a5bd0ef8dd67224f7af]
reverse link CommonSignatureVerificationData to BasicSignatureVerificationData--><g id="link_CommonSignatureVerificationData_BasicSignatureVerificationData"><path d="M2245.88,413.9725 C2241.77,474.1325 2236.26,554.7925 2233.58,593.8825 " fill="none" id="CommonSignatureVerificationData-backto-BasicSignatureVerificationData" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="none" points="2238.92,413.1325,2247.27,393.6525,2252.89,414.0825,2238.92,413.1325" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[e31b41de38b178ddac6d238f38182a2b]
reverse link CommonSignatureVerificationData to TraceableSignatureVerificationData--><g id="link_CommonSignatureVerificationData_TraceableSignatureVerificationData"><path d="M2388.86,401.9925 C2507.7,456.2425 2675.48,532.8325 2775.45,578.4625 " fill="none" id="CommonSignatureVerificationData-backto-TraceableSignatureVerificationData" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="none" points="2385.88,408.3325,2370.59,393.6525,2391.69,395.5925,2385.88,408.3325" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[d266e6b41118882c59f402da525b718d]
reverse link CommonTransactionManager to CardTransactionManager--><g id="link_CommonTransactionManager_CardTransactionManager"><path d="M1914.02,711.3325 C1931.67,729.8325 1951.32,750.4225 1972.35,772.4725 " fill="none" id="CommonTransactionManager-backto-CardTransactionManager" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="none" points="1908.74,715.9325,1900,696.6325,1918.87,706.2725,1908.74,715.9325" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[1db9f822c507b05cc334f36bb90751d1]
reverse link CommonSecuritySetting to CardSecuritySetting--><g id="link_CommonSecuritySetting_CardSecuritySetting"><path d="M1683.75,1309.3525 C1707.17,1416.4025 1757.75,1647.6025 1791.84,1803.4305 " fill="none" id="CommonSecuritySetting-backto-CardSecuritySetting" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="none" points="1676.88,1310.6925,1679.44,1289.6625,1690.56,1307.7025,1676.88,1310.6925" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[d797ff1dc764dc8d6ac7a284e740df54]
reverse link CommonTransactionManager to SamTransactionManager--><g id="link_CommonTransactionManager_SamTransactionManager"><path d="M1554.79,701.2025 C1484.07,725.5125 1419.22,751.2925 1389,772.5625 C1242.58,875.6025 1121.67,1048.6125 1055.85,1155.3825 " fill="none" id="CommonTransactionManager-backto-SamTransactionManager" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="none" points="1552.68,694.5225,1573.87,694.7225,1557.18,707.7825,1552.68,694.5225" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[bebc41ed0d56af7f5f4768b2ae71c54c]
reverse link CommonSecuritySetting to SamSecuritySetting--><g id="link_CommonSecuritySetting_SamSecuritySetting"><path d="M1638.48,1307.4025 C1554.32,1453.1925 1332.02,1838.2725 1275.31,1936.4995 " fill="none" id="CommonSecuritySetting-backto-SamSecuritySetting" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="none" points="1632.66,1303.4825,1648.72,1289.6625,1644.78,1310.4825,1632.66,1303.4825" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[5ded3e7aaf9ebe62379fb7295320d623]
reverse link CommonSignatureComputationData to CommonTransactionManager--><g id="link_CommonSignatureComputationData_CommonTransactionManager"><path codeLine="454" d="M1709.81,405.9525 C1731.96,446.1825 1760.23,497.5525 1783.34,539.5525 " fill="none" id="CommonSignatureComputationData-backto-CommonTransactionManager" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1707.15,401.1025,1707.9861,410.9158,1709.5612,405.4827,1714.9944,407.0578,1707.15,401.1025" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="1766.5891,497.4438,1768.3757,506.7851,1773.5251,503.951,1766.5891,497.4438" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="1778" y="506.3311">use</text></g><!--MD5=[550a62ab3e7fd91fb28d5d25f62b233f]
reverse link CommonSignatureVerificationData to CommonTransactionManager--><g id="link_CommonSignatureVerificationData_CommonTransactionManager"><path codeLine="455" d="M2163.03,396.6025 C2099.83,437.9425 2013.92,494.1425 1944.66,539.4425 " fill="none" id="CommonSignatureVerificationData-backto-CommonTransactionManager" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2167.54,393.6525,2157.8161,395.2164,2163.3514,396.383,2162.1849,401.9182,2167.54,393.6525" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="2023.1843,499.0872,2014.006,501.5791,2017.2236,506.498,2023.1843,499.0872" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="2028" y="506.3311">use</text></g><!--MD5=[9517a19e810f159680f934d60c3d203d]
link CommonTransactionManager to CommonSecuritySetting--><g id="link_CommonTransactionManager_CommonSecuritySetting"><path codeLine="456" d="M1806.92,696.6325 C1774.02,830.3425 1707.67,1100.0125 1681.74,1205.4325 " fill="none" id="CommonTransactionManager-to-CommonSecuritySetting" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="1680.53,1210.3225,1686.5503,1202.5279,1681.7158,1205.4651,1678.7785,1200.6306,1680.53,1210.3225" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="1800.8055,739.6794,1805.8202,731.5984,1800.1126,730.1941,1800.8055,739.6794" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="1811" y="739.3311">provide</text></g><!--MD5=[f5522f459d23cb12c219dbc25ab09527]
link CommonSecuritySetting to SamRevocationServiceSpi--><g id="link_CommonSecuritySetting_SamRevocationServiceSpi"><path codeLine="458" d="M1661.18,1289.8225 C1635.12,1383.7625 1554.61,1623.4525 1389,1727.5625 C1347.41,1753.7125 554.616,1788.0625 508,1803.5625 C432.471,1828.6815 356.305,1880.6465 308.012,1917.6945 " fill="none" id="CommonSecuritySetting-to-SamRevocationServiceSpi" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="304.006,1920.7835,313.576,1918.4564,307.9659,1917.7307,308.6916,1912.1206,304.006,1920.7835" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="1122.4645,1767.9287,1131.9063,1766.7876,1129.4323,1761.4557,1122.4645,1767.9287" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="1136" y="1770.3311">use</text></g><!--MD5=[791e09d4c810c8a1c6008939c8d78a95]
reverse link CalypsoCardSelection to FileOccurrence--><g id="link_CalypsoCardSelection_FileOccurrence"><path codeLine="460" d="M3616.54,1449.3925 C3579.53,1541.9625 3537.36,1654.2925 3506,1757.5625 C3491.05,1806.7765 3478.45,1864.0385 3470.24,1905.0015 " fill="none" id="CalypsoCardSelection-backto-FileOccurrence" style="stroke:#181818;stroke-width:2.0;"/><ellipse cx="3619.2197" cy="1442.7166" fill="#FFFFFF" rx="8" ry="8" style="stroke:#181818;stroke-width:2.0;"/><line style="stroke:#181818;stroke-width:2.0;" x1="3616.2394" x2="3622.2" y1="1450.1408" y2="1435.2925"/><line style="stroke:#181818;stroke-width:2.0;" x1="3611.7955" x2="3626.6438" y1="1439.7363" y2="1445.697"/></g><!--MD5=[b2f8d5953c89cd71183705a81cb4cd83]
link CalypsoCardSelection to FileOccurrence--><g id="link_CalypsoCardSelection_FileOccurrence"><path codeLine="461" d="M3637.57,1435.3625 C3585.48,1589.1325 3514.42,1798.9025 3480.14,1900.1165 " fill="none" id="CalypsoCardSelection-to-FileOccurrence" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="3478.53,1904.8535,3485.2095,1897.6158,3480.1364,1900.1186,3477.6337,1895.0455,3478.53,1904.8535" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="3528.3958,1770.5599,3534.0814,1762.9359,3528.5142,1761.0501,3528.3958,1770.5599" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="3539" y="1770.3311">provide</text></g><!--MD5=[124899d3a846069039d137320287bb3c]
reverse link CalypsoCardSelection to FileControlInformation--><g id="link_CalypsoCardSelection_FileControlInformation"><path codeLine="462" d="M3682.96,1450.3725 C3675.52,1543.6125 3667.3,1656.2125 3662,1757.5625 C3659.03,1814.3225 3657.42,1880.1365 3656.63,1920.8165 " fill="none" id="CalypsoCardSelection-backto-FileControlInformation" style="stroke:#181818;stroke-width:2.0;"/><ellipse cx="3683.5302" cy="1443.2569" fill="#FFFFFF" rx="8" ry="8" style="stroke:#181818;stroke-width:2.0;"/><line style="stroke:#181818;stroke-width:2.0;" x1="3682.8904" x2="3684.17" y1="1451.2313" y2="1435.2825"/><line style="stroke:#181818;stroke-width:2.0;" x1="3675.5558" x2="3691.5046" y1="1442.6171" y2="1443.8967"/></g><!--MD5=[d14a378fd0bab8d7334e27ffa02b6b16]
link CalypsoCardSelection to FileControlInformation--><g id="link_CalypsoCardSelection_FileControlInformation"><path codeLine="463" d="M3688.55,1435.3625 C3678.48,1597.5325 3664.54,1821.9715 3658.72,1915.6965 " fill="none" id="CalypsoCardSelection-to-FileControlInformation" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="3658.4,1920.8705,3662.9508,1912.1361,3658.7103,1915.8801,3654.9662,1911.6396,3658.4,1920.8705" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="3672.6901,1770.8146,3676.184,1761.9691,3670.3175,1761.6047,3672.6901,1770.8146" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="3682" y="1770.3311">provide</text></g><!--MD5=[957e52cfabfdeac703e0e4a67a1d654b]
link CardTransactionManager to WriteAccessLevel--><g id="link_CardTransactionManager_WriteAccessLevel"><path codeLine="465" d="M2484.78,1727.8825 C2487.62,1753.4725 2490.38,1778.8225 2493,1803.5625 C2513.41,1996.4525 2533.24,2226.2275 2541.71,2326.9475 " fill="none" id="CardTransactionManager-to-WriteAccessLevel" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2542.13,2331.9375,2545.363,2322.6344,2541.7117,2326.955,2537.3911,2323.3037,2542.13,2331.9375" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="2531.473,1965.8018,2533.5431,1956.5192,2527.6916,1957.0753,2531.473,1965.8018" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="2540" y="1965.3311">use</text></g><!--MD5=[6e3ea62bcea4255f9e0016e7a14d6e55]
link CardTransactionManager to SvOperation--><g id="link_CardTransactionManager_SvOperation"><path codeLine="466" d="M2329.48,1727.5725 C2313.63,1805.0265 2299.59,1873.5925 2290.97,1915.7245 " fill="none" id="CardTransactionManager-to-SvOperation" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2289.95,1920.7305,2295.6757,1912.717,2290.954,1915.8323,2287.8386,1911.1106,2289.95,1920.7305" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="2324.9974,1770.7227,2329.6903,1762.4506,2323.9319,1761.272,2324.9974,1770.7227" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="2335" y="1770.3311">use</text></g><!--MD5=[43458ce7ca92b5bf9eba082436bc4f4b]
link CardTransactionManager to SvAction--><g id="link_CardTransactionManager_SvAction"><path codeLine="467" d="M2398.57,1727.7225 C2399.15,1743.1925 2399.95,1758.5025 2401,1773.5625 C2404.41,1822.5915 2412.82,1878.3675 2419.16,1915.9475 " fill="none" id="CardTransactionManager-to-SvAction" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2420,1920.8965,2422.441,1911.3549,2419.1651,1915.9667,2414.5533,1912.6908,2420,1920.8965" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="2406.5437,1770.7946,2408.4816,1761.4835,2402.6386,1762.1227,2406.5437,1770.7946" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="2415" y="1770.3311">use</text></g><!--MD5=[c316da82647688efb33554c922e0ba44]
reverse link SelectFileControl to CardTransactionManager--><g id="link_SelectFileControl_CardTransactionManager"><path codeLine="468" d="M3397.42,668.7425 C3382.74,679.3225 3366.44,689.4425 3350,696.5625 C3178.75,770.7725 3103.68,688.5825 2937,772.5625 C2919.01,781.6225 2901.2,791.5225 2883.64,802.1025 " fill="none" id="SelectFileControl-backto-CardTransactionManager" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="3401.51,665.7525,3391.8843,667.8373,3397.4744,668.7044,3396.6073,674.2944,3401.51,665.7525" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="3250.8396,733.568,3241.3463,732.9958,3242.823,738.6852,3250.8396,733.568" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="3255" y="739.3311">use</text></g><!--MD5=[17efe9176b1f62a456b602da9c1703b1]
reverse link GetDataTag to CardTransactionManager--><g id="link_GetDataTag_CardTransactionManager"><path codeLine="469" d="M3630.72,677.7625 C3608.17,702.4025 3578.73,728.5525 3546,742.5625 C3421.44,795.8925 3061.78,719.7525 2937,772.5625 C2919.01,780.1825 2901.25,788.7225 2883.79,798.0525 " fill="none" id="GetDataTag-backto-CardTransactionManager" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="3634.28,673.8225,3625.27,677.7999,3630.9202,677.5254,3631.1947,683.1756,3634.28,673.8225" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="3581.9364,734.0292,3572.5391,732.5658,3573.4737,738.3689,3581.9364,734.0292" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="3586" y="739.3311">use</text></g><!--MD5=[9bda690369adb1dbd55243a6b72e07b6]
link CardTransactionManager to SearchCommandData--><g id="link_CardTransactionManager_SearchCommandData"><path codeLine="470" d="M2883.63,1250.0625 C2906.22,1250.0625 2928.25,1250.0625 2949.32,1250.0625 " fill="none" id="CardTransactionManager-to-SearchCommandData" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2954.36,1250.0625,2945.36,1246.0625,2949.36,1250.0625,2945.36,1254.0625,2954.36,1250.0625" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="2911,1239.3242,2901.9549,1236.3853,2901.9549,1242.2631,2911,1239.3242" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="2915" y="1243.8311">use</text></g><!--MD5=[290add383f9517a2de7babdd84045efc]
link CardTransactionManager to CalypsoCard--><g id="link_CardTransactionManager_CalypsoCard"><path codeLine="471" d="M2883.88,834.1925 C2901.35,825.8025 2919.07,818.2125 2937,811.5625 C3164.11,727.3525 3823.39,680.3625 4027,811.5625 C4058.61,831.9325 4085.26,858.6825 4107.71,888.9325 " fill="none" id="CardTransactionManager-to-CalypsoCard" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="4110.7,893.0325,4108.5989,883.4104,4107.7413,889.0018,4102.1499,888.1443,4110.7,893.0325" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="3809.995,735.0476,3801.0903,731.7075,3800.8276,737.5795,3809.995,735.0476" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="3814" y="739.3311">use and provide up to date content</text></g><!--MD5=[52b5f30b2d37598ca0e4149af55964c4]
link CardTransactionManager to CardSecuritySetting--><g id="link_CardTransactionManager_CardSecuritySetting"><path codeLine="472" d="M2022.79,1727.5725 C2001.51,1752.6525 1981.03,1776.8025 1961.84,1799.4325 " fill="none" id="CardTransactionManager-to-CardSecuritySetting" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="1958.52,1803.3395,1967.3933,1799.0659,1961.7553,1799.5273,1961.2939,1793.8893,1958.52,1803.3395" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="1989.7658,1769.6373,1997.8578,1764.6404,1993.3752,1760.8383,1989.7658,1769.6373" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="2002" y="1770.3311">provide</text></g><!--MD5=[e7462c464ac49a3bd10175a329a45036]
link CardSecuritySetting to WriteAccessLevel--><g id="link_CardSecuritySetting_WriteAccessLevel"><path codeLine="474" d="M2095.38,2117.5795 C2226.35,2193.4295 2374.42,2279.1915 2463.95,2331.0445 " fill="none" id="CardSecuritySetting-to-WriteAccessLevel" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2468.44,2333.6415,2462.6679,2325.6614,2464.1168,2331.1295,2458.6487,2332.5785,2468.44,2333.6415" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="2174.3267,2160.3301,2167.9726,2153.2537,2165.0267,2158.3401,2174.3267,2160.3301" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="2179" y="2162.3311">use</text></g><!--MD5=[48cac2ff2978e44d465a059f601e1d50]
link CardSecuritySetting to CalypsoSam--><g id="link_CardSecuritySetting_CalypsoSam"><path codeLine="475" d="M1615.88,2117.8465 C1593.55,2136.1265 1571.53,2154.9165 1551,2173.5625 C1531.71,2191.0835 1512.11,2210.2225 1493.17,2229.5395 " fill="none" id="CardSecuritySetting-to-CalypsoSam" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="1489.39,2233.4055,1498.544,2229.7717,1492.8875,2229.8323,1492.8269,2224.1758,1489.39,2233.4055" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="1574.3024,2161.1899,1582.9697,2157.2748,1579.0132,2152.9279,1574.3024,2161.1899" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="1587" y="2162.3311">provide</text></g><!--MD5=[463830dd6010e96d60bfc26cb85b02c8]
link CalypsoSamSelection to SamProductType--><g id="link_CalypsoSamSelection_SamProductType"><path codeLine="477" d="M1754.68,2439.6255 C1669.37,2495.4135 1543.39,2577.7955 1466.79,2627.8875 " fill="none" id="CalypsoSamSelection-to-SamProductType" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1462.27,2630.8425,1471.9939,2629.2786,1466.4586,2628.112,1467.6251,2622.5768,1462.27,2630.8425" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="1570.8153,2566.5607,1579.994,2564.07,1576.777,2559.1506,1570.8153,2566.5607" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="1584" y="2568.3311">use</text></g><!--MD5=[bcbf95a248b76879897387f80e494102]
link SamTransactionManager to CalypsoSam--><g id="link_SamTransactionManager_CalypsoSam"><path codeLine="479" d="M991.86,1344.8825 C977.901,1514.5725 968.325,1879.1655 1106,2141.5625 C1125.01,2177.7955 1151.77,2211.4995 1180.82,2241.4605 " fill="none" id="SamTransactionManager-to-CalypsoSam" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="1184.37,2245.0965,1180.9535,2235.8592,1180.8804,2241.5156,1175.224,2241.4426,1184.37,2245.0965" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="1112.0311,1965.7167,1113.0415,1956.26,1107.29,1957.4722,1112.0311,1965.7167" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="1120" y="1965.3311">provide</text></g><!--MD5=[486f18c8945b6f05a319b58b427cf92d]
link SamTransactionManager to SamSecuritySetting--><g id="link_SamTransactionManager_SamSecuritySetting"><path codeLine="480" d="M1036.39,1344.7825 C1096.11,1507.5125 1216.02,1834.2745 1251.74,1931.5955 " fill="none" id="SamTransactionManager-to-SamSecuritySetting" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="1253.47,1936.3265,1254.1184,1926.499,1251.7445,1931.6337,1246.6099,1929.2598,1253.47,1936.3265" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="1199.7226,1770.5181,1199.3654,1761.0143,1193.8474,1763.0393,1199.7226,1770.5181" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="1207" y="1770.3311">provide</text></g><!--MD5=[1d7d1f3a59163c759a2873ea24945c0d]
reverse link CalypsoSam to SamProductType--><g id="link_CalypsoSam_SamProductType"><path codeLine="482" d="M1359.46,2541.0305 C1360.64,2551.4005 1362.14,2561.6515 1364,2571.5625 C1365.84,2581.3545 1368.51,2591.4655 1371.57,2601.3245 " fill="none" id="CalypsoSam-backto-SamProductType" style="stroke:#181818;stroke-width:2.0;"/><ellipse cx="1358.7415" cy="2533.7382" fill="#FFFFFF" rx="8" ry="8" style="stroke:#181818;stroke-width:2.0;"/><line style="stroke:#181818;stroke-width:2.0;" x1="1359.533" x2="1357.95" y1="2541.699" y2="2525.7775"/><line style="stroke:#181818;stroke-width:2.0;" x1="1350.7808" x2="1366.7023" y1="2534.5298" y2="2532.9467"/></g><!--MD5=[cf1f36c13265bd4b5b312aa9a8ef60a4]
link CalypsoSam to SamProductType--><g id="link_CalypsoSam_SamProductType"><path codeLine="483" d="M1379.44,2525.6365 C1382.88,2550.0195 1386.31,2574.4185 1389.37,2596.0945 " fill="none" id="CalypsoSam-to-SamProductType" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="1390.09,2601.2535,1392.7976,2591.7841,1389.3937,2596.3022,1384.8756,2592.8983,1390.09,2601.2535" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="1391.6978,2568.7753,1393.3457,2559.4086,1387.5253,2560.2289,1391.6978,2568.7753" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="1400" y="2568.3311">provide</text></g><!--MD5=[3c766b8dbd2d4b637d84ed4972e0a262]
reverse link SelectFileControl to CalypsoCardSelection--><g id="link_SelectFileControl_CalypsoCardSelection"><path codeLine="485" d="M3474.95,670.3725 C3508.04,755.4425 3575.8,929.7025 3628.37,1064.8725 " fill="none" id="SelectFileControl-backto-CalypsoCardSelection" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="3473.11,665.6425,3472.6498,675.4806,3474.925,670.3014,3480.1041,672.5766,3473.11,665.6425" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="3505.1877,730.1642,3505.7271,739.6595,3511.2052,737.529,3505.1877,730.1642" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="3516" y="739.3311">use</text></g><!--MD5=[ed4b6019252305bc0cd5d3bef0d383d2]
reverse link GetDataTag to CalypsoCardSelection--><g id="link_GetDataTag_CalypsoCardSelection"><path codeLine="486" d="M3678.27,678.7425 C3681.61,766.4425 3687.99,933.9125 3692.98,1064.7825 " fill="none" id="GetDataTag-backto-CalypsoCardSelection" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="3678.08,673.5925,3674.4429,682.7452,3678.2798,678.5885,3682.4365,682.4254,3678.08,673.5925" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="3685.8096,729.8278,3683.2172,738.9783,3689.0908,738.7545,3685.8096,729.8278" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="3695" y="739.3311">use</text></g><!--MD5=[b9c02494ee2edb3f49e24a11a76ae6d5]
link CalypsoCard to DirectoryHeader--><g id="link_CalypsoCard_DirectoryHeader"><path codeLine="488" d="M4276.26,1607.1325 C4289.96,1704.2325 4303.64,1801.1585 4313.18,1868.7135 " fill="none" id="CalypsoCard-to-DirectoryHeader" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="4313.91,1873.9335,4316.615,1864.4634,4313.2123,1868.9824,4308.6932,1865.5797,4313.91,1873.9335" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="4304.6988,1770.7751,4306.3448,1761.4081,4300.5246,1762.2296,4304.6988,1770.7751" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="4313" y="1770.3311">provide</text></g><!--MD5=[435a292fec6bd60cef8a6737227e6c35]
link CalypsoCard to ElementaryFile--><g id="link_CalypsoCard_ElementaryFile"><path codeLine="489" d="M4407.14,1576.8025 C4478.35,1704.8425 4552.33,1837.8805 4591.57,1908.4305 " fill="none" id="CalypsoCard-to-ElementaryFile" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="4594.1,1912.9865,4593.2234,1903.1767,4591.6707,1908.6163,4586.2311,1907.0636,4594.1,1912.9865" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="4521.4301,1770.1939,4519.6024,1760.8606,4514.4655,1763.7175,4521.4301,1770.1939" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="4528" y="1770.3311">provide</text></g><!--MD5=[57dcad9f3791efe87eb3de288cba384a]
reverse link CalypsoCard to CardProductType--><g id="link_CalypsoCard_CardProductType"><path codeLine="490" d="M4189.2,1622.2025 C4179.34,1673.7125 4166.84,1725.4225 4151,1773.5625 C4137.76,1813.7855 4116.11,1855.5755 4096.34,1889.3305 " fill="none" id="CalypsoCard-backto-CardProductType" style="stroke:#181818;stroke-width:2.0;"/><ellipse cx="4190.4994" cy="1615.1862" fill="#FFFFFF" rx="8" ry="8" style="stroke:#181818;stroke-width:2.0;"/><line style="stroke:#181818;stroke-width:2.0;" x1="4189.0287" x2="4191.97" y1="1623.0498" y2="1607.3225"/><line style="stroke:#181818;stroke-width:2.0;" x1="4182.6357" x2="4198.363" y1="1613.7155" y2="1616.6568"/></g><!--MD5=[da295e0332042a57370ae8d038ae7841]
link CalypsoCard to CardProductType--><g id="link_CalypsoCard_CardProductType"><path codeLine="491" d="M4124.93,1607.0725 C4111.82,1657.4325 4099.11,1708.6825 4088,1757.5625 C4078.54,1799.1525 4069.85,1845.9825 4063.26,1884.0745 " fill="none" id="CalypsoCard-to-CardProductType" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="4062.39,1889.1505,4067.8591,1880.9597,4063.2384,1884.223,4059.9751,1879.6023,4062.39,1889.1505" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="4091.9134,1770.7047,4096.7477,1762.5145,4091.0104,1761.2371,4091.9134,1770.7047" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="4102" y="1770.3311">provide</text></g><!--MD5=[aba73d32463631a1419cefff8db1a33e]
link CalypsoCard to SvLoadLogRecord--><g id="link_CalypsoCard_SvLoadLogRecord"><path codeLine="492" d="M4407.07,1434.6325 C4506.2,1538.9925 4628.52,1674.2925 4727,1803.5625 C4733.51,1812.1145 4740.02,1821.1005 4746.41,1830.2615 " fill="none" id="CalypsoCard-to-SvLoadLogRecord" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="4749.53,1834.7715,4747.682,1825.0976,4746.6781,1830.6646,4741.111,1829.6606,4749.53,1834.7715" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="4710.2552,1769.6194,4706.5972,1760.8405,4702.1357,1764.6672,4710.2552,1769.6194" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="4716" y="1770.3311">provide</text></g><!--MD5=[0ef7c8472eddb1facc6466acd43af4c7]
link CalypsoCard to SvDebitLogRecord--><g id="link_CalypsoCard_SvDebitLogRecord"><path codeLine="493" d="M4091.4,1607.3725 C4071.61,1648.8325 4050.05,1689.7725 4027,1727.5625 C4004,1765.2625 3989.11,1767.9525 3963,1803.5625 C3954.89,1814.6215 3946.73,1826.3365 3938.76,1838.1815 " fill="none" id="CalypsoCard-to-SvDebitLogRecord" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="3935.83,1842.5495,3944.1618,1837.2977,3938.6124,1838.3952,3937.5149,1832.8458,3935.83,1842.5495" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="4007.2419,1769.9947,4014.6827,1764.0714,4009.78,1760.8291,4007.2419,1769.9947" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="4019" y="1770.3311">provide</text></g><!--MD5=[dace07c6424a6284409add909451346a]
link DirectoryHeader to WriteAccessLevel--><g id="link_DirectoryHeader_WriteAccessLevel"><path codeLine="495" d="M4261.24,2047.1555 C4228.85,2083.1295 4186.44,2121.2775 4139,2141.5625 C4060.78,2175.0105 3458.21,2161.5015 3374,2173.5625 C3096.56,2213.2975 2776.8,2306.3215 2628.92,2352.1275 " fill="none" id="DirectoryHeader-to-WriteAccessLevel" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2623.74,2353.7365,2633.522,2354.8824,2628.5143,2352.2512,2631.1455,2347.2436,2623.74,2353.7365" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="4100.085,2158.7425,4109.516,2159.9703,4108.4365,2154.1924,4100.085,2158.7425" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="4114" y="2162.3311">use</text></g><!--MD5=[cc1c643465d1c05aadfdd3e7e3ee33ff]
reverse link ElementaryFile to FileType--><g id="link_ElementaryFile_FileType"><path codeLine="497" d="M4593.97,2022.1505 C4575.51,2059.8975 4547.84,2107.5715 4513,2141.5625 C4492.2,2161.8495 4476.11,2152.5915 4456,2173.5625 C4417.06,2214.1805 4389.46,2272.2435 4372.53,2316.2135 " fill="none" id="ElementaryFile-backto-FileType" style="stroke:#181818;stroke-width:2.0;"/><ellipse cx="4597.168" cy="2015.4459" fill="#FFFFFF" rx="8" ry="8" style="stroke:#181818;stroke-width:2.0;"/><line style="stroke:#181818;stroke-width:2.0;" x1="4593.736" x2="4600.6" y1="2022.6724" y2="2008.2195"/><line style="stroke:#181818;stroke-width:2.0;" x1="4589.9416" x2="4604.3945" y1="2012.014" y2="2018.8779"/></g><!--MD5=[78c7db04616214d64a65e1c3389039a2]
link ElementaryFile to FileHeader--><g id="link_ElementaryFile_FileHeader"><path codeLine="498" d="M4606.01,2008.4455 C4590.61,2051.0425 4561.4,2111.6535 4513,2141.5625 C4492.15,2154.4465 4427.35,2146.7965 4403,2149.5625 C4333.74,2157.4305 4309.64,2141.0095 4248,2173.5625 C4205.98,2195.7525 4168.13,2230.7545 4137.36,2265.5985 " fill="none" id="ElementaryFile-to-FileHeader" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="4134.03,2269.4055,4142.9711,2265.2755,4137.3264,2265.646,4136.9558,2260.0013,4134.03,2269.4055" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="4403.6165,2160.2295,4412.9601,2158.4549,4410.1325,2153.3018,4403.6165,2160.2295" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="4417" y="2162.3311">provide</text></g><!--MD5=[86b3bd56e99d104172930610ea72020e]
link ElementaryFile to FileData--><g id="link_ElementaryFile_FileData"><path codeLine="499" d="M4627.83,2008.1835 C4639.49,2077.6775 4661.62,2209.4735 4676.08,2295.6485 " fill="none" id="ElementaryFile-to-FileData" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="4676.94,2300.7435,4679.3925,2291.2049,4676.1111,2295.8127,4671.5033,2292.5312,4676.94,2300.7435" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="4657.8277,2162.7552,4659.2288,2153.3485,4653.432,2154.3214,4657.8277,2162.7552" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="4666" y="2162.3311">provide</text></g><!--MD5=[0277f54c0239137ab686445791bc46fe]
link FileHeader to FileType--><g id="link_FileHeader_FileType"><path codeLine="501" d="M4175.54,2379.5625 C4203.67,2379.5625 4233.22,2379.5625 4259.93,2379.5625 " fill="none" id="FileHeader-to-FileType" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="4265.23,2379.5625,4256.23,2375.5625,4260.23,2379.5625,4256.23,2383.5625,4265.23,2379.5625" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="4203,2368.8242,4193.9549,2365.8853,4193.9549,2371.7631,4203,2368.8242" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="4207" y="2373.3311">provide</text></g><!--MD5=[0b85ab16e5af36f072ef8b9fc477bfc4]
@startuml
title
    Calypsonet - calypsonet-terminal-calypso-java-api - 1.4.+ (2022-10-19)
end title

' == THEME ==

'Couleurs issues de : https://htmlcolorcodes.com/fr/tableau-de-couleur/tableau-de-couleur-design-plat/
!define C_GREY1 F8F9F9
!define C_GREY2 F2F3F4
!define C_GREY3 E5E7E9
!define C_GREY4 D7DBDD
!define C_GREY5 CACFD2
!define C_GREY6 BDC3C7
!define C_LINK 3498DB
!define C_USE 27AE60

' - - Styles that don't work with new version of plantuml - -
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
' - - END - -

skinparam ClassBorderThickness 2
skinparam ArrowThickness 2

' Yellow
skinparam ClassBackgroundColor #FEFECE
skinparam ClassBorderColor #D4AC0D
' Red
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
' Purple
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
' blue
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
' Green
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
' Grey
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

' == CONTENT ==

legend top
    __Colors legend__ :
    * __External public API references__ :
    ** <back:yellow>**calypsonet-terminal-reader-java-api**</back>
end legend

package "org.calypsonet.terminal.calypso" as api {

    +class "**final** CalypsoApiProperties" as ApiProperties {
        +{static} **final** String VERSION
    }
    +enum WriteAccessLevel {
        PERSONALIZATION
        LOAD
        DEBIT
    }
    +enum SelectFileControl {
        FIRST_EF
        NEXT_EF
        CURRENT_DF
    }
    +enum GetDataTag {
        FCP_FOR_CURRENT_FILE
        FCI_FOR_CURRENT_DF
        EF_LIST
        TRACEABILITY_INFORMATION
    }
    package spi {
        +interface SamRevocationServiceSpi {
            +boolean isSamRevoked (byte[] serialNumber)
            +boolean isSamRevoked (byte[] serialNumber, int counterValue)
        }
    }
    package card {
        +interface "<<<back:yellow>CardSelection</back>>>\nCalypsoCardSelection" as CalypsoCardSelection {
            +CalypsoCardSelection filterByCardProtocol (String cardProtocol)

            +CalypsoCardSelection filterByPowerOnData (String powerOnDataRegex)

            +CalypsoCardSelection filterByDfName (byte[] aid)
            +CalypsoCardSelection filterByDfName (String aid)
            +CalypsoCardSelection setFileOccurrence (FileOccurrence fileOccurrence)
            +CalypsoCardSelection setFileControlInformation (FileControlInformation fileControlInformation)
            +<s>CalypsoCardSelection addSuccessfulStatusWord (int statusWord)</s>

            +CalypsoCardSelection acceptInvalidatedCard ()

            +<s>CalypsoCardSelection prepareSelectFile (byte[] lid)</s>
            +CalypsoCardSelection prepareSelectFile (short lid)
            +CalypsoCardSelection prepareSelectFile (SelectFileControl selectControl)

            +CalypsoCardSelection prepareGetData (GetDataTag tag)

            +<s>CalypsoCardSelection prepareReadRecordFile (byte sfi, int recordNumber)</s>
            +CalypsoCardSelection prepareReadRecord (byte sfi, int recordNumber)
        }
        +enum FileOccurrence {
            FIRST
            LAST
            NEXT
            PREVIOUS
        }
        +enum FileControlInformation {
            FCI
            NO_RESPONSE
        }
        +interface "<<<back:yellow>SmartCard</back>>>\nCalypsoCard" as CalypsoCard {
            +ProductType getProductType ()
            +boolean isHce ()

            +boolean isDfInvalidated ()

            +byte[] getDfName ()
            +byte[] getApplicationSerialNumber ()

            +byte[] getStartupInfoRawData ()
            +byte getPlatform ()
            +byte getApplicationType ()
            +byte getApplicationSubtype ()
            +byte getSoftwareIssuer ()
            +byte getSoftwareVersion ()
            +byte getSoftwareRevision ()
            +byte getSessionModification ()

            +byte[] getTraceabilityInformation ()

            +DirectoryHeader getDirectoryHeader ()
            +ElementaryFile getFileBySfi (byte sfi)
            +ElementaryFile getFileByLid (short lid)
            +<s>Map<Byte, ElementaryFile> getAllFiles ()</s>
            +Set<ElementaryFile> getFiles ()

            +boolean isDfRatified ()
            +int getTransactionCounter ()

            +boolean isPkiModeSupported ()
            +boolean isExtendedModeSupported ()
            +boolean isRatificationOnDeselectSupported ()

            +boolean isPinFeatureAvailable ()
            +boolean isPinBlocked ()
            +int getPinAttemptRemaining ()

            +boolean isSvFeatureAvailable ()
            +int getSvBalance ()
            +int getSvLastTNum ()
            +SvLoadLogRecord getSvLoadLogRecord ()
            +SvDebitLogRecord getSvDebitLogLastRecord ()
            +List<SvDebitLogRecord> getSvDebitLogAllRecords ()
        }
        +interface DirectoryHeader {
            +short getLid ()
            +Byte getDfStatus ()

            +byte[] getAccessConditions ()
            +byte[] getKeyIndexes ()

            +byte getKif (WriteAccessLevel writeAccessLevel)
            +byte getKvc (WriteAccessLevel writeAccessLevel)
        }
        +interface ElementaryFile {
            +byte getSfi ()
            +FileHeader getHeader ()
            +FileData getData ()
        }
        +interface FileHeader {
            +short getLid ()
            +byte getDfStatus ()
            +ElementaryFile.Type getEfType ()

            +int getRecordsNumber ()
            +int getRecordSize ()

            +byte[] getAccessConditions ()
            +byte[] getKeyIndexes ()

            +Short getSharedReference ()
        }
        +enum "Type" as FileType {
            LINEAR
            BINARY
            CYCLIC
            COUNTERS
            SIMULATED_COUNTERS
        }
        +interface FileData {
            +byte[] getContent ()
            +byte[] getContent (int numRecord)
            +byte[] getContent (int numRecord, int dataOffset, int dataLength)
            +SortedMap<Integer, byte[]> getAllRecordsContent ()

            +Integer getContentAsCounterValue (int numCounter)
            +SortedMap<Integer, Integer> getAllCountersValue ()
        }
        +enum "ProductType" as CardProductType {
            PRIME_REVISION_1
            PRIME_REVISION_2
            PRIME_REVISION_3
            LIGHT
            BASIC
            UNKNOWN
        }
        +interface SvLoadLogRecord {
            +byte[] getRawData ()

            +byte[] getLoadDate ()
            +byte[] getLoadTime ()

            +int getAmount ()
            +int getBalance ()
            +byte[] getFreeData ()

            +byte getKvc ()
            +byte[] getSamId ()
            +int getSamTNum ()
            +int getSvTNum ()
        }
        +interface SvDebitLogRecord {
            +byte[] getRawData ()

            +byte[] getDebitDate ()
            +byte[] getDebitTime ()

            +int getAmount ()
            +int getBalance ()

            +byte getKvc ()
            +byte[] getSamId ()
            +int getSamTNum ()
            +int getSvTNum ()
        }
    }
    package sam {
        +interface "<<<back:yellow>CardSelection</back>>>\nCalypsoSamSelection" as CalypsoSamSelection {
            +CalypsoSamSelection filterByProductType (CalypsoSam.ProductType productType)
            +CalypsoSamSelection filterBySerialNumber (String serialNumberRegex)

            +CalypsoSamSelection setUnlockData (String unlockData)
        }
        +interface "<<<back:yellow>SmartCard</back>>>\nCalypsoSam" as CalypsoSam {
            +ProductType getProductType ()
            +String getProductInfo ()

            +byte[] getSerialNumber ()
            +byte getPlatform ()
            +byte getApplicationType ()
            +byte getApplicationSubType ()
            +byte getSoftwareIssuer ()
            +byte getSoftwareVersion ()
            +byte getSoftwareRevision ()

            +Integer getEventCounter (int eventCounterNumber)
            +SortedMap<Integer, Integer> getEventCounters ()
            +Integer getEventCeiling (int eventCeilingNumber)
            +SortedMap<Integer, Integer> getEventCeilings ()
        }
        +enum "ProductType" as SamProductType {
            SAM_C1
            HSM_C1
            SAM_S1E1
            SAM_S1Dx
            CSAM_F
            UNKNOWN
        }
    }
    package transaction {
        ' Common to Card and SAM
        +interface CommonTransactionManager<T extends CommonTransactionManager<T, S>,\nS extends CommonSecuritySetting<S>> {
            +S getSecuritySetting ()
            +List<byte[]> getTransactionAuditData ()

            +T prepareComputeSignature (CommonSignatureComputationData<?> data)
            +T prepareVerifySignature (CommonSignatureVerificationData<?> data)

            +T processCommands ()
        }
        +interface CommonSignatureComputationData<T extends CommonSignatureComputationData<T>> {
            +T setData (byte[] data, byte kif, byte kvc)
            +T setSignatureSize (int size)
            +T setKeyDiversifier (byte[] diversifier)

            +byte[] getSignature ()
        }
        +interface BasicSignatureComputationData extends CommonSignatureComputationData {
        }
        +interface TraceableSignatureComputationData extends CommonSignatureComputationData {
            +TraceableSignatureComputationData withSamTraceabilityMode (int offset, boolean usePartialSamSerialNumber)
            +TraceableSignatureComputationData withoutBusyMode ()

            +byte[] getSignedData ()
        }
        +interface CommonSignatureVerificationData<T extends CommonSignatureVerificationData<T>> {
            +T setData (byte[] data, byte[] signature, byte kif, byte kvc)
            +T setKeyDiversifier (byte[] diversifier)

            +boolean isSignatureValid ()
        }
        +interface BasicSignatureVerificationData extends CommonSignatureVerificationData {
        }
        +interface TraceableSignatureVerificationData extends CommonSignatureVerificationData {
            +TraceableSignatureVerificationData withSamTraceabilityMode (int offset, boolean isPartialSamSerialNumber, boolean checkSamRevocationStatus)
            +TraceableSignatureVerificationData withoutBusyMode ()
        }
        +interface CommonSecuritySetting<S extends CommonSecuritySetting<S>> {
            +S setControlSamResource (<back:yellow>CardReader</back> samReader, CalypsoSam calypsoSam)
            +S setSamRevocationServiceSpi (SamRevocationServiceSpi service)
        }
        ' Card
        +interface CardTransactionManager extends CommonTransactionManager {
            +<back:yellow>CardReader</back> getCardReader ()
            +CalypsoCard getCalypsoCard ()
            +<s>CardSecuritySetting getCardSecuritySetting ()</s>

            +<s>CardTransactionManager prepareSelectFile (byte[] lid)</s>
            +CardTransactionManager prepareSelectFile (short lid)
            +CardTransactionManager prepareSelectFile (SelectFileControl selectFileControl)

            +CardTransactionManager prepareGetData (GetDataTag tag)

            +<s>CardTransactionManager prepareReadRecordFile (byte sfi, int recordNumber)</s>
            +<s>CardTransactionManager prepareReadRecordFile (byte sfi, int firstRecordNumber, int numberOfRecords, int recordSize)</s>
            +<s>CardTransactionManager prepareReadCounterFile (byte sfi, int countersNumber)</s>
            +CardTransactionManager prepareReadRecord (byte sfi, int recordNumber)
            +CardTransactionManager prepareReadRecords (byte sfi, int fromRecordNumber, int toRecordNumber, int recordSize)
            +CardTransactionManager prepareReadRecordsPartially (byte sfi, int fromRecordNumber, int toRecordNumber, int offset, int nbBytesToRead)
            +CardTransactionManager prepareReadBinary (byte sfi, int offset, int nbBytesToRead)
            +CardTransactionManager prepareReadCounter (byte sfi, int nbCountersToRead)

            +CardTransactionManager prepareSearchRecords (SearchCommandData data)

            +CardTransactionManager prepareCheckPinStatus ()

            +CardTransactionManager prepareAppendRecord (byte sfi, byte[] recordData)
            +CardTransactionManager prepareUpdateRecord (byte sfi, int recordNumber, byte[] recordData)
            +CardTransactionManager prepareWriteRecord (byte sfi, int recordNumber, byte[] recordData)

            +CardTransactionManager prepareUpdateBinary (byte sfi, int offset, byte[] data)
            +CardTransactionManager prepareWriteBinary (byte sfi, int offset, byte[] data)

            +CardTransactionManager prepareIncreaseCounter (byte sfi, int counterNumber, int incValue)
            +CardTransactionManager prepareIncreaseCounters(byte sfi, Map<Integer, Integer> counterNumberToIncValueMap)
            +CardTransactionManager prepareDecreaseCounter (byte sfi, int counterNumber, int decValue)
            +CardTransactionManager prepareDecreaseCounters(byte sfi, Map<Integer, Integer> counterNumberToDecValueMap)
            +CardTransactionManager prepareSetCounter (byte sfi, int counterNumber, int newValue)

            +CardTransactionManager prepareSvGet (SvOperation svOperation, SvAction svAction)
            +CardTransactionManager prepareSvReload (int amount, byte[] date, byte[] time, byte[] free)
            +CardTransactionManager prepareSvReload (int amount)
            +CardTransactionManager prepareSvDebit (int amount, byte[] date, byte[] time)
            +CardTransactionManager prepareSvDebit (int amount)
            +CardTransactionManager prepareSvReadAllLogs ()

            +CardTransactionManager prepareInvalidate ()
            +CardTransactionManager prepareRehabilitate ()

            +CardTransactionManager prepareReleaseCardChannel ()

            +<s>CardTransactionManager processCardCommands ()</s>

            +CardTransactionManager processVerifyPin (byte[] pin)
            +CardTransactionManager processChangePin (byte[] newPin)

            +CardTransactionManager processChangeKey (int keyIndex, byte newKif, byte newKvc, byte issuerKif, byte issuerKvc)

            +CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel)
            +CardTransactionManager processClosing ()
            +CardTransactionManager processCancel ()
        }
        +enum SvOperation {
            RELOAD
            DEBIT
        }
        +enum SvAction {
            DO
            UNDO
        }
        +interface CardSecuritySetting extends CommonSecuritySetting {
            +<s>CardSecuritySetting setSamResource (<back:yellow>CardReader</back> samReader, CalypsoSam calypsoSam)</s>

            +CardSecuritySetting enableMultipleSession ()
            +CardSecuritySetting enableRatificationMechanism ()
            +CardSecuritySetting enablePinPlainTransmission ()
            +CardSecuritySetting enableSvLoadAndDebitLog ()
            +CardSecuritySetting authorizeSvNegativeBalance ()

            +CardSecuritySetting assignKif (WriteAccessLevel writeAccessLevel, byte kvc, byte kif)
            +CardSecuritySetting assignDefaultKif (WriteAccessLevel writeAccessLevel, byte kif)
            +CardSecuritySetting assignDefaultKvc (WriteAccessLevel writeAccessLevel, byte kvc)

            +CardSecuritySetting addAuthorizedSessionKey (byte kif, byte kvc)
            +CardSecuritySetting addAuthorizedSvKey (byte kif, byte kvc)

            +CardSecuritySetting setPinVerificationCipheringKey (byte kif, byte kvc)
            +CardSecuritySetting setPinModificationCipheringKey (byte kif, byte kvc)
        }
        +interface SearchCommandData {
            +SearchCommandData setSfi (byte sfi)
            +SearchCommandData startAtRecord (int recordNumber)
            +SearchCommandData setOffset (int offset)
            +SearchCommandData enableRepeatedOffset ()
            +SearchCommandData setSearchData (byte[] data)
            +SearchCommandData setMask (byte[] mask)
            +SearchCommandData fetchFirstMatchingResult ()

            +List<Integer> getMatchingRecordNumbers ()
        }
        ' SAM
        +interface SamTransactionManager extends CommonTransactionManager {
            +<back:yellow>CardReader</back> getSamReader ()
            +CalypsoSam getCalypsoSam ()

            +SamTransactionManager prepareReadEventCounter (int eventCounterNumber)
            +SamTransactionManager prepareReadEventCounters (int fromEventCounterNumber, int toEventCounterNumber)
            +SamTransactionManager prepareReadEventCeiling (int eventCeilingNumber)
            +SamTransactionManager prepareReadEventCeilings (int fromEventCeilingNumber, int toEventCeilingNumber)
            +SamTransactionManager prepareWriteEventCeiling (int eventCeilingNumber, int newValue)
            +SamTransactionManager prepareWriteEventCeilings (int fromEventCeilingNumber, List<Integer> newValues)
        }
        +interface SamSecuritySetting extends CommonSecuritySetting {
        }
        ' Exceptions
        +class "<<RuntimeException>>" as RuntimeException {
            +**SessionBufferOverflowException**: Session buffer would overflow for atomic session.
            +**UnauthorizedKeyException**
            +**CardRevokedException**
            +**SamRevokedException**
            +**InconsistentDataException**: Number of R-APDUs != number of C-APDUs **or** data read in session != data read outside session.
            +**InvalidSignatureException**: R-APDU of PSO Verify Signature = 6988.
            +**InvalidCardSignatureException**: R-APDU of DigestAuthenticate = 6988 **or** R-APDU of SvCheck = 6988.
            +**CardSignatureNotVerifiableException**: R-APDU of CloseSecureSession = 9000 but SAM is no more available.
            +**SelectFileException**: R-APDU of SelectFile = 6A82.
            +**UnexpectedCommandStatusException**
            +**ReaderIOException**: Card reader and/or SAM reader communication is broken.
            +**CardIOException**
            +**SamIOException**
        }
    }
}

' Associations

CommonTransactionManager .up.> CommonSignatureComputationData #C_USE : use >
CommonTransactionManager .up.> CommonSignatureVerificationData #C_USE : use >
CommonTransactionManager ..> CommonSecuritySetting #C_LINK : provide >

CommonSecuritySetting ..> SamRevocationServiceSpi #C_USE : use >

CalypsoCardSelection +- - FileOccurrence
CalypsoCardSelection ..> FileOccurrence #C_LINK : provide >
CalypsoCardSelection +- - FileControlInformation
CalypsoCardSelection ..> FileControlInformation #C_LINK : provide >

CardTransactionManager ..> WriteAccessLevel #C_USE : use >
CardTransactionManager ..> SvOperation #C_USE : use >
CardTransactionManager ..> SvAction #C_USE : use >
CardTransactionManager .up.> SelectFileControl #C_USE : use >
CardTransactionManager .up.> GetDataTag #C_USE : use >
CardTransactionManager .right.> SearchCommandData #C_USE : use >
CardTransactionManager .right.> CalypsoCard #C_LINK : use and provide up to date content >
CardTransactionManager ..> CardSecuritySetting #C_LINK : provide >

CardSecuritySetting ..> WriteAccessLevel #C_USE : use >
CardSecuritySetting ..> CalypsoSam #C_LINK : provide >

CalypsoSamSelection ..> SamProductType #C_USE : use >

SamTransactionManager ..> CalypsoSam #C_LINK : provide >
SamTransactionManager ..> SamSecuritySetting #C_LINK : provide >

CalypsoSam +- - SamProductType
CalypsoSam ..> SamProductType #C_LINK : provide >

CalypsoCardSelection .up.> SelectFileControl #C_USE : use >
CalypsoCardSelection .up.> GetDataTag #C_USE : use >

CalypsoCard ..> DirectoryHeader #C_LINK : provide >
CalypsoCard ..> ElementaryFile #C_LINK : provide >
CalypsoCard +- - CardProductType
CalypsoCard ..> CardProductType #C_LINK : provide >
CalypsoCard ..> SvLoadLogRecord #C_LINK : provide >
CalypsoCard ..> SvDebitLogRecord #C_LINK : provide >

DirectoryHeader ..> WriteAccessLevel #C_USE : use >

ElementaryFile +- - FileType
ElementaryFile ..> FileHeader #C_LINK : provide >
ElementaryFile ..> FileData #C_LINK : provide >

FileHeader .right.> FileType #C_LINK : provide >

' == LAYOUT ==

'CommonSignatureComputationData -[hidden]- CommonSignatureVerificationData

' == STYLE ==

package api #C_GREY1 {}
package spi #C_GREY2 {}
package card #C_GREY2 {}
package sam #C_GREY2 {}
package transaction #C_GREY2 {}


@enduml

@startuml
title
    Calypsonet - calypsonet-terminal-calypso-java-api - 1.4.+ (2022-10-19)
end title



skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF

skinparam ClassBorderThickness 2
skinparam ArrowThickness 2

skinparam ClassBackgroundColor #FEFECE
skinparam ClassBorderColor #D4AC0D
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype


legend top
    __Colors legend__ :
    * __External public API references__ :
    ** <back:yellow>**calypsonet-terminal-reader-java-api**</back>
end legend

package "org.calypsonet.terminal.calypso" as api {

    +class "**final** CalypsoApiProperties" as ApiProperties {
        +{static} **final** String VERSION
    }
    +enum WriteAccessLevel {
        PERSONALIZATION
        LOAD
        DEBIT
    }
    +enum SelectFileControl {
        FIRST_EF
        NEXT_EF
        CURRENT_DF
    }
    +enum GetDataTag {
        FCP_FOR_CURRENT_FILE
        FCI_FOR_CURRENT_DF
        EF_LIST
        TRACEABILITY_INFORMATION
    }
    package spi {
        +interface SamRevocationServiceSpi {
            +boolean isSamRevoked (byte[] serialNumber)
            +boolean isSamRevoked (byte[] serialNumber, int counterValue)
        }
    }
    package card {
        +interface "<<<back:yellow>CardSelection</back>>>\nCalypsoCardSelection" as CalypsoCardSelection {
            +CalypsoCardSelection filterByCardProtocol (String cardProtocol)

            +CalypsoCardSelection filterByPowerOnData (String powerOnDataRegex)

            +CalypsoCardSelection filterByDfName (byte[] aid)
            +CalypsoCardSelection filterByDfName (String aid)
            +CalypsoCardSelection setFileOccurrence (FileOccurrence fileOccurrence)
            +CalypsoCardSelection setFileControlInformation (FileControlInformation fileControlInformation)
            +<s>CalypsoCardSelection addSuccessfulStatusWord (int statusWord)</s>

            +CalypsoCardSelection acceptInvalidatedCard ()

            +<s>CalypsoCardSelection prepareSelectFile (byte[] lid)</s>
            +CalypsoCardSelection prepareSelectFile (short lid)
            +CalypsoCardSelection prepareSelectFile (SelectFileControl selectControl)

            +CalypsoCardSelection prepareGetData (GetDataTag tag)

            +<s>CalypsoCardSelection prepareReadRecordFile (byte sfi, int recordNumber)</s>
            +CalypsoCardSelection prepareReadRecord (byte sfi, int recordNumber)
        }
        +enum FileOccurrence {
            FIRST
            LAST
            NEXT
            PREVIOUS
        }
        +enum FileControlInformation {
            FCI
            NO_RESPONSE
        }
        +interface "<<<back:yellow>SmartCard</back>>>\nCalypsoCard" as CalypsoCard {
            +ProductType getProductType ()
            +boolean isHce ()

            +boolean isDfInvalidated ()

            +byte[] getDfName ()
            +byte[] getApplicationSerialNumber ()

            +byte[] getStartupInfoRawData ()
            +byte getPlatform ()
            +byte getApplicationType ()
            +byte getApplicationSubtype ()
            +byte getSoftwareIssuer ()
            +byte getSoftwareVersion ()
            +byte getSoftwareRevision ()
            +byte getSessionModification ()

            +byte[] getTraceabilityInformation ()

            +DirectoryHeader getDirectoryHeader ()
            +ElementaryFile getFileBySfi (byte sfi)
            +ElementaryFile getFileByLid (short lid)
            +<s>Map<Byte, ElementaryFile> getAllFiles ()</s>
            +Set<ElementaryFile> getFiles ()

            +boolean isDfRatified ()
            +int getTransactionCounter ()

            +boolean isPkiModeSupported ()
            +boolean isExtendedModeSupported ()
            +boolean isRatificationOnDeselectSupported ()

            +boolean isPinFeatureAvailable ()
            +boolean isPinBlocked ()
            +int getPinAttemptRemaining ()

            +boolean isSvFeatureAvailable ()
            +int getSvBalance ()
            +int getSvLastTNum ()
            +SvLoadLogRecord getSvLoadLogRecord ()
            +SvDebitLogRecord getSvDebitLogLastRecord ()
            +List<SvDebitLogRecord> getSvDebitLogAllRecords ()
        }
        +interface DirectoryHeader {
            +short getLid ()
            +Byte getDfStatus ()

            +byte[] getAccessConditions ()
            +byte[] getKeyIndexes ()

            +byte getKif (WriteAccessLevel writeAccessLevel)
            +byte getKvc (WriteAccessLevel writeAccessLevel)
        }
        +interface ElementaryFile {
            +byte getSfi ()
            +FileHeader getHeader ()
            +FileData getData ()
        }
        +interface FileHeader {
            +short getLid ()
            +byte getDfStatus ()
            +ElementaryFile.Type getEfType ()

            +int getRecordsNumber ()
            +int getRecordSize ()

            +byte[] getAccessConditions ()
            +byte[] getKeyIndexes ()

            +Short getSharedReference ()
        }
        +enum "Type" as FileType {
            LINEAR
            BINARY
            CYCLIC
            COUNTERS
            SIMULATED_COUNTERS
        }
        +interface FileData {
            +byte[] getContent ()
            +byte[] getContent (int numRecord)
            +byte[] getContent (int numRecord, int dataOffset, int dataLength)
            +SortedMap<Integer, byte[]> getAllRecordsContent ()

            +Integer getContentAsCounterValue (int numCounter)
            +SortedMap<Integer, Integer> getAllCountersValue ()
        }
        +enum "ProductType" as CardProductType {
            PRIME_REVISION_1
            PRIME_REVISION_2
            PRIME_REVISION_3
            LIGHT
            BASIC
            UNKNOWN
        }
        +interface SvLoadLogRecord {
            +byte[] getRawData ()

            +byte[] getLoadDate ()
            +byte[] getLoadTime ()

            +int getAmount ()
            +int getBalance ()
            +byte[] getFreeData ()

            +byte getKvc ()
            +byte[] getSamId ()
            +int getSamTNum ()
            +int getSvTNum ()
        }
        +interface SvDebitLogRecord {
            +byte[] getRawData ()

            +byte[] getDebitDate ()
            +byte[] getDebitTime ()

            +int getAmount ()
            +int getBalance ()

            +byte getKvc ()
            +byte[] getSamId ()
            +int getSamTNum ()
            +int getSvTNum ()
        }
    }
    package sam {
        +interface "<<<back:yellow>CardSelection</back>>>\nCalypsoSamSelection" as CalypsoSamSelection {
            +CalypsoSamSelection filterByProductType (CalypsoSam.ProductType productType)
            +CalypsoSamSelection filterBySerialNumber (String serialNumberRegex)

            +CalypsoSamSelection setUnlockData (String unlockData)
        }
        +interface "<<<back:yellow>SmartCard</back>>>\nCalypsoSam" as CalypsoSam {
            +ProductType getProductType ()
            +String getProductInfo ()

            +byte[] getSerialNumber ()
            +byte getPlatform ()
            +byte getApplicationType ()
            +byte getApplicationSubType ()
            +byte getSoftwareIssuer ()
            +byte getSoftwareVersion ()
            +byte getSoftwareRevision ()

            +Integer getEventCounter (int eventCounterNumber)
            +SortedMap<Integer, Integer> getEventCounters ()
            +Integer getEventCeiling (int eventCeilingNumber)
            +SortedMap<Integer, Integer> getEventCeilings ()
        }
        +enum "ProductType" as SamProductType {
            SAM_C1
            HSM_C1
            SAM_S1E1
            SAM_S1Dx
            CSAM_F
            UNKNOWN
        }
    }
    package transaction {
        +interface CommonTransactionManager<T extends CommonTransactionManager<T, S>,\nS extends CommonSecuritySetting<S>> {
            +S getSecuritySetting ()
            +List<byte[]> getTransactionAuditData ()

            +T prepareComputeSignature (CommonSignatureComputationData<?> data)
            +T prepareVerifySignature (CommonSignatureVerificationData<?> data)

            +T processCommands ()
        }
        +interface CommonSignatureComputationData<T extends CommonSignatureComputationData<T>> {
            +T setData (byte[] data, byte kif, byte kvc)
            +T setSignatureSize (int size)
            +T setKeyDiversifier (byte[] diversifier)

            +byte[] getSignature ()
        }
        +interface BasicSignatureComputationData extends CommonSignatureComputationData {
        }
        +interface TraceableSignatureComputationData extends CommonSignatureComputationData {
            +TraceableSignatureComputationData withSamTraceabilityMode (int offset, boolean usePartialSamSerialNumber)
            +TraceableSignatureComputationData withoutBusyMode ()

            +byte[] getSignedData ()
        }
        +interface CommonSignatureVerificationData<T extends CommonSignatureVerificationData<T>> {
            +T setData (byte[] data, byte[] signature, byte kif, byte kvc)
            +T setKeyDiversifier (byte[] diversifier)

            +boolean isSignatureValid ()
        }
        +interface BasicSignatureVerificationData extends CommonSignatureVerificationData {
        }
        +interface TraceableSignatureVerificationData extends CommonSignatureVerificationData {
            +TraceableSignatureVerificationData withSamTraceabilityMode (int offset, boolean isPartialSamSerialNumber, boolean checkSamRevocationStatus)
            +TraceableSignatureVerificationData withoutBusyMode ()
        }
        +interface CommonSecuritySetting<S extends CommonSecuritySetting<S>> {
            +S setControlSamResource (<back:yellow>CardReader</back> samReader, CalypsoSam calypsoSam)
            +S setSamRevocationServiceSpi (SamRevocationServiceSpi service)
        }
        +interface CardTransactionManager extends CommonTransactionManager {
            +<back:yellow>CardReader</back> getCardReader ()
            +CalypsoCard getCalypsoCard ()
            +<s>CardSecuritySetting getCardSecuritySetting ()</s>

            +<s>CardTransactionManager prepareSelectFile (byte[] lid)</s>
            +CardTransactionManager prepareSelectFile (short lid)
            +CardTransactionManager prepareSelectFile (SelectFileControl selectFileControl)

            +CardTransactionManager prepareGetData (GetDataTag tag)

            +<s>CardTransactionManager prepareReadRecordFile (byte sfi, int recordNumber)</s>
            +<s>CardTransactionManager prepareReadRecordFile (byte sfi, int firstRecordNumber, int numberOfRecords, int recordSize)</s>
            +<s>CardTransactionManager prepareReadCounterFile (byte sfi, int countersNumber)</s>
            +CardTransactionManager prepareReadRecord (byte sfi, int recordNumber)
            +CardTransactionManager prepareReadRecords (byte sfi, int fromRecordNumber, int toRecordNumber, int recordSize)
            +CardTransactionManager prepareReadRecordsPartially (byte sfi, int fromRecordNumber, int toRecordNumber, int offset, int nbBytesToRead)
            +CardTransactionManager prepareReadBinary (byte sfi, int offset, int nbBytesToRead)
            +CardTransactionManager prepareReadCounter (byte sfi, int nbCountersToRead)

            +CardTransactionManager prepareSearchRecords (SearchCommandData data)

            +CardTransactionManager prepareCheckPinStatus ()

            +CardTransactionManager prepareAppendRecord (byte sfi, byte[] recordData)
            +CardTransactionManager prepareUpdateRecord (byte sfi, int recordNumber, byte[] recordData)
            +CardTransactionManager prepareWriteRecord (byte sfi, int recordNumber, byte[] recordData)

            +CardTransactionManager prepareUpdateBinary (byte sfi, int offset, byte[] data)
            +CardTransactionManager prepareWriteBinary (byte sfi, int offset, byte[] data)

            +CardTransactionManager prepareIncreaseCounter (byte sfi, int counterNumber, int incValue)
            +CardTransactionManager prepareIncreaseCounters(byte sfi, Map<Integer, Integer> counterNumberToIncValueMap)
            +CardTransactionManager prepareDecreaseCounter (byte sfi, int counterNumber, int decValue)
            +CardTransactionManager prepareDecreaseCounters(byte sfi, Map<Integer, Integer> counterNumberToDecValueMap)
            +CardTransactionManager prepareSetCounter (byte sfi, int counterNumber, int newValue)

            +CardTransactionManager prepareSvGet (SvOperation svOperation, SvAction svAction)
            +CardTransactionManager prepareSvReload (int amount, byte[] date, byte[] time, byte[] free)
            +CardTransactionManager prepareSvReload (int amount)
            +CardTransactionManager prepareSvDebit (int amount, byte[] date, byte[] time)
            +CardTransactionManager prepareSvDebit (int amount)
            +CardTransactionManager prepareSvReadAllLogs ()

            +CardTransactionManager prepareInvalidate ()
            +CardTransactionManager prepareRehabilitate ()

            +CardTransactionManager prepareReleaseCardChannel ()

            +<s>CardTransactionManager processCardCommands ()</s>

            +CardTransactionManager processVerifyPin (byte[] pin)
            +CardTransactionManager processChangePin (byte[] newPin)

            +CardTransactionManager processChangeKey (int keyIndex, byte newKif, byte newKvc, byte issuerKif, byte issuerKvc)

            +CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel)
            +CardTransactionManager processClosing ()
            +CardTransactionManager processCancel ()
        }
        +enum SvOperation {
            RELOAD
            DEBIT
        }
        +enum SvAction {
            DO
            UNDO
        }
        +interface CardSecuritySetting extends CommonSecuritySetting {
            +<s>CardSecuritySetting setSamResource (<back:yellow>CardReader</back> samReader, CalypsoSam calypsoSam)</s>

            +CardSecuritySetting enableMultipleSession ()
            +CardSecuritySetting enableRatificationMechanism ()
            +CardSecuritySetting enablePinPlainTransmission ()
            +CardSecuritySetting enableSvLoadAndDebitLog ()
            +CardSecuritySetting authorizeSvNegativeBalance ()

            +CardSecuritySetting assignKif (WriteAccessLevel writeAccessLevel, byte kvc, byte kif)
            +CardSecuritySetting assignDefaultKif (WriteAccessLevel writeAccessLevel, byte kif)
            +CardSecuritySetting assignDefaultKvc (WriteAccessLevel writeAccessLevel, byte kvc)

            +CardSecuritySetting addAuthorizedSessionKey (byte kif, byte kvc)
            +CardSecuritySetting addAuthorizedSvKey (byte kif, byte kvc)

            +CardSecuritySetting setPinVerificationCipheringKey (byte kif, byte kvc)
            +CardSecuritySetting setPinModificationCipheringKey (byte kif, byte kvc)
        }
        +interface SearchCommandData {
            +SearchCommandData setSfi (byte sfi)
            +SearchCommandData startAtRecord (int recordNumber)
            +SearchCommandData setOffset (int offset)
            +SearchCommandData enableRepeatedOffset ()
            +SearchCommandData setSearchData (byte[] data)
            +SearchCommandData setMask (byte[] mask)
            +SearchCommandData fetchFirstMatchingResult ()

            +List<Integer> getMatchingRecordNumbers ()
        }
        +interface SamTransactionManager extends CommonTransactionManager {
            +<back:yellow>CardReader</back> getSamReader ()
            +CalypsoSam getCalypsoSam ()

            +SamTransactionManager prepareReadEventCounter (int eventCounterNumber)
            +SamTransactionManager prepareReadEventCounters (int fromEventCounterNumber, int toEventCounterNumber)
            +SamTransactionManager prepareReadEventCeiling (int eventCeilingNumber)
            +SamTransactionManager prepareReadEventCeilings (int fromEventCeilingNumber, int toEventCeilingNumber)
            +SamTransactionManager prepareWriteEventCeiling (int eventCeilingNumber, int newValue)
            +SamTransactionManager prepareWriteEventCeilings (int fromEventCeilingNumber, List<Integer> newValues)
        }
        +interface SamSecuritySetting extends CommonSecuritySetting {
        }
        +class "<<RuntimeException>>" as RuntimeException {
            +**SessionBufferOverflowException**: Session buffer would overflow for atomic session.
            +**UnauthorizedKeyException**
            +**CardRevokedException**
            +**SamRevokedException**
            +**InconsistentDataException**: Number of R-APDUs != number of C-APDUs **or** data read in session != data read outside session.
            +**InvalidSignatureException**: R-APDU of PSO Verify Signature = 6988.
            +**InvalidCardSignatureException**: R-APDU of DigestAuthenticate = 6988 **or** R-APDU of SvCheck = 6988.
            +**CardSignatureNotVerifiableException**: R-APDU of CloseSecureSession = 9000 but SAM is no more available.
            +**SelectFileException**: R-APDU of SelectFile = 6A82.
            +**UnexpectedCommandStatusException**
            +**ReaderIOException**: Card reader and/or SAM reader communication is broken.
            +**CardIOException**
            +**SamIOException**
        }
    }
}


CommonTransactionManager .up.> CommonSignatureComputationData #27AE60 : use >
CommonTransactionManager .up.> CommonSignatureVerificationData #27AE60 : use >
CommonTransactionManager ..> CommonSecuritySetting #3498DB : provide >

CommonSecuritySetting ..> SamRevocationServiceSpi #27AE60 : use >

CalypsoCardSelection +- - FileOccurrence
CalypsoCardSelection ..> FileOccurrence #3498DB : provide >
CalypsoCardSelection +- - FileControlInformation
CalypsoCardSelection ..> FileControlInformation #3498DB : provide >

CardTransactionManager ..> WriteAccessLevel #27AE60 : use >
CardTransactionManager ..> SvOperation #27AE60 : use >
CardTransactionManager ..> SvAction #27AE60 : use >
CardTransactionManager .up.> SelectFileControl #27AE60 : use >
CardTransactionManager .up.> GetDataTag #27AE60 : use >
CardTransactionManager .right.> SearchCommandData #27AE60 : use >
CardTransactionManager .right.> CalypsoCard #3498DB : use and provide up to date content >
CardTransactionManager ..> CardSecuritySetting #3498DB : provide >

CardSecuritySetting ..> WriteAccessLevel #27AE60 : use >
CardSecuritySetting ..> CalypsoSam #3498DB : provide >

CalypsoSamSelection ..> SamProductType #27AE60 : use >

SamTransactionManager ..> CalypsoSam #3498DB : provide >
SamTransactionManager ..> SamSecuritySetting #3498DB : provide >

CalypsoSam +- - SamProductType
CalypsoSam ..> SamProductType #3498DB : provide >

CalypsoCardSelection .up.> SelectFileControl #27AE60 : use >
CalypsoCardSelection .up.> GetDataTag #27AE60 : use >

CalypsoCard ..> DirectoryHeader #3498DB : provide >
CalypsoCard ..> ElementaryFile #3498DB : provide >
CalypsoCard +- - CardProductType
CalypsoCard ..> CardProductType #3498DB : provide >
CalypsoCard ..> SvLoadLogRecord #3498DB : provide >
CalypsoCard ..> SvDebitLogRecord #3498DB : provide >

DirectoryHeader ..> WriteAccessLevel #27AE60 : use >

ElementaryFile +- - FileType
ElementaryFile ..> FileHeader #3498DB : provide >
ElementaryFile ..> FileData #3498DB : provide >

FileHeader .right.> FileType #3498DB : provide >




package api #F8F9F9 {}
package spi #F2F3F4 {}
package card #F2F3F4 {}
package sam #F2F3F4 {}
package transaction #F2F3F4 {}


@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>