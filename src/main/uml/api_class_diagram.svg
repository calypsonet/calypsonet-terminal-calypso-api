<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2219px" preserveAspectRatio="none" style="width:3681px;height:2219px;background:#FFFFFF;" version="1.1" viewBox="0 0 3681 2219" width="3681px" zoomAndPan="magnify"><defs><filter height="1" id="b1lokyz1o38ilr0" width="1" x="0" y="0"><feFlood flood-color="#FFFF00" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="563" x="1552.5" y="18.6855">Calypsonet - calypsonet-terminal-calypso-java-api - 1.2.+ (2022-03-18)</text><rect fill="#DDDDDD" height="62.8281" rx="5" ry="5" style="stroke:#000000;stroke-width:1.0;" width="288" x="1689.5" y="30.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="88" x="1695.5" y="50.1738">Colors legend</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1787.5" y="50.1738">:</text><ellipse cx="1701" cy="63.3594" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="189" x="1708.5" y="67.7832">External public API references</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1901.5" y="67.7832">:</text><rect fill="#000000" height="3.5" style="stroke:#000000;stroke-width:0.0;" width="3.5" x="1716.5" y="80.4688"/><text fill="#000000" filter="url(#b1lokyz1o38ilr0)" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="250" x="1721.5" y="85.3926">calypsonet-terminal-reader-java-api</text><!--MD5=[7442f3b126ee602ae02566c1a49e158a]
cluster api--><polygon fill="#F8F9F9" points="16,108.4688,244,108.4688,251,132.0781,3664,132.0781,3664,2212.9688,16,2212.9688,16,108.4688" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="251" y1="132.0781" y2="132.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="222" x="20" y="125.002">org.calypsonet.terminal.calypso</text><!--MD5=[f7e0e2453c87923036c1ac2adfb9cbf0]
cluster spi--><polygon fill="#F2F3F4" points="40,1420.9688,67,1420.9688,74,1444.5781,400,1444.5781,400,1568.9688,40,1568.9688,40,1420.9688" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="40" x2="74" y1="1444.5781" y2="1444.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="21" x="44" y="1437.502">spi</text><!--MD5=[fc5f7357635190d92cef7ec8135ac887]
cluster card--><polygon fill="#F2F3F4" points="2282,495.9688,2319,495.9688,2326,519.5781,3640,519.5781,3640,1991.9688,2282,1991.9688,2282,495.9688" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="2282" x2="2326" y1="519.5781" y2="519.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="31" x="2286" y="512.502">card</text><!--MD5=[98d4fa74a8fc0b7c744d347d810a7562]
cluster sam--><polygon fill="#F2F3F4" points="772,1722.4688,806,1722.4688,813,1746.0781,1444,1746.0781,1444,2188.9688,772,2188.9688,772,1722.4688" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="772" x2="813" y1="1746.0781" y2="1746.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="28" x="776" y="1739.002">sam</text><!--MD5=[f9c58d90839a0c7c212d8c6553ac9eb7]
cluster transaction--><polygon fill="#F2F3F4" points="424,152.4688,509,152.4688,516,176.0781,2258,176.0781,2258,1672.4688,424,1672.4688,424,152.4688" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="424" x2="516" y1="176.0781" y2="176.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="79" x="428" y="169.002">transaction</text><!--MD5=[120218adfd8782b0057db0a1b8294250]
class ApiProperties--><rect codeLine="55" fill="#FEFECE" height="61.8359" id="ApiProperties" style="stroke:#D4AC0D;stroke-width:1.5;" width="189" x="123.5" y="256.9688"/><ellipse cx="138.5" cy="272.9688" fill="#ADD1B2" rx="11" ry="11" style="stroke:#ADD1B2;stroke-width:1.0;"/><path d="M140.5,269.4688 Q140.7031,268.9688 140.9375,268.7188 Q141.1719,268.4688 141.4375,268.4688 Q141.9063,268.4688 142.2031,268.75 Q142.5,269.0313 142.5,269.6875 L142.5,271.25 Q142.5,271.9063 142.2188,272.1875 Q141.9375,272.4688 141.5,272.4688 Q141.1094,272.4688 140.8594,272.2969 Q140.6094,272.125 140.5,271.6719 Q140.4531,271.3594 140.2813,271.1875 Q139.9688,270.8594 139.4063,270.6719 Q138.8438,270.4688 138.2813,270.4688 Q137.5781,270.4688 136.9844,270.75 Q136.4063,271.0313 135.9531,271.6563 Q135.5,272.2813 135.5,273.1406 L135.5,274.0625 Q135.5,275.0938 136.3438,275.7813 Q137.1875,276.4688 138.6875,276.4688 Q139.5781,276.4688 140.2031,276.2656 Q140.5625,276.1563 140.9688,275.7969 Q141.2344,275.5938 141.375,275.5313 Q141.5156,275.4688 141.6875,275.4688 Q142.0156,275.4688 142.25,275.7344 Q142.5,275.9844 142.5,276.3438 Q142.5,276.6875 142.1563,277.0938 Q141.6563,277.6875 140.8594,278.0156 Q139.8125,278.4688 138.5313,278.4688 Q137.0313,278.4688 135.8281,277.875 Q134.8594,277.4063 134.1719,276.3906 Q133.5,275.375 133.5,274.1719 L133.5,273.0781 Q133.5,271.8281 134.0938,270.7344 Q134.7031,269.6406 135.75,269.0625 Q136.8125,268.4688 138,268.4688 Q138.7188,268.4688 139.3438,268.7188 Q139.9688,268.9688 140.5,269.4688 Z " fill="#000000"/><ellipse cx="157.5" cy="272.4688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="24" x="163.5" y="277.8789">final</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="119" x="190.5" y="277.8789">CalypsoApiProperties</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="124.5" x2="311.5" y1="288.9688" y2="288.9688"/><ellipse cx="134.5" cy="299.9688" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="23" x="143.5" y="304.3877">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="76" x="169.5" y="304.3877">String VERSION</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="124.5" x2="311.5" y1="310.8047" y2="310.8047"/><!--MD5=[d40df061e984b253aad79dc56dfef347]
class WriteAccessLevel--><rect codeLine="58" fill="#FEFECE" height="89.5078" id="WriteAccessLevel" style="stroke:#D4AC0D;stroke-width:1.5;" width="140" x="1619" y="1830.9688"/><ellipse cx="1634" cy="1846.9688" fill="#EB937F" rx="11" ry="11" style="stroke:#EB93DF;stroke-width:1.0;"/><path d="M1632.5,1847.9688 L1632.5,1849.9688 L1636.5,1849.9688 L1636.5,1848.9688 L1636.5,1848.4844 L1637.125,1847.9688 L1637.5,1847.9688 L1637.875,1847.9688 L1638.5,1848.4844 L1638.5,1848.9688 L1638.5,1851.9688 L1630.5,1851.9688 L1630.0156,1851.9688 L1629.5,1851.3438 L1629.5,1850.9688 L1629.5,1850.5938 L1630.0156,1849.9688 L1630.5,1849.9688 L1630.5,1849.9688 L1630.5,1843.9688 L1630.5,1843.9688 L1630.0156,1843.9688 L1629.5,1843.3438 L1629.5,1842.9688 L1629.5,1842.5938 L1630.0156,1841.9688 L1630.5,1841.9688 L1638.5,1841.9688 L1638.5,1844.9688 L1638.5,1845.4531 L1637.875,1845.9688 L1637.5,1845.9688 L1637.125,1845.9688 L1636.5,1845.4531 L1636.5,1844.9688 L1636.5,1843.9688 L1632.5,1843.9688 L1632.5,1845.9688 L1633.5,1845.9688 L1633.5,1845.4844 L1633.5,1845.4844 L1634.125,1844.9688 L1634.5,1844.9688 L1634.875,1844.9688 L1635.5,1845.4844 L1635.5,1845.9688 L1635.5,1847.9688 L1635.5,1848.4531 L1634.875,1848.9688 L1634.875,1848.9688 L1634.5,1848.9688 L1634.125,1848.9688 L1633.5,1848.4531 L1633.5,1848.4531 L1633.5,1847.9688 L1632.5,1847.9688 Z " fill="#000000"/><ellipse cx="1653" cy="1846.4688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="97" x="1659" y="1851.8789">WriteAccessLevel</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="1620" x2="1758" y1="1862.9688" y2="1862.9688"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="95" x="1625" y="1878.3877">PERSONALIZATION</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="29" x="1625" y="1892.2236">LOAD</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="28" x="1625" y="1906.0596">DEBIT</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="1620" x2="1758" y1="1912.4766" y2="1912.4766"/><!--MD5=[858307e347215d8034d295bce1f15f07]
class SelectFileControl--><rect codeLine="63" fill="#FEFECE" height="89.5078" id="SelectFileControl" style="stroke:#D4AC0D;stroke-width:1.5;" width="137" x="2278.5" y="242.9688"/><ellipse cx="2293.5" cy="258.9688" fill="#EB937F" rx="11" ry="11" style="stroke:#EB93DF;stroke-width:1.0;"/><path d="M2292,259.9688 L2292,261.9688 L2296,261.9688 L2296,260.9688 L2296,260.4844 L2296.625,259.9688 L2297,259.9688 L2297.375,259.9688 L2298,260.4844 L2298,260.9688 L2298,263.9688 L2290,263.9688 L2289.5156,263.9688 L2289,263.3438 L2289,262.9688 L2289,262.5938 L2289.5156,261.9688 L2290,261.9688 L2290,261.9688 L2290,255.9688 L2290,255.9688 L2289.5156,255.9688 L2289,255.3438 L2289,254.9688 L2289,254.5938 L2289.5156,253.9688 L2290,253.9688 L2298,253.9688 L2298,256.9688 L2298,257.4531 L2297.375,257.9688 L2297,257.9688 L2296.625,257.9688 L2296,257.4531 L2296,256.9688 L2296,255.9688 L2292,255.9688 L2292,257.9688 L2293,257.9688 L2293,257.4844 L2293,257.4844 L2293.625,256.9688 L2294,256.9688 L2294.375,256.9688 L2295,257.4844 L2295,257.9688 L2295,259.9688 L2295,260.4531 L2294.375,260.9688 L2294.375,260.9688 L2294,260.9688 L2293.625,260.9688 L2293,260.4531 L2293,260.4531 L2293,259.9688 L2292,259.9688 Z " fill="#000000"/><ellipse cx="2312.5" cy="258.4688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="94" x="2318.5" y="263.8789">SelectFileControl</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="2279.5" x2="2414.5" y1="274.9688" y2="274.9688"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="46" x="2284.5" y="290.3877">FIRST_EF</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="44" x="2284.5" y="304.2236">NEXT_EF</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="66" x="2284.5" y="318.0596">CURRENT_DF</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="2279.5" x2="2414.5" y1="324.4766" y2="324.4766"/><!--MD5=[97e08845a712c8f45c07bef0bf0d44ef]
class GetDataTag--><rect codeLine="68" fill="#FEFECE" height="103.3438" id="GetDataTag" style="stroke:#D4AC0D;stroke-width:1.5;" width="160" x="2451" y="236.4688"/><ellipse cx="2488.95" cy="252.4688" fill="#EB937F" rx="11" ry="11" style="stroke:#EB93DF;stroke-width:1.0;"/><path d="M2487.45,253.4688 L2487.45,255.4688 L2491.45,255.4688 L2491.45,254.4688 L2491.45,253.9844 L2492.075,253.4688 L2492.45,253.4688 L2492.825,253.4688 L2493.45,253.9844 L2493.45,254.4688 L2493.45,257.4688 L2485.45,257.4688 L2484.9656,257.4688 L2484.45,256.8438 L2484.45,256.4688 L2484.45,256.0938 L2484.9656,255.4688 L2485.45,255.4688 L2485.45,255.4688 L2485.45,249.4688 L2485.45,249.4688 L2484.9656,249.4688 L2484.45,248.8438 L2484.45,248.4688 L2484.45,248.0938 L2484.9656,247.4688 L2485.45,247.4688 L2493.45,247.4688 L2493.45,250.4688 L2493.45,250.9531 L2492.825,251.4688 L2492.45,251.4688 L2492.075,251.4688 L2491.45,250.9531 L2491.45,250.4688 L2491.45,249.4688 L2487.45,249.4688 L2487.45,251.4688 L2488.45,251.4688 L2488.45,250.9844 L2488.45,250.9844 L2489.075,250.4688 L2489.45,250.4688 L2489.825,250.4688 L2490.45,250.9844 L2490.45,251.4688 L2490.45,253.4688 L2490.45,253.9531 L2489.825,254.4688 L2489.825,254.4688 L2489.45,254.4688 L2489.075,254.4688 L2488.45,253.9531 L2488.45,253.9531 L2488.45,253.4688 L2487.45,253.4688 Z " fill="#000000"/><ellipse cx="2513.05" cy="251.9688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="66" x="2519.05" y="257.3789">GetDataTag</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="2452" x2="2610" y1="268.4688" y2="268.4688"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="125" x="2457" y="283.8877">FCP_FOR_CURRENT_FILE</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="114" x="2457" y="297.7236">FCI_FOR_CURRENT_DF</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="39" x="2457" y="311.5596">EF_LIST</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="148" x="2457" y="325.3955">TRACEABILITY_INFORMATION</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="2452" x2="2610" y1="331.8125" y2="331.8125"/><!--MD5=[e9275a698c945725d635dad2e94a3fa6]
class SamRevocationServiceSpi--><rect codeLine="75" fill="#FEFECE" height="75.6719" id="SamRevocationServiceSpi" style="stroke:#D4AC0D;stroke-width:1.5;" width="327" x="56.5" y="1476.9688"/><ellipse cx="136.75" cy="1492.9688" fill="#B4A7E5" rx="11" ry="11" style="stroke:#B4A7E5;stroke-width:1.0;"/><path d="M137.75,1489.9688 L137.75,1495.9688 L139.75,1495.9688 L140.2344,1495.9688 L140.75,1496.5938 L140.75,1496.9688 L140.75,1497.3438 L140.2344,1497.9688 L139.75,1497.9688 L133.75,1497.9688 L133.2656,1497.9688 L132.75,1497.3438 L132.75,1496.9688 L132.75,1496.5938 L133.2656,1495.9688 L133.75,1495.9688 L135.75,1495.9688 L135.75,1489.9688 L133.75,1489.9688 L133.2656,1489.9688 L132.75,1489.3438 L132.75,1488.9688 L132.75,1488.5938 L133.2656,1487.9688 L133.75,1487.9688 L139.75,1487.9688 L140.2344,1487.9688 L140.75,1488.5938 L140.75,1488.9688 L140.75,1489.3438 L140.2344,1489.9688 L139.75,1489.9688 L137.75,1489.9688 Z " fill="#000000"/><ellipse cx="162.25" cy="1492.4688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="147" x="168.25" y="1497.8789">SamRevocationServiceSpi</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="57.5" x2="382.5" y1="1508.9688" y2="1508.9688"/><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="57.5" x2="382.5" y1="1516.9688" y2="1516.9688"/><ellipse cx="67.5" cy="1527.9688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="216" x="76.5" y="1532.3877">boolean isSamRevoked (byte[] serialNumber)</text><ellipse cx="67.5" cy="1541.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="301" x="76.5" y="1546.2236">boolean isSamRevoked (byte[] serialNumber, int counterValue)</text><!--MD5=[dedf7a414a26192be9658079488df692]
class CalypsoCardSelection--><rect codeLine="81" fill="#FEFECE" height="332.9063" id="CalypsoCardSelection" style="stroke:#D4AC0D;stroke-width:1.5;" width="471" x="2298.5" y="703.9688"/><ellipse cx="2462.75" cy="724.0625" fill="#B4A7E5" rx="11" ry="11" style="stroke:#B4A7E5;stroke-width:1.0;"/><path d="M2463.75,721.0625 L2463.75,727.0625 L2465.75,727.0625 L2466.2344,727.0625 L2466.75,727.6875 L2466.75,728.0625 L2466.75,728.4375 L2466.2344,729.0625 L2465.75,729.0625 L2459.75,729.0625 L2459.2656,729.0625 L2458.75,728.4375 L2458.75,728.0625 L2458.75,727.6875 L2459.2656,727.0625 L2459.75,727.0625 L2461.75,727.0625 L2461.75,721.0625 L2459.75,721.0625 L2459.2656,721.0625 L2458.75,720.4375 L2458.75,720.0625 L2458.75,719.6875 L2459.2656,719.0625 L2459.75,719.0625 L2465.75,719.0625 L2466.2344,719.0625 L2466.75,719.6875 L2466.75,720.0625 L2466.75,720.4375 L2466.2344,721.0625 L2465.75,721.0625 L2463.75,721.0625 Z " fill="#000000"/><ellipse cx="2488.25" cy="723.5625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="14" x="2502.75" y="721.4258">&lt;&lt;</text><text fill="#000000" filter="url(#b1lokyz1o38ilr0)" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="78" x="2516.75" y="721.4258">CardSelection</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="14" x="2594.75" y="721.4258">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="123" x="2494.25" y="736.5195">CalypsoCardSelection</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="2299.5" x2="2768.5" y1="744.1563" y2="744.1563"/><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="2299.5" x2="2768.5" y1="752.1563" y2="752.1563"/><ellipse cx="2309.5" cy="763.1563" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="308" x="2318.5" y="767.5752">CalypsoCardSelection filterByCardProtocol (String cardProtocol)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="2321.5" y="781.4111"/><ellipse cx="2309.5" cy="790.8281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="352" x="2318.5" y="795.2471">CalypsoCardSelection filterByPowerOnData (String powerOnDataRegex)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="2321.5" y="809.083"/><ellipse cx="2309.5" cy="818.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="236" x="2318.5" y="822.9189">CalypsoCardSelection filterByDfName (byte[] aid)</text><ellipse cx="2309.5" cy="832.3359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="237" x="2318.5" y="836.7549">CalypsoCardSelection filterByDfName (String aid)</text><ellipse cx="2309.5" cy="846.1719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="358" x="2318.5" y="850.5908">CalypsoCardSelection setFileOccurrence (FileOccurrence fileOccurrence)</text><ellipse cx="2309.5" cy="860.0078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="445" x="2318.5" y="864.4268">CalypsoCardSelection setFileControlInformation (FileControlInformation fileControlInformation)</text><ellipse cx="2309.5" cy="873.8438" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="line-through" textLength="320" x="2318.5" y="878.2627">CalypsoCardSelection addSuccessfulStatusWord (int statusWord)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="2321.5" y="892.0986"/><ellipse cx="2309.5" cy="901.5156" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="227" x="2318.5" y="905.9346">CalypsoCardSelection acceptInvalidatedCard ()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="2321.5" y="919.7705"/><ellipse cx="2309.5" cy="929.1875" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="line-through" textLength="244" x="2318.5" y="933.6064">CalypsoCardSelection prepareSelectFile (byte[] lid)</text><ellipse cx="2309.5" cy="943.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="242" x="2318.5" y="947.4424">CalypsoCardSelection prepareSelectFile (short lid)</text><ellipse cx="2309.5" cy="956.8594" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="350" x="2318.5" y="961.2783">CalypsoCardSelection prepareSelectFile (SelectFileControl selectControl)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="2321.5" y="975.1143"/><ellipse cx="2309.5" cy="984.5313" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="272" x="2318.5" y="988.9502">CalypsoCardSelection prepareGetData (GetDataTag tag)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="2321.5" y="1002.7861"/><ellipse cx="2309.5" cy="1012.2031" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="line-through" textLength="359" x="2318.5" y="1016.6221">CalypsoCardSelection prepareReadRecordFile (byte sfi, int recordNumber)</text><ellipse cx="2309.5" cy="1026.0391" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="343" x="2318.5" y="1030.458">CalypsoCardSelection prepareReadRecord (byte sfi, int recordNumber)</text><!--MD5=[986279e3cfc2043660398b1cf71c65a2]
class FileOccurrence--><rect codeLine="103" fill="#FEFECE" height="103.3438" id="FileOccurrence" style="stroke:#D4AC0D;stroke-width:1.5;" width="126" x="2298" y="1463.4688"/><ellipse cx="2313" cy="1479.4688" fill="#EB937F" rx="11" ry="11" style="stroke:#EB93DF;stroke-width:1.0;"/><path d="M2311.5,1480.4688 L2311.5,1482.4688 L2315.5,1482.4688 L2315.5,1481.4688 L2315.5,1480.9844 L2316.125,1480.4688 L2316.5,1480.4688 L2316.875,1480.4688 L2317.5,1480.9844 L2317.5,1481.4688 L2317.5,1484.4688 L2309.5,1484.4688 L2309.0156,1484.4688 L2308.5,1483.8438 L2308.5,1483.4688 L2308.5,1483.0938 L2309.0156,1482.4688 L2309.5,1482.4688 L2309.5,1482.4688 L2309.5,1476.4688 L2309.5,1476.4688 L2309.0156,1476.4688 L2308.5,1475.8438 L2308.5,1475.4688 L2308.5,1475.0938 L2309.0156,1474.4688 L2309.5,1474.4688 L2317.5,1474.4688 L2317.5,1477.4688 L2317.5,1477.9531 L2316.875,1478.4688 L2316.5,1478.4688 L2316.125,1478.4688 L2315.5,1477.9531 L2315.5,1477.4688 L2315.5,1476.4688 L2311.5,1476.4688 L2311.5,1478.4688 L2312.5,1478.4688 L2312.5,1477.9844 L2312.5,1477.9844 L2313.125,1477.4688 L2313.5,1477.4688 L2313.875,1477.4688 L2314.5,1477.9844 L2314.5,1478.4688 L2314.5,1480.4688 L2314.5,1480.9531 L2313.875,1481.4688 L2313.875,1481.4688 L2313.5,1481.4688 L2313.125,1481.4688 L2312.5,1480.9531 L2312.5,1480.9531 L2312.5,1480.4688 L2311.5,1480.4688 Z " fill="#000000"/><ellipse cx="2332" cy="1478.9688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="83" x="2338" y="1484.3789">FileOccurrence</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="2299" x2="2423" y1="1495.4688" y2="1495.4688"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="28" x="2304" y="1510.8877">FIRST</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="27" x="2304" y="1524.7236">LAST</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="26" x="2304" y="1538.5596">NEXT</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="51" x="2304" y="1552.3955">PREVIOUS</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="2299" x2="2423" y1="1558.8125" y2="1558.8125"/><!--MD5=[7db03ef0d09735de9c956eac87f10fc3]
class FileControlInformation--><rect codeLine="109" fill="#FEFECE" height="75.6719" id="FileControlInformation" style="stroke:#D4AC0D;stroke-width:1.5;" width="166" x="2459" y="1476.9688"/><ellipse cx="2474" cy="1492.9688" fill="#EB937F" rx="11" ry="11" style="stroke:#EB93DF;stroke-width:1.0;"/><path d="M2472.5,1493.9688 L2472.5,1495.9688 L2476.5,1495.9688 L2476.5,1494.9688 L2476.5,1494.4844 L2477.125,1493.9688 L2477.5,1493.9688 L2477.875,1493.9688 L2478.5,1494.4844 L2478.5,1494.9688 L2478.5,1497.9688 L2470.5,1497.9688 L2470.0156,1497.9688 L2469.5,1497.3438 L2469.5,1496.9688 L2469.5,1496.5938 L2470.0156,1495.9688 L2470.5,1495.9688 L2470.5,1495.9688 L2470.5,1489.9688 L2470.5,1489.9688 L2470.0156,1489.9688 L2469.5,1489.3438 L2469.5,1488.9688 L2469.5,1488.5938 L2470.0156,1487.9688 L2470.5,1487.9688 L2478.5,1487.9688 L2478.5,1490.9688 L2478.5,1491.4531 L2477.875,1491.9688 L2477.5,1491.9688 L2477.125,1491.9688 L2476.5,1491.4531 L2476.5,1490.9688 L2476.5,1489.9688 L2472.5,1489.9688 L2472.5,1491.9688 L2473.5,1491.9688 L2473.5,1491.4844 L2473.5,1491.4844 L2474.125,1490.9688 L2474.5,1490.9688 L2474.875,1490.9688 L2475.5,1491.4844 L2475.5,1491.9688 L2475.5,1493.9688 L2475.5,1494.4531 L2474.875,1494.9688 L2474.875,1494.9688 L2474.5,1494.9688 L2474.125,1494.9688 L2473.5,1494.4531 L2473.5,1494.4531 L2473.5,1493.9688 L2472.5,1493.9688 Z " fill="#000000"/><ellipse cx="2493" cy="1492.4688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="123" x="2499" y="1497.8789">FileControlInformation</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="2460" x2="2624" y1="1508.9688" y2="1508.9688"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="15" x="2465" y="1524.3877">FCI</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="75" x="2465" y="1538.2236">NO_RESPONSE</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="2460" x2="2624" y1="1544.6406" y2="1544.6406"/><!--MD5=[57d9060bfed72118962c04165c3e8b58]
class CalypsoCard--><rect codeLine="113" fill="#FEFECE" height="637.2969" id="CalypsoCard" style="stroke:#D4AC0D;stroke-width:1.5;" width="282" x="2812" y="551.9688"/><ellipse cx="2899.25" cy="572.0625" fill="#B4A7E5" rx="11" ry="11" style="stroke:#B4A7E5;stroke-width:1.0;"/><path d="M2900.25,569.0625 L2900.25,575.0625 L2902.25,575.0625 L2902.7344,575.0625 L2903.25,575.6875 L2903.25,576.0625 L2903.25,576.4375 L2902.7344,577.0625 L2902.25,577.0625 L2896.25,577.0625 L2895.7656,577.0625 L2895.25,576.4375 L2895.25,576.0625 L2895.25,575.6875 L2895.7656,575.0625 L2896.25,575.0625 L2898.25,575.0625 L2898.25,569.0625 L2896.25,569.0625 L2895.7656,569.0625 L2895.25,568.4375 L2895.25,568.0625 L2895.25,567.6875 L2895.7656,567.0625 L2896.25,567.0625 L2902.25,567.0625 L2902.7344,567.0625 L2903.25,567.6875 L2903.25,568.0625 L2903.25,568.4375 L2902.7344,569.0625 L2902.25,569.0625 L2900.25,569.0625 Z " fill="#000000"/><ellipse cx="2924.75" cy="571.5625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="14" x="2930.75" y="569.4258">&lt;&lt;</text><text fill="#000000" filter="url(#b1lokyz1o38ilr0)" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="60" x="2944.75" y="569.4258">SmartCard</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="14" x="3004.75" y="569.4258">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="72" x="2938.75" y="584.5195">CalypsoCard</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="2813" x2="3093" y1="592.1563" y2="592.1563"/><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="2813" x2="3093" y1="600.1563" y2="600.1563"/><ellipse cx="2823" cy="611.1563" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="151" x="2832" y="615.5752">ProductType getProductType ()</text><ellipse cx="2823" cy="624.9922" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="79" x="2832" y="629.4111">boolean isHce ()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="2835" y="643.2471"/><ellipse cx="2823" cy="652.6641" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="122" x="2832" y="657.083">boolean isDfInvalidated ()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="2835" y="670.9189"/><ellipse cx="2823" cy="680.3359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="94" x="2832" y="684.7549">byte[] getDfName ()</text><ellipse cx="2823" cy="694.1719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="173" x="2832" y="698.5908">byte[] getApplicationSerialNumber ()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="2835" y="712.4268"/><ellipse cx="2823" cy="721.8438" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="154" x="2832" y="726.2627">byte[] getStartupInfoRawData ()</text><ellipse cx="2823" cy="735.6797" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="89" x="2832" y="740.0986">byte getPlatform ()</text><ellipse cx="2823" cy="749.5156" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="127" x="2832" y="753.9346">byte getApplicationType ()</text><ellipse cx="2823" cy="763.3516" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="143" x="2832" y="767.7705">byte getApplicationSubtype ()</text><ellipse cx="2823" cy="777.1875" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="126" x="2832" y="781.6064">byte getSoftwareIssuer ()</text><ellipse cx="2823" cy="791.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="134" x="2832" y="795.4424">byte getSoftwareVersion ()</text><ellipse cx="2823" cy="804.8594" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="137" x="2832" y="809.2783">byte getSoftwareRevision ()</text><ellipse cx="2823" cy="818.6953" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="146" x="2832" y="823.1143">byte getSessionModification ()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="2835" y="836.9502"/><ellipse cx="2823" cy="846.3672" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="164" x="2832" y="850.7861">byte[] getTraceabilityInformation ()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="2835" y="864.6221"/><ellipse cx="2823" cy="874.0391" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="187" x="2832" y="878.458">DirectoryHeader getDirectoryHeader ()</text><ellipse cx="2823" cy="887.875" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="176" x="2832" y="892.2939">ElementaryFile getFileBySfi (byte sfi)</text><ellipse cx="2823" cy="901.7109" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="179" x="2832" y="906.1299">ElementaryFile getFileByLid (short lid)</text><ellipse cx="2823" cy="915.5469" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="line-through" textLength="192" x="2832" y="919.9658">Map&lt;Byte, ElementaryFile&gt; getAllFiles ()</text><ellipse cx="2823" cy="929.3828" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="148" x="2832" y="933.8018">Set&lt;ElementaryFile&gt; getFiles ()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="2835" y="947.6377"/><ellipse cx="2823" cy="957.0547" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="107" x="2832" y="961.4736">boolean isDfRatified ()</text><ellipse cx="2823" cy="970.8906" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="135" x="2832" y="975.3096">int getTransactionCounter ()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="2835" y="989.1455"/><ellipse cx="2823" cy="998.5625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="149" x="2832" y="1002.9814">boolean isPkiModeSupported ()</text><ellipse cx="2823" cy="1012.3984" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="181" x="2832" y="1016.8174">boolean isExtendedModeSupported ()</text><ellipse cx="2823" cy="1026.2344" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="219" x="2832" y="1030.6533">boolean isRatificationOnDeselectSupported ()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="2835" y="1044.4893"/><ellipse cx="2823" cy="1053.9063" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="155" x="2832" y="1058.3252">boolean isPinFeatureAvailable ()</text><ellipse cx="2823" cy="1067.7422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="112" x="2832" y="1072.1611">boolean isPinBlocked ()</text><ellipse cx="2823" cy="1081.5781" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="140" x="2832" y="1085.9971">int getPinAttemptRemaining ()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="2835" y="1099.833"/><ellipse cx="2823" cy="1109.25" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="154" x="2832" y="1113.6689">boolean isSvFeatureAvailable ()</text><ellipse cx="2823" cy="1123.0859" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="92" x="2832" y="1127.5049">int getSvBalance ()</text><ellipse cx="2823" cy="1136.9219" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="101" x="2832" y="1141.3408">int getSvLastTNum ()</text><ellipse cx="2823" cy="1150.7578" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="209" x="2832" y="1155.1768">SvLoadLogRecord getSvLoadLogRecord ()</text><ellipse cx="2823" cy="1164.5938" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="230" x="2832" y="1169.0127">SvDebitLogRecord getSvDebitLogLastRecord ()</text><ellipse cx="2823" cy="1178.4297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="256" x="2832" y="1182.8486">List&lt;SvDebitLogRecord&gt; getSvDebitLogAllRecords ()</text><!--MD5=[0b9f931ff20ef873cbf798587ab2189f]
class DirectoryHeader--><rect codeLine="157" fill="#FEFECE" height="158.6875" id="DirectoryHeader" style="stroke:#D4AC0D;stroke-width:1.5;" width="276" x="2990" y="1435.4688"/><ellipse cx="3073.25" cy="1451.4688" fill="#B4A7E5" rx="11" ry="11" style="stroke:#B4A7E5;stroke-width:1.0;"/><path d="M3074.25,1448.4688 L3074.25,1454.4688 L3076.25,1454.4688 L3076.7344,1454.4688 L3077.25,1455.0938 L3077.25,1455.4688 L3077.25,1455.8438 L3076.7344,1456.4688 L3076.25,1456.4688 L3070.25,1456.4688 L3069.7656,1456.4688 L3069.25,1455.8438 L3069.25,1455.4688 L3069.25,1455.0938 L3069.7656,1454.4688 L3070.25,1454.4688 L3072.25,1454.4688 L3072.25,1448.4688 L3070.25,1448.4688 L3069.7656,1448.4688 L3069.25,1447.8438 L3069.25,1447.4688 L3069.25,1447.0938 L3069.7656,1446.4688 L3070.25,1446.4688 L3076.25,1446.4688 L3076.7344,1446.4688 L3077.25,1447.0938 L3077.25,1447.4688 L3077.25,1447.8438 L3076.7344,1448.4688 L3076.25,1448.4688 L3074.25,1448.4688 Z " fill="#000000"/><ellipse cx="3098.75" cy="1450.9688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="90" x="3104.75" y="1456.3789">DirectoryHeader</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="2991" x2="3265" y1="1467.4688" y2="1467.4688"/><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="2991" x2="3265" y1="1475.4688" y2="1475.4688"/><ellipse cx="3001" cy="1486.4688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="68" x="3010" y="1490.8877">short getLid ()</text><ellipse cx="3001" cy="1500.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="93" x="3010" y="1504.7236">Byte getDfStatus ()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="3013" y="1518.5596"/><ellipse cx="3001" cy="1527.9766" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="144" x="3010" y="1532.3955">byte[] getAccessConditions ()</text><ellipse cx="3001" cy="1541.8125" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="113" x="3010" y="1546.2314">byte[] getKeyIndexes ()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="3013" y="1560.0674"/><ellipse cx="3001" cy="1569.4844" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="244" x="3010" y="1573.9033">byte getKif (WriteAccessLevel writeAccessLevel)</text><ellipse cx="3001" cy="1583.3203" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="250" x="3010" y="1587.7393">byte getKvc (WriteAccessLevel writeAccessLevel)</text><!--MD5=[96ed275c747ab8e5816af3c7b7a6d739]
class ElementaryFile--><rect codeLine="167" fill="#FEFECE" height="89.5078" id="ElementaryFile" style="stroke:#D4AC0D;stroke-width:1.5;" width="141" x="3301.5" y="1469.9688"/><ellipse cx="3323.25" cy="1485.9688" fill="#B4A7E5" rx="11" ry="11" style="stroke:#B4A7E5;stroke-width:1.0;"/><path d="M3324.25,1482.9688 L3324.25,1488.9688 L3326.25,1488.9688 L3326.7344,1488.9688 L3327.25,1489.5938 L3327.25,1489.9688 L3327.25,1490.3438 L3326.7344,1490.9688 L3326.25,1490.9688 L3320.25,1490.9688 L3319.7656,1490.9688 L3319.25,1490.3438 L3319.25,1489.9688 L3319.25,1489.5938 L3319.7656,1488.9688 L3320.25,1488.9688 L3322.25,1488.9688 L3322.25,1482.9688 L3320.25,1482.9688 L3319.7656,1482.9688 L3319.25,1482.3438 L3319.25,1481.9688 L3319.25,1481.5938 L3319.7656,1480.9688 L3320.25,1480.9688 L3326.25,1480.9688 L3326.7344,1480.9688 L3327.25,1481.5938 L3327.25,1481.9688 L3327.25,1482.3438 L3326.7344,1482.9688 L3326.25,1482.9688 L3324.25,1482.9688 Z " fill="#000000"/><ellipse cx="3343.75" cy="1485.4688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="83" x="3349.75" y="1490.8789">ElementaryFile</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="3302.5" x2="3441.5" y1="1501.9688" y2="1501.9688"/><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="3302.5" x2="3441.5" y1="1509.9688" y2="1509.9688"/><ellipse cx="3312.5" cy="1520.9688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="63" x="3321.5" y="1525.3877">byte getSfi ()</text><ellipse cx="3312.5" cy="1534.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="115" x="3321.5" y="1539.2236">FileHeader getHeader ()</text><ellipse cx="3312.5" cy="1548.6406" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="89" x="3321.5" y="1553.0596">FileData getData ()</text><!--MD5=[486f9787c412818ec30cf5d906211656]
class FileHeader--><rect codeLine="172" fill="#FEFECE" height="200.1953" id="FileHeader" style="stroke:#D4AC0D;stroke-width:1.5;" width="185" x="2850.5" y="1775.9688"/><ellipse cx="2902.75" cy="1791.9688" fill="#B4A7E5" rx="11" ry="11" style="stroke:#B4A7E5;stroke-width:1.0;"/><path d="M2903.75,1788.9688 L2903.75,1794.9688 L2905.75,1794.9688 L2906.2344,1794.9688 L2906.75,1795.5938 L2906.75,1795.9688 L2906.75,1796.3438 L2906.2344,1796.9688 L2905.75,1796.9688 L2899.75,1796.9688 L2899.2656,1796.9688 L2898.75,1796.3438 L2898.75,1795.9688 L2898.75,1795.5938 L2899.2656,1794.9688 L2899.75,1794.9688 L2901.75,1794.9688 L2901.75,1788.9688 L2899.75,1788.9688 L2899.2656,1788.9688 L2898.75,1788.3438 L2898.75,1787.9688 L2898.75,1787.5938 L2899.2656,1786.9688 L2899.75,1786.9688 L2905.75,1786.9688 L2906.2344,1786.9688 L2906.75,1787.5938 L2906.75,1787.9688 L2906.75,1788.3438 L2906.2344,1788.9688 L2905.75,1788.9688 L2903.75,1788.9688 Z " fill="#000000"/><ellipse cx="2928.25" cy="1791.4688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="61" x="2934.25" y="1796.8789">FileHeader</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="2851.5" x2="3034.5" y1="1807.9688" y2="1807.9688"/><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="2851.5" x2="3034.5" y1="1815.9688" y2="1815.9688"/><ellipse cx="2861.5" cy="1826.9688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="68" x="2870.5" y="1831.3877">short getLid ()</text><ellipse cx="2861.5" cy="1840.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="92" x="2870.5" y="1845.2236">byte getDfStatus ()</text><ellipse cx="2861.5" cy="1854.6406" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="159" x="2870.5" y="1859.0596">ElementaryFile.Type getEfType ()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="2873.5" y="1872.8955"/><ellipse cx="2861.5" cy="1882.3125" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="118" x="2870.5" y="1886.7314">int getRecordsNumber ()</text><ellipse cx="2861.5" cy="1896.1484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="96" x="2870.5" y="1900.5674">int getRecordSize ()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="2873.5" y="1914.4033"/><ellipse cx="2861.5" cy="1923.8203" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="144" x="2870.5" y="1928.2393">byte[] getAccessConditions ()</text><ellipse cx="2861.5" cy="1937.6563" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="113" x="2870.5" y="1942.0752">byte[] getKeyIndexes ()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="2873.5" y="1955.9111"/><ellipse cx="2861.5" cy="1965.3281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="141" x="2870.5" y="1969.7471">Short getSharedReference ()</text><!--MD5=[b2892fca6bf934519171596a14a2d163]
class FileType--><rect codeLine="185" fill="#FEFECE" height="117.1797" id="FileType" style="stroke:#D4AC0D;stroke-width:1.5;" width="130" x="3125" y="1817.4688"/><ellipse cx="3167" cy="1833.4688" fill="#EB937F" rx="11" ry="11" style="stroke:#EB93DF;stroke-width:1.0;"/><path d="M3165.5,1834.4688 L3165.5,1836.4688 L3169.5,1836.4688 L3169.5,1835.4688 L3169.5,1834.9844 L3170.125,1834.4688 L3170.5,1834.4688 L3170.875,1834.4688 L3171.5,1834.9844 L3171.5,1835.4688 L3171.5,1838.4688 L3163.5,1838.4688 L3163.0156,1838.4688 L3162.5,1837.8438 L3162.5,1837.4688 L3162.5,1837.0938 L3163.0156,1836.4688 L3163.5,1836.4688 L3163.5,1836.4688 L3163.5,1830.4688 L3163.5,1830.4688 L3163.0156,1830.4688 L3162.5,1829.8438 L3162.5,1829.4688 L3162.5,1829.0938 L3163.0156,1828.4688 L3163.5,1828.4688 L3171.5,1828.4688 L3171.5,1831.4688 L3171.5,1831.9531 L3170.875,1832.4688 L3170.5,1832.4688 L3170.125,1832.4688 L3169.5,1831.9531 L3169.5,1831.4688 L3169.5,1830.4688 L3165.5,1830.4688 L3165.5,1832.4688 L3166.5,1832.4688 L3166.5,1831.9844 L3166.5,1831.9844 L3167.125,1831.4688 L3167.5,1831.4688 L3167.875,1831.4688 L3168.5,1831.9844 L3168.5,1832.4688 L3168.5,1834.4688 L3168.5,1834.9531 L3167.875,1835.4688 L3167.875,1835.4688 L3167.5,1835.4688 L3167.125,1835.4688 L3166.5,1834.9531 L3166.5,1834.9531 L3166.5,1834.4688 L3165.5,1834.4688 Z " fill="#000000"/><ellipse cx="3192" cy="1832.9688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="27" x="3198" y="1838.3789">Type</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="3126" x2="3254" y1="1849.4688" y2="1849.4688"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="36" x="3131" y="1864.8877">LINEAR</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="39" x="3131" y="1878.7236">BINARY</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="37" x="3131" y="1892.5596">CYCLIC</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="55" x="3131" y="1906.3955">COUNTERS</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="118" x="3131" y="1920.2314">SIMULATED_COUNTERS</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="3126" x2="3254" y1="1926.6484" y2="1926.6484"/><!--MD5=[9e0c9777a80d688403528ae1660d9a4a]
class FileData--><rect codeLine="192" fill="#FEFECE" height="144.8516" id="FileData" style="stroke:#D4AC0D;stroke-width:1.5;" width="334" x="3290" y="1803.4688"/><ellipse cx="3424.25" cy="1819.4688" fill="#B4A7E5" rx="11" ry="11" style="stroke:#B4A7E5;stroke-width:1.0;"/><path d="M3425.25,1816.4688 L3425.25,1822.4688 L3427.25,1822.4688 L3427.7344,1822.4688 L3428.25,1823.0938 L3428.25,1823.4688 L3428.25,1823.8438 L3427.7344,1824.4688 L3427.25,1824.4688 L3421.25,1824.4688 L3420.7656,1824.4688 L3420.25,1823.8438 L3420.25,1823.4688 L3420.25,1823.0938 L3420.7656,1822.4688 L3421.25,1822.4688 L3423.25,1822.4688 L3423.25,1816.4688 L3421.25,1816.4688 L3420.7656,1816.4688 L3420.25,1815.8438 L3420.25,1815.4688 L3420.25,1815.0938 L3420.7656,1814.4688 L3421.25,1814.4688 L3427.25,1814.4688 L3427.7344,1814.4688 L3428.25,1815.0938 L3428.25,1815.4688 L3428.25,1815.8438 L3427.7344,1816.4688 L3427.25,1816.4688 L3425.25,1816.4688 Z " fill="#000000"/><ellipse cx="3449.75" cy="1818.9688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="46" x="3455.75" y="1824.3789">FileData</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="3291" x2="3623" y1="1835.4688" y2="1835.4688"/><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="3291" x2="3623" y1="1843.4688" y2="1843.4688"/><ellipse cx="3301" cy="1854.4688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="93" x="3310" y="1858.8877">byte[] getContent ()</text><ellipse cx="3301" cy="1868.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="162" x="3310" y="1872.7236">byte[] getContent (int numRecord)</text><ellipse cx="3301" cy="1882.1406" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="308" x="3310" y="1886.5596">byte[] getContent (int numRecord, int dataOffset, int dataLength)</text><ellipse cx="3301" cy="1895.9766" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="249" x="3310" y="1900.3955">SortedMap&lt;Integer, byte[]&gt; getAllRecordsContent ()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="3313" y="1914.2314"/><ellipse cx="3301" cy="1923.6484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="251" x="3310" y="1928.0674">Integer getContentAsCounterValue (int numCounter)</text><ellipse cx="3301" cy="1937.4844" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="249" x="3310" y="1941.9033">SortedMap&lt;Integer, Integer&gt; getAllCountersValue ()</text><!--MD5=[e000c089c172563ba3d8f11f76ec265c]
class CardProductType--><rect codeLine="201" fill="#FEFECE" height="131.0156" id="CardProductType" style="stroke:#D4AC0D;stroke-width:1.5;" width="112" x="2843" y="1449.4688"/><ellipse cx="2858" cy="1465.4688" fill="#EB937F" rx="11" ry="11" style="stroke:#EB93DF;stroke-width:1.0;"/><path d="M2856.5,1466.4688 L2856.5,1468.4688 L2860.5,1468.4688 L2860.5,1467.4688 L2860.5,1466.9844 L2861.125,1466.4688 L2861.5,1466.4688 L2861.875,1466.4688 L2862.5,1466.9844 L2862.5,1467.4688 L2862.5,1470.4688 L2854.5,1470.4688 L2854.0156,1470.4688 L2853.5,1469.8438 L2853.5,1469.4688 L2853.5,1469.0938 L2854.0156,1468.4688 L2854.5,1468.4688 L2854.5,1468.4688 L2854.5,1462.4688 L2854.5,1462.4688 L2854.0156,1462.4688 L2853.5,1461.8438 L2853.5,1461.4688 L2853.5,1461.0938 L2854.0156,1460.4688 L2854.5,1460.4688 L2862.5,1460.4688 L2862.5,1463.4688 L2862.5,1463.9531 L2861.875,1464.4688 L2861.5,1464.4688 L2861.125,1464.4688 L2860.5,1463.9531 L2860.5,1463.4688 L2860.5,1462.4688 L2856.5,1462.4688 L2856.5,1464.4688 L2857.5,1464.4688 L2857.5,1463.9844 L2857.5,1463.9844 L2858.125,1463.4688 L2858.5,1463.4688 L2858.875,1463.4688 L2859.5,1463.9844 L2859.5,1464.4688 L2859.5,1466.4688 L2859.5,1466.9531 L2858.875,1467.4688 L2858.875,1467.4688 L2858.5,1467.4688 L2858.125,1467.4688 L2857.5,1466.9531 L2857.5,1466.9531 L2857.5,1466.4688 L2856.5,1466.4688 Z " fill="#000000"/><ellipse cx="2877" cy="1464.9688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="69" x="2883" y="1470.3789">ProductType</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="2844" x2="2954" y1="1481.4688" y2="1481.4688"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="94" x="2849" y="1496.8877">PRIME_REVISION_1</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="94" x="2849" y="1510.7236">PRIME_REVISION_2</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="94" x="2849" y="1524.5596">PRIME_REVISION_3</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="29" x="2849" y="1538.3955">LIGHT</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="31" x="2849" y="1552.2314">BASIC</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="53" x="2849" y="1566.0674">UNKNOWN</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="2844" x2="2954" y1="1572.4844" y2="1572.4844"/><!--MD5=[c749d7bba5587d09bce06f9a9a7e89ad]
class SvLoadLogRecord--><rect codeLine="209" fill="#FEFECE" height="227.8672" id="SvLoadLogRecord" style="stroke:#D4AC0D;stroke-width:1.5;" width="146" x="3478" y="1400.9688"/><ellipse cx="3493" cy="1416.9688" fill="#B4A7E5" rx="11" ry="11" style="stroke:#B4A7E5;stroke-width:1.0;"/><path d="M3494,1413.9688 L3494,1419.9688 L3496,1419.9688 L3496.4844,1419.9688 L3497,1420.5938 L3497,1420.9688 L3497,1421.3438 L3496.4844,1421.9688 L3496,1421.9688 L3490,1421.9688 L3489.5156,1421.9688 L3489,1421.3438 L3489,1420.9688 L3489,1420.5938 L3489.5156,1419.9688 L3490,1419.9688 L3492,1419.9688 L3492,1413.9688 L3490,1413.9688 L3489.5156,1413.9688 L3489,1413.3438 L3489,1412.9688 L3489,1412.5938 L3489.5156,1411.9688 L3490,1411.9688 L3496,1411.9688 L3496.4844,1411.9688 L3497,1412.5938 L3497,1412.9688 L3497,1413.3438 L3496.4844,1413.9688 L3496,1413.9688 L3494,1413.9688 Z " fill="#000000"/><ellipse cx="3512" cy="1416.4688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="103" x="3518" y="1421.8789">SvLoadLogRecord</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="3479" x2="3623" y1="1432.9688" y2="1432.9688"/><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="3479" x2="3623" y1="1440.9688" y2="1440.9688"/><ellipse cx="3489" cy="1451.9688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="101" x="3498" y="1456.3877">byte[] getRawData ()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="3501" y="1470.2236"/><ellipse cx="3489" cy="1479.6406" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="102" x="3498" y="1484.0596">byte[] getLoadDate ()</text><ellipse cx="3489" cy="1493.4766" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="102" x="3498" y="1497.8955">byte[] getLoadTime ()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="3501" y="1511.7314"/><ellipse cx="3489" cy="1521.1484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="77" x="3498" y="1525.5674">int getAmount ()</text><ellipse cx="3489" cy="1534.9844" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="79" x="3498" y="1539.4033">int getBalance ()</text><ellipse cx="3489" cy="1548.8203" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="100" x="3498" y="1553.2393">byte[] getFreeData ()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="3501" y="1567.0752"/><ellipse cx="3489" cy="1576.4922" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="69" x="3498" y="1580.9111">byte getKvc ()</text><ellipse cx="3489" cy="1590.3281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="85" x="3498" y="1594.7471">byte[] getSamId ()</text><ellipse cx="3489" cy="1604.1641" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="88" x="3498" y="1608.583">int getSamTNum ()</text><ellipse cx="3489" cy="1618" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="80" x="3498" y="1622.4189">int getSvTNum ()</text><!--MD5=[f7bb9a4e07bc41a393fc40394d0e062c]
class SvDebitLogRecord--><rect codeLine="224" fill="#FEFECE" height="214.0313" id="SvDebitLogRecord" style="stroke:#D4AC0D;stroke-width:1.5;" width="148" x="2660" y="1407.9688"/><ellipse cx="2675" cy="1423.9688" fill="#B4A7E5" rx="11" ry="11" style="stroke:#B4A7E5;stroke-width:1.0;"/><path d="M2676,1420.9688 L2676,1426.9688 L2678,1426.9688 L2678.4844,1426.9688 L2679,1427.5938 L2679,1427.9688 L2679,1428.3438 L2678.4844,1428.9688 L2678,1428.9688 L2672,1428.9688 L2671.5156,1428.9688 L2671,1428.3438 L2671,1427.9688 L2671,1427.5938 L2671.5156,1426.9688 L2672,1426.9688 L2674,1426.9688 L2674,1420.9688 L2672,1420.9688 L2671.5156,1420.9688 L2671,1420.3438 L2671,1419.9688 L2671,1419.5938 L2671.5156,1418.9688 L2672,1418.9688 L2678,1418.9688 L2678.4844,1418.9688 L2679,1419.5938 L2679,1419.9688 L2679,1420.3438 L2678.4844,1420.9688 L2678,1420.9688 L2676,1420.9688 Z " fill="#000000"/><ellipse cx="2694" cy="1423.4688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="105" x="2700" y="1428.8789">SvDebitLogRecord</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="2661" x2="2807" y1="1439.9688" y2="1439.9688"/><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="2661" x2="2807" y1="1447.9688" y2="1447.9688"/><ellipse cx="2671" cy="1458.9688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="101" x="2680" y="1463.3877">byte[] getRawData ()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="2683" y="1477.2236"/><ellipse cx="2671" cy="1486.6406" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="102" x="2680" y="1491.0596">byte[] getDebitDate ()</text><ellipse cx="2671" cy="1500.4766" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="102" x="2680" y="1504.8955">byte[] getDebitTime ()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="2683" y="1518.7314"/><ellipse cx="2671" cy="1528.1484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="77" x="2680" y="1532.5674">int getAmount ()</text><ellipse cx="2671" cy="1541.9844" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="79" x="2680" y="1546.4033">int getBalance ()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="2683" y="1560.2393"/><ellipse cx="2671" cy="1569.6563" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="69" x="2680" y="1574.0752">byte getKvc ()</text><ellipse cx="2671" cy="1583.4922" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="85" x="2680" y="1587.9111">byte[] getSamId ()</text><ellipse cx="2671" cy="1597.3281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="88" x="2680" y="1601.7471">int getSamTNum ()</text><ellipse cx="2671" cy="1611.1641" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="80" x="2680" y="1615.583">int getSvTNum ()</text><!--MD5=[c337779d2dbd9414fdf26e542ab5c644]
class CalypsoSamSelection--><rect codeLine="240" fill="#FEFECE" height="111.5313" id="CalypsoSamSelection" style="stroke:#D4AC0D;stroke-width:1.5;" width="427" x="1000.5" y="1819.9688"/><ellipse cx="1143.25" cy="1840.0625" fill="#B4A7E5" rx="11" ry="11" style="stroke:#B4A7E5;stroke-width:1.0;"/><path d="M1144.25,1837.0625 L1144.25,1843.0625 L1146.25,1843.0625 L1146.7344,1843.0625 L1147.25,1843.6875 L1147.25,1844.0625 L1147.25,1844.4375 L1146.7344,1845.0625 L1146.25,1845.0625 L1140.25,1845.0625 L1139.7656,1845.0625 L1139.25,1844.4375 L1139.25,1844.0625 L1139.25,1843.6875 L1139.7656,1843.0625 L1140.25,1843.0625 L1142.25,1843.0625 L1142.25,1837.0625 L1140.25,1837.0625 L1139.7656,1837.0625 L1139.25,1836.4375 L1139.25,1836.0625 L1139.25,1835.6875 L1139.7656,1835.0625 L1140.25,1835.0625 L1146.25,1835.0625 L1146.7344,1835.0625 L1147.25,1835.6875 L1147.25,1836.0625 L1147.25,1836.4375 L1146.7344,1837.0625 L1146.25,1837.0625 L1144.25,1837.0625 Z " fill="#000000"/><ellipse cx="1168.75" cy="1839.5625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="14" x="1182.75" y="1837.4258">&lt;&lt;</text><text fill="#000000" filter="url(#b1lokyz1o38ilr0)" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="78" x="1196.75" y="1837.4258">CardSelection</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="14" x="1274.75" y="1837.4258">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="122" x="1174.75" y="1852.5195">CalypsoSamSelection</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="1001.5" x2="1426.5" y1="1860.1563" y2="1860.1563"/><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="1001.5" x2="1426.5" y1="1868.1563" y2="1868.1563"/><ellipse cx="1011.5" cy="1879.1563" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="401" x="1020.5" y="1883.5752">CalypsoSamSelection filterByProductType (CalypsoSam.ProductType productType)</text><ellipse cx="1011.5" cy="1892.9922" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="341" x="1020.5" y="1897.4111">CalypsoSamSelection filterBySerialNumber (String serialNumberRegex)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="1023.5" y="1911.2471"/><ellipse cx="1011.5" cy="1920.6641" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="271" x="1020.5" y="1925.083">CalypsoSamSelection setUnlockData (String unlockData)</text><!--MD5=[f25ff1fa8fa59bbc0543eaadeb7d653a]
class CalypsoSam--><rect codeLine="246" fill="#FEFECE" height="194.5469" id="CalypsoSam" style="stroke:#D4AC0D;stroke-width:1.5;" width="177" x="788.5" y="1778.4688"/><ellipse cx="824.2" cy="1798.5625" fill="#B4A7E5" rx="11" ry="11" style="stroke:#B4A7E5;stroke-width:1.0;"/><path d="M825.2,1795.5625 L825.2,1801.5625 L827.2,1801.5625 L827.6844,1801.5625 L828.2,1802.1875 L828.2,1802.5625 L828.2,1802.9375 L827.6844,1803.5625 L827.2,1803.5625 L821.2,1803.5625 L820.7156,1803.5625 L820.2,1802.9375 L820.2,1802.5625 L820.2,1802.1875 L820.7156,1801.5625 L821.2,1801.5625 L823.2,1801.5625 L823.2,1795.5625 L821.2,1795.5625 L820.7156,1795.5625 L820.2,1794.9375 L820.2,1794.5625 L820.2,1794.1875 L820.7156,1793.5625 L821.2,1793.5625 L827.2,1793.5625 L827.6844,1793.5625 L828.2,1794.1875 L828.2,1794.5625 L828.2,1794.9375 L827.6844,1795.5625 L827.2,1795.5625 L825.2,1795.5625 Z " fill="#000000"/><ellipse cx="847.8" cy="1798.0625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="14" x="853.8" y="1795.9258">&lt;&lt;</text><text fill="#000000" filter="url(#b1lokyz1o38ilr0)" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="60" x="867.8" y="1795.9258">SmartCard</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="14" x="927.8" y="1795.9258">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="71" x="862.3" y="1811.0195">CalypsoSam</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="789.5" x2="964.5" y1="1818.6563" y2="1818.6563"/><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="789.5" x2="964.5" y1="1826.6563" y2="1826.6563"/><ellipse cx="799.5" cy="1837.6563" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="151" x="808.5" y="1842.0752">ProductType getProductType ()</text><ellipse cx="799.5" cy="1851.4922" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="112" x="808.5" y="1855.9111">String getProductInfo ()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="811.5" y="1869.7471"/><ellipse cx="799.5" cy="1879.1641" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="120" x="808.5" y="1883.583">byte[] getSerialNumber ()</text><ellipse cx="799.5" cy="1893" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="89" x="808.5" y="1897.4189">byte getPlatform ()</text><ellipse cx="799.5" cy="1906.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="127" x="808.5" y="1911.2549">byte getApplicationType ()</text><ellipse cx="799.5" cy="1920.6719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="146" x="808.5" y="1925.0908">byte getApplicationSubType ()</text><ellipse cx="799.5" cy="1934.5078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="126" x="808.5" y="1938.9268">byte getSoftwareIssuer ()</text><ellipse cx="799.5" cy="1948.3438" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="134" x="808.5" y="1952.7627">byte getSoftwareVersion ()</text><ellipse cx="799.5" cy="1962.1797" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="137" x="808.5" y="1966.5986">byte getSoftwareRevision ()</text><!--MD5=[64db2d10778acf6b7b903aeb76cb16f8]
class SamProductType--><rect codeLine="258" fill="#FEFECE" height="117.1797" id="SamProductType" style="stroke:#D4AC0D;stroke-width:1.5;" width="112" x="862" y="2055.9688"/><ellipse cx="877" cy="2071.9688" fill="#EB937F" rx="11" ry="11" style="stroke:#EB93DF;stroke-width:1.0;"/><path d="M875.5,2072.9688 L875.5,2074.9688 L879.5,2074.9688 L879.5,2073.9688 L879.5,2073.4844 L880.125,2072.9688 L880.5,2072.9688 L880.875,2072.9688 L881.5,2073.4844 L881.5,2073.9688 L881.5,2076.9688 L873.5,2076.9688 L873.0156,2076.9688 L872.5,2076.3438 L872.5,2075.9688 L872.5,2075.5938 L873.0156,2074.9688 L873.5,2074.9688 L873.5,2074.9688 L873.5,2068.9688 L873.5,2068.9688 L873.0156,2068.9688 L872.5,2068.3438 L872.5,2067.9688 L872.5,2067.5938 L873.0156,2066.9688 L873.5,2066.9688 L881.5,2066.9688 L881.5,2069.9688 L881.5,2070.4531 L880.875,2070.9688 L880.5,2070.9688 L880.125,2070.9688 L879.5,2070.4531 L879.5,2069.9688 L879.5,2068.9688 L875.5,2068.9688 L875.5,2070.9688 L876.5,2070.9688 L876.5,2070.4844 L876.5,2070.4844 L877.125,2069.9688 L877.5,2069.9688 L877.875,2069.9688 L878.5,2070.4844 L878.5,2070.9688 L878.5,2072.9688 L878.5,2073.4531 L877.875,2073.9688 L877.875,2073.9688 L877.5,2073.9688 L877.125,2073.9688 L876.5,2073.4531 L876.5,2073.4531 L876.5,2072.9688 L875.5,2072.9688 Z " fill="#000000"/><ellipse cx="896" cy="2071.4688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="69" x="902" y="2076.8789">ProductType</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="863" x2="973" y1="2087.9688" y2="2087.9688"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="42" x="868" y="2103.3877">SAM_C1</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="54" x="868" y="2117.2236">SAM_S1E1</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="55" x="868" y="2131.0596">SAM_S1Dx</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="42" x="868" y="2144.8955">CSAM_F</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="53" x="868" y="2158.7314">UNKNOWN</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="863" x2="973" y1="2165.1484" y2="2165.1484"/><!--MD5=[da61a391893b692be16caea6f1f8a515]
class CommonTransactionManager--><rect codeLine="268" fill="#FEFECE" height="147.0391" id="CommonTransactionManager" style="stroke:#D4AC0D;stroke-width:1.5;" width="469" x="1022.5" y="214.4688"/><ellipse cx="1037.5" cy="231.5625" fill="#B4A7E5" rx="11" ry="11" style="stroke:#B4A7E5;stroke-width:1.0;"/><path d="M1038.5,228.5625 L1038.5,234.5625 L1040.5,234.5625 L1040.9844,234.5625 L1041.5,235.1875 L1041.5,235.5625 L1041.5,235.9375 L1040.9844,236.5625 L1040.5,236.5625 L1034.5,236.5625 L1034.0156,236.5625 L1033.5,235.9375 L1033.5,235.5625 L1033.5,235.1875 L1034.0156,234.5625 L1034.5,234.5625 L1036.5,234.5625 L1036.5,228.5625 L1034.5,228.5625 L1034.0156,228.5625 L1033.5,227.9375 L1033.5,227.5625 L1033.5,227.1875 L1034.0156,226.5625 L1034.5,226.5625 L1040.5,226.5625 L1040.9844,226.5625 L1041.5,227.1875 L1041.5,227.5625 L1041.5,227.9375 L1040.9844,228.5625 L1040.5,228.5625 L1038.5,228.5625 Z " fill="#000000"/><ellipse cx="1056.5" cy="231.0625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="164" x="1062.5" y="236.4727">CommonTransactionManager</text><rect fill="#FFFFFF" height="32.1875" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="260" x="1234.5" y="211.4688"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="258" x="1235.5" y="224.9258">T extends CommonTransactionManager&lt;T, S&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="213" x="1258" y="240.0195">S extends CommonSecuritySetting&lt;S&gt;</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="1023.5" x2="1490.5" y1="248.6563" y2="248.6563"/><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="1023.5" x2="1490.5" y1="256.6563" y2="256.6563"/><ellipse cx="1033.5" cy="267.6563" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="109" x="1042.5" y="272.0752">S getSecuritySetting ()</text><ellipse cx="1033.5" cy="281.4922" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="189" x="1042.5" y="285.9111">List&lt;byte[]&gt; getTransactionAuditData ()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="1045.5" y="299.7471"/><ellipse cx="1033.5" cy="309.1641" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="297" x="1042.5" y="313.583">T prepareComputeSignature (SignatureComputationData data)</text><ellipse cx="1033.5" cy="323" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="281" x="1042.5" y="327.4189">T prepareVerifySignature (SignatureVerificationData data)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="1045.5" y="341.2549"/><ellipse cx="1033.5" cy="350.6719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="113" x="1042.5" y="355.0908">T processCommands ()</text><!--MD5=[fa59d924a75c490b7b765cae01199717]
class SignatureComputationData--><rect codeLine="277" fill="#FEFECE" height="158.6875" id="SignatureComputationData" style="stroke:#D4AC0D;stroke-width:1.5;" width="512" x="440" y="208.4688"/><ellipse cx="611.25" cy="224.4688" fill="#B4A7E5" rx="11" ry="11" style="stroke:#B4A7E5;stroke-width:1.0;"/><path d="M612.25,221.4688 L612.25,227.4688 L614.25,227.4688 L614.7344,227.4688 L615.25,228.0938 L615.25,228.4688 L615.25,228.8438 L614.7344,229.4688 L614.25,229.4688 L608.25,229.4688 L607.7656,229.4688 L607.25,228.8438 L607.25,228.4688 L607.25,228.0938 L607.7656,227.4688 L608.25,227.4688 L610.25,227.4688 L610.25,221.4688 L608.25,221.4688 L607.7656,221.4688 L607.25,220.8438 L607.25,220.4688 L607.25,220.0938 L607.7656,219.4688 L608.25,219.4688 L614.25,219.4688 L614.7344,219.4688 L615.25,220.0938 L615.25,220.4688 L615.25,220.8438 L614.7344,221.4688 L614.25,221.4688 L612.25,221.4688 Z " fill="#000000"/><ellipse cx="636.75" cy="223.9688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="150" x="642.75" y="229.3789">SignatureComputationData</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="441" x2="951" y1="240.4688" y2="240.4688"/><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="441" x2="951" y1="248.4688" y2="248.4688"/><ellipse cx="451" cy="259.4688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="317" x="460" y="263.8877">SignatureComputationData setData (byte[] data, byte kif, byte kvc)</text><ellipse cx="451" cy="273.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="257" x="460" y="277.7236">SignatureComputationData setSignatureSize (int size)</text><ellipse cx="451" cy="287.1406" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="302" x="460" y="291.5596">SignatureComputationData setKeyDiversifier (byte[] diversifier)</text><ellipse cx="451" cy="300.9766" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="486" x="460" y="305.3955">SignatureComputationData withSamTraceabilityMode (int offset, boolean usePartialSamSerialNumber)</text><ellipse cx="451" cy="314.8125" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="228" x="460" y="319.2314">SignatureComputationData withoutBusyMode ()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="463" y="333.0674"/><ellipse cx="451" cy="342.4844" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="111" x="460" y="346.9033">byte[] getSignedData ()</text><ellipse cx="451" cy="356.3203" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="102" x="460" y="360.7393">byte[] getSignature ()</text><!--MD5=[61c3cddfa5c631ec69bd34d3f9e9afbb]
class SignatureVerificationData--><rect codeLine="287" fill="#FEFECE" height="131.0156" id="SignatureVerificationData" style="stroke:#D4AC0D;stroke-width:1.5;" width="680" x="1562" y="222.4688"/><ellipse cx="1822.25" cy="238.4688" fill="#B4A7E5" rx="11" ry="11" style="stroke:#B4A7E5;stroke-width:1.0;"/><path d="M1823.25,235.4688 L1823.25,241.4688 L1825.25,241.4688 L1825.7344,241.4688 L1826.25,242.0938 L1826.25,242.4688 L1826.25,242.8438 L1825.7344,243.4688 L1825.25,243.4688 L1819.25,243.4688 L1818.7656,243.4688 L1818.25,242.8438 L1818.25,242.4688 L1818.25,242.0938 L1818.7656,241.4688 L1819.25,241.4688 L1821.25,241.4688 L1821.25,235.4688 L1819.25,235.4688 L1818.7656,235.4688 L1818.25,234.8438 L1818.25,234.4688 L1818.25,234.0938 L1818.7656,233.4688 L1819.25,233.4688 L1825.25,233.4688 L1825.7344,233.4688 L1826.25,234.0938 L1826.25,234.4688 L1826.25,234.8438 L1825.7344,235.4688 L1825.25,235.4688 L1823.25,235.4688 Z " fill="#000000"/><ellipse cx="1847.75" cy="237.9688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="140" x="1853.75" y="243.3789">SignatureVerificationData</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="1563" x2="2241" y1="254.4688" y2="254.4688"/><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="1563" x2="2241" y1="262.4688" y2="262.4688"/><ellipse cx="1573" cy="273.4688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="394" x="1582" y="277.8877">SignatureVerificationData setData (byte[] data, byte[] signature, byte kif, byte kvc)</text><ellipse cx="1573" cy="287.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="298" x="1582" y="291.7236">SignatureVerificationData setKeyDiversifier (byte[] diversifier)</text><ellipse cx="1573" cy="301.1406" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="654" x="1582" y="305.5596">SignatureVerificationData withSamTraceabilityMode (int offset, boolean isPartialSamSerialNumber, boolean checkSamRevocationStatus)</text><ellipse cx="1573" cy="314.9766" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="224" x="1582" y="319.3955">SignatureVerificationData withoutBusyMode ()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="1585" y="333.2314"/><ellipse cx="1573" cy="342.6484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="130" x="1582" y="347.0674">boolean isSignatureValid ()</text><!--MD5=[27e9236557a0ea65dd842b05562c1db2]
class CommonSecuritySetting--><rect codeLine="295" fill="#FEFECE" height="75.6719" id="CommonSecuritySetting" style="stroke:#D4AC0D;stroke-width:1.5;" width="408" x="733" y="832.4688"/><ellipse cx="754.3" cy="848.4688" fill="#B4A7E5" rx="11" ry="11" style="stroke:#B4A7E5;stroke-width:1.0;"/><path d="M755.3,845.4688 L755.3,851.4688 L757.3,851.4688 L757.7844,851.4688 L758.3,852.0938 L758.3,852.4688 L758.3,852.8438 L757.7844,853.4688 L757.3,853.4688 L751.3,853.4688 L750.8156,853.4688 L750.3,852.8438 L750.3,852.4688 L750.3,852.0938 L750.8156,851.4688 L751.3,851.4688 L753.3,851.4688 L753.3,845.4688 L751.3,845.4688 L750.8156,845.4688 L750.3,844.8438 L750.3,844.4688 L750.3,844.0938 L750.8156,843.4688 L751.3,843.4688 L757.3,843.4688 L757.7844,843.4688 L758.3,844.0938 L758.3,844.4688 L758.3,844.8438 L757.7844,845.4688 L757.3,845.4688 L755.3,845.4688 Z " fill="#000000"/><ellipse cx="774.7" cy="847.9688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="134" x="780.7" y="853.3789">CommonSecuritySetting</text><rect fill="#FFFFFF" height="17.0938" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="215" x="929" y="829.4688"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="213" x="930" y="842.9258">S extends CommonSecuritySetting&lt;S&gt;</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="734" x2="1140" y1="864.4688" y2="864.4688"/><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="734" x2="1140" y1="872.4688" y2="872.4688"/><ellipse cx="744" cy="883.4688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="134" x="753" y="887.8877">S setControlSamResource (</text><text fill="#000000" filter="url(#b1lokyz1o38ilr0)" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="58" x="887" y="887.8877">CardReader</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="187" x="948" y="887.8877">samReader, CalypsoSam calypsoSam)</text><ellipse cx="744" cy="897.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="329" x="753" y="901.7236">S setSamRevocationServiceSpi (SamRevocationServiceSpi service)</text><!--MD5=[92be3b4089a2693ac3db71f8eb03f488]
class CardTransactionManager--><rect codeLine="300" fill="#FEFECE" height="850.4844" id="CardTransactionManager" style="stroke:#D4AC0D;stroke-width:1.5;" width="700" x="1176" y="445.4688"/><ellipse cx="1446.75" cy="461.4688" fill="#B4A7E5" rx="11" ry="11" style="stroke:#B4A7E5;stroke-width:1.0;"/><path d="M1447.75,458.4688 L1447.75,464.4688 L1449.75,464.4688 L1450.2344,464.4688 L1450.75,465.0938 L1450.75,465.4688 L1450.75,465.8438 L1450.2344,466.4688 L1449.75,466.4688 L1443.75,466.4688 L1443.2656,466.4688 L1442.75,465.8438 L1442.75,465.4688 L1442.75,465.0938 L1443.2656,464.4688 L1443.75,464.4688 L1445.75,464.4688 L1445.75,458.4688 L1443.75,458.4688 L1443.2656,458.4688 L1442.75,457.8438 L1442.75,457.4688 L1442.75,457.0938 L1443.2656,456.4688 L1443.75,456.4688 L1449.75,456.4688 L1450.2344,456.4688 L1450.75,457.0938 L1450.75,457.4688 L1450.75,457.8438 L1450.2344,458.4688 L1449.75,458.4688 L1447.75,458.4688 Z " fill="#000000"/><ellipse cx="1472.25" cy="460.9688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="139" x="1478.25" y="466.3789">CardTransactionManager</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="1177" x2="1875" y1="477.4688" y2="477.4688"/><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="1177" x2="1875" y1="485.4688" y2="485.4688"/><ellipse cx="1187" cy="496.4688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" filter="url(#b1lokyz1o38ilr0)" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="58" x="1196" y="500.8877">CardReader</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="84" x="1257" y="500.8877">getCardReader ()</text><ellipse cx="1187" cy="510.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="153" x="1196" y="514.7236">CalypsoCard getCalypsoCard ()</text><ellipse cx="1187" cy="524.1406" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="line-through" textLength="221" x="1196" y="528.5596">CardSecuritySetting getCardSecuritySetting ()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="1199" y="542.3955"/><ellipse cx="1187" cy="551.8125" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="line-through" textLength="260" x="1196" y="556.2314">CardTransactionManager prepareSelectFile (byte[] lid)</text><ellipse cx="1187" cy="565.6484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="258" x="1196" y="570.0674">CardTransactionManager prepareSelectFile (short lid)</text><ellipse cx="1187" cy="579.4844" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="382" x="1196" y="583.9033">CardTransactionManager prepareSelectFile (SelectFileControl selectFileControl)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="1199" y="597.7393"/><ellipse cx="1187" cy="607.1563" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="288" x="1196" y="611.5752">CardTransactionManager prepareGetData (GetDataTag tag)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="1199" y="625.4111"/><ellipse cx="1187" cy="634.8281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="line-through" textLength="375" x="1196" y="639.2471">CardTransactionManager prepareReadRecordFile (byte sfi, int recordNumber)</text><ellipse cx="1187" cy="648.6641" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="line-through" textLength="579" x="1196" y="653.083">CardTransactionManager prepareReadRecordFile (byte sfi, int firstRecordNumber, int numberOfRecords, int recordSize)</text><ellipse cx="1187" cy="662.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="line-through" textLength="389" x="1196" y="666.9189">CardTransactionManager prepareReadCounterFile (byte sfi, int countersNumber)</text><ellipse cx="1187" cy="676.3359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="359" x="1196" y="680.7549">CardTransactionManager prepareReadRecord (byte sfi, int recordNumber)</text><ellipse cx="1187" cy="690.1719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="564" x="1196" y="694.5908">CardTransactionManager prepareReadRecords (byte sfi, int fromRecordNumber, int toRecordNumber, int recordSize)</text><ellipse cx="1187" cy="704.0078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="674" x="1196" y="708.4268">CardTransactionManager prepareReadRecordsPartially (byte sfi, int fromRecordNumber, int toRecordNumber, int offset, int nbBytesToRead)</text><ellipse cx="1187" cy="717.8438" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="412" x="1196" y="722.2627">CardTransactionManager prepareReadBinary (byte sfi, int offset, int nbBytesToRead)</text><ellipse cx="1187" cy="731.6797" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="386" x="1196" y="736.0986">CardTransactionManager prepareReadCounter (byte sfi, int nbCountersToRead)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="1199" y="749.9346"/><ellipse cx="1187" cy="759.3516" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="378" x="1196" y="763.7705">CardTransactionManager prepareSearchRecords (SearchCommandData data)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="1199" y="777.6064"/><ellipse cx="1187" cy="787.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="249" x="1196" y="791.4424">CardTransactionManager prepareCheckPinStatus ()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="1199" y="805.2783"/><ellipse cx="1187" cy="814.6953" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="373" x="1196" y="819.1143">CardTransactionManager prepareAppendRecord (byte sfi, byte[] recordData)</text><ellipse cx="1187" cy="828.5313" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="458" x="1196" y="832.9502">CardTransactionManager prepareUpdateRecord (byte sfi, int recordNumber, byte[] recordData)</text><ellipse cx="1187" cy="842.3672" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="449" x="1196" y="846.7861">CardTransactionManager prepareWriteRecord (byte sfi, int recordNumber, byte[] recordData)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="1199" y="860.6221"/><ellipse cx="1187" cy="870.0391" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="381" x="1196" y="874.458">CardTransactionManager prepareUpdateBinary (byte sfi, int offset, byte[] data)</text><ellipse cx="1187" cy="883.875" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="372" x="1196" y="888.2939">CardTransactionManager prepareWriteBinary (byte sfi, int offset, byte[] data)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="1199" y="902.1299"/><ellipse cx="1187" cy="911.5469" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="446" x="1196" y="915.9658">CardTransactionManager prepareIncreaseCounter (byte sfi, int counterNumber, int incValue)</text><ellipse cx="1187" cy="925.3828" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="554" x="1196" y="929.8018">CardTransactionManager prepareIncreaseCounters(byte sfi, Map&lt;Integer, Integer&gt; counterNumberToIncValueMap)</text><ellipse cx="1187" cy="939.2188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="455" x="1196" y="943.6377">CardTransactionManager prepareDecreaseCounter (byte sfi, int counterNumber, int decValue)</text><ellipse cx="1187" cy="953.0547" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="564" x="1196" y="957.4736">CardTransactionManager prepareDecreaseCounters(byte sfi, Map&lt;Integer, Integer&gt; counterNumberToDecValueMap)</text><ellipse cx="1187" cy="966.8906" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="428" x="1196" y="971.3096">CardTransactionManager prepareSetCounter (byte sfi, int counterNumber, int newValue)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="1199" y="985.1455"/><ellipse cx="1187" cy="994.5625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="422" x="1196" y="998.9814">CardTransactionManager prepareSvGet (SvOperation svOperation, SvAction svAction)</text><ellipse cx="1187" cy="1008.3984" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="437" x="1196" y="1012.8174">CardTransactionManager prepareSvReload (int amount, byte[] date, byte[] time, byte[] free)</text><ellipse cx="1187" cy="1022.2344" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="269" x="1196" y="1026.6533">CardTransactionManager prepareSvReload (int amount)</text><ellipse cx="1187" cy="1036.0703" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="372" x="1196" y="1040.4893">CardTransactionManager prepareSvDebit (int amount, byte[] date, byte[] time)</text><ellipse cx="1187" cy="1049.9063" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="260" x="1196" y="1054.3252">CardTransactionManager prepareSvDebit (int amount)</text><ellipse cx="1187" cy="1063.7422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="248" x="1196" y="1068.1611">CardTransactionManager prepareSvReadAllLogs ()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="1199" y="1081.9971"/><ellipse cx="1187" cy="1091.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="219" x="1196" y="1095.833">CardTransactionManager prepareInvalidate ()</text><ellipse cx="1187" cy="1105.25" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="229" x="1196" y="1109.6689">CardTransactionManager prepareRehabilitate ()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="1199" y="1123.5049"/><ellipse cx="1187" cy="1132.9219" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="275" x="1196" y="1137.3408">CardTransactionManager prepareReleaseCardChannel ()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="1199" y="1151.1768"/><ellipse cx="1187" cy="1160.5938" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="line-through" textLength="252" x="1196" y="1165.0127">CardTransactionManager processCardCommands ()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="1199" y="1178.8486"/><ellipse cx="1187" cy="1188.2656" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="264" x="1196" y="1192.6846">CardTransactionManager processVerifyPin (byte[] pin)</text><ellipse cx="1187" cy="1202.1016" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="293" x="1196" y="1206.5205">CardTransactionManager processChangePin (byte[] newPin)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="1199" y="1220.3564"/><ellipse cx="1187" cy="1229.7734" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="577" x="1196" y="1234.1924">CardTransactionManager processChangeKey (int keyIndex, byte newKif, byte newKvc, byte issuerKif, byte issuerKvc)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="1199" y="1248.0283"/><ellipse cx="1187" cy="1257.4453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="397" x="1196" y="1261.8643">CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel)</text><ellipse cx="1187" cy="1271.2813" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="211" x="1196" y="1275.7002">CardTransactionManager processClosing ()</text><ellipse cx="1187" cy="1285.1172" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="209" x="1196" y="1289.5361">CardTransactionManager processCancel ()</text><!--MD5=[80899d8261aafdb2d3733adc7bf0e757]
class SvOperation--><rect codeLine="360" fill="#FEFECE" height="75.6719" id="SvOperation" style="stroke:#D4AC0D;stroke-width:1.5;" width="111" x="1381.5" y="1476.9688"/><ellipse cx="1396.5" cy="1492.9688" fill="#EB937F" rx="11" ry="11" style="stroke:#EB93DF;stroke-width:1.0;"/><path d="M1395,1493.9688 L1395,1495.9688 L1399,1495.9688 L1399,1494.9688 L1399,1494.4844 L1399.625,1493.9688 L1400,1493.9688 L1400.375,1493.9688 L1401,1494.4844 L1401,1494.9688 L1401,1497.9688 L1393,1497.9688 L1392.5156,1497.9688 L1392,1497.3438 L1392,1496.9688 L1392,1496.5938 L1392.5156,1495.9688 L1393,1495.9688 L1393,1495.9688 L1393,1489.9688 L1393,1489.9688 L1392.5156,1489.9688 L1392,1489.3438 L1392,1488.9688 L1392,1488.5938 L1392.5156,1487.9688 L1393,1487.9688 L1401,1487.9688 L1401,1490.9688 L1401,1491.4531 L1400.375,1491.9688 L1400,1491.9688 L1399.625,1491.9688 L1399,1491.4531 L1399,1490.9688 L1399,1489.9688 L1395,1489.9688 L1395,1491.9688 L1396,1491.9688 L1396,1491.4844 L1396,1491.4844 L1396.625,1490.9688 L1397,1490.9688 L1397.375,1490.9688 L1398,1491.4844 L1398,1491.9688 L1398,1493.9688 L1398,1494.4531 L1397.375,1494.9688 L1397.375,1494.9688 L1397,1494.9688 L1396.625,1494.9688 L1396,1494.4531 L1396,1494.4531 L1396,1493.9688 L1395,1493.9688 Z " fill="#000000"/><ellipse cx="1415.5" cy="1492.4688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="68" x="1421.5" y="1497.8789">SvOperation</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="1382.5" x2="1491.5" y1="1508.9688" y2="1508.9688"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="42" x="1387.5" y="1524.3877">RELOAD</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="28" x="1387.5" y="1538.2236">DEBIT</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="1382.5" x2="1491.5" y1="1544.6406" y2="1544.6406"/><!--MD5=[3a20855ad37700d9231151c7156c605b]
class SvAction--><rect codeLine="364" fill="#FEFECE" height="75.6719" id="SvAction" style="stroke:#D4AC0D;stroke-width:1.5;" width="91" x="1527.5" y="1476.9688"/><ellipse cx="1542.5" cy="1492.9688" fill="#EB937F" rx="11" ry="11" style="stroke:#EB93DF;stroke-width:1.0;"/><path d="M1541,1493.9688 L1541,1495.9688 L1545,1495.9688 L1545,1494.9688 L1545,1494.4844 L1545.625,1493.9688 L1546,1493.9688 L1546.375,1493.9688 L1547,1494.4844 L1547,1494.9688 L1547,1497.9688 L1539,1497.9688 L1538.5156,1497.9688 L1538,1497.3438 L1538,1496.9688 L1538,1496.5938 L1538.5156,1495.9688 L1539,1495.9688 L1539,1495.9688 L1539,1489.9688 L1539,1489.9688 L1538.5156,1489.9688 L1538,1489.3438 L1538,1488.9688 L1538,1488.5938 L1538.5156,1487.9688 L1539,1487.9688 L1547,1487.9688 L1547,1490.9688 L1547,1491.4531 L1546.375,1491.9688 L1546,1491.9688 L1545.625,1491.9688 L1545,1491.4531 L1545,1490.9688 L1545,1489.9688 L1541,1489.9688 L1541,1491.9688 L1542,1491.9688 L1542,1491.4844 L1542,1491.4844 L1542.625,1490.9688 L1543,1490.9688 L1543.375,1490.9688 L1544,1491.4844 L1544,1491.9688 L1544,1493.9688 L1544,1494.4531 L1543.375,1494.9688 L1543.375,1494.9688 L1543,1494.9688 L1542.625,1494.9688 L1542,1494.4531 L1542,1494.4531 L1542,1493.9688 L1541,1493.9688 Z " fill="#000000"/><ellipse cx="1561.5" cy="1492.4688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="48" x="1567.5" y="1497.8789">SvAction</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="1528.5" x2="1617.5" y1="1508.9688" y2="1508.9688"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="15" x="1533.5" y="1524.3877">DO</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="29" x="1533.5" y="1538.2236">UNDO</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="1528.5" x2="1617.5" y1="1544.6406" y2="1544.6406"/><!--MD5=[902430ab886935d86a17fe3ee56b883e]
class CardSecuritySetting--><rect codeLine="368" fill="#FEFECE" height="283.2109" id="CardSecuritySetting" style="stroke:#D4AC0D;stroke-width:1.5;" width="463" x="883.5" y="1373.4688"/><ellipse cx="1050.75" cy="1389.4688" fill="#B4A7E5" rx="11" ry="11" style="stroke:#B4A7E5;stroke-width:1.0;"/><path d="M1051.75,1386.4688 L1051.75,1392.4688 L1053.75,1392.4688 L1054.2344,1392.4688 L1054.75,1393.0938 L1054.75,1393.4688 L1054.75,1393.8438 L1054.2344,1394.4688 L1053.75,1394.4688 L1047.75,1394.4688 L1047.2656,1394.4688 L1046.75,1393.8438 L1046.75,1393.4688 L1046.75,1393.0938 L1047.2656,1392.4688 L1047.75,1392.4688 L1049.75,1392.4688 L1049.75,1386.4688 L1047.75,1386.4688 L1047.2656,1386.4688 L1046.75,1385.8438 L1046.75,1385.4688 L1046.75,1385.0938 L1047.2656,1384.4688 L1047.75,1384.4688 L1053.75,1384.4688 L1054.2344,1384.4688 L1054.75,1385.0938 L1054.75,1385.4688 L1054.75,1385.8438 L1054.2344,1386.4688 L1053.75,1386.4688 L1051.75,1386.4688 Z " fill="#000000"/><ellipse cx="1076.25" cy="1388.9688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="109" x="1082.25" y="1394.3789">CardSecuritySetting</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="884.5" x2="1345.5" y1="1405.4688" y2="1405.4688"/><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="884.5" x2="1345.5" y1="1413.4688" y2="1413.4688"/><ellipse cx="894.5" cy="1424.4688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="line-through" textLength="189" x="903.5" y="1428.8877">CardSecuritySetting setSamResource (</text><text fill="#000000" filter="url(#b1lokyz1o38ilr0)" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="line-through" textLength="58" x="1092.5" y="1428.8877">CardReader</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="line-through" textLength="187" x="1153.5" y="1428.8877">samReader, CalypsoSam calypsoSam)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="906.5" y="1442.7236"/><ellipse cx="894.5" cy="1452.1406" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="216" x="903.5" y="1456.5596">CardSecuritySetting enableMultipleSession ()</text><ellipse cx="894.5" cy="1465.9766" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="249" x="903.5" y="1470.3955">CardSecuritySetting enableRatificationMechanism ()</text><ellipse cx="894.5" cy="1479.8125" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="242" x="903.5" y="1484.2314">CardSecuritySetting enablePinPlainTransmission ()</text><ellipse cx="894.5" cy="1493.6484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="241" x="903.5" y="1498.0674">CardSecuritySetting enableSvLoadAndDebitLog ()</text><ellipse cx="894.5" cy="1507.4844" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="249" x="903.5" y="1511.9033">CardSecuritySetting authorizeSvNegativeBalance ()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="906.5" y="1525.7393"/><ellipse cx="894.5" cy="1535.1563" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="424" x="903.5" y="1539.5752">CardSecuritySetting assignKif (WriteAccessLevel writeAccessLevel, byte kvc, byte kif)</text><ellipse cx="894.5" cy="1548.9922" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="411" x="903.5" y="1553.4111">CardSecuritySetting assignDefaultKif (WriteAccessLevel writeAccessLevel, byte kif)</text><ellipse cx="894.5" cy="1562.8281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="423" x="903.5" y="1567.2471">CardSecuritySetting assignDefaultKvc (WriteAccessLevel writeAccessLevel, byte kvc)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="906.5" y="1581.083"/><ellipse cx="894.5" cy="1590.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="321" x="903.5" y="1594.9189">CardSecuritySetting addAuthorizedSessionKey (byte kif, byte kvc)</text><ellipse cx="894.5" cy="1604.3359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="295" x="903.5" y="1608.7549">CardSecuritySetting addAuthorizedSvKey (byte kif, byte kvc)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="906.5" y="1622.5908"/><ellipse cx="894.5" cy="1632.0078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="340" x="903.5" y="1636.4268">CardSecuritySetting setPinVerificationCipheringKey (byte kif, byte kvc)</text><ellipse cx="894.5" cy="1645.8438" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="342" x="903.5" y="1650.2627">CardSecuritySetting setPinModificationCipheringKey (byte kif, byte kvc)</text><!--MD5=[70eb8dcb3e9c6b66ae7b5ebbb5f4f3e9]
class SearchCommandData--><rect codeLine="387" fill="#FEFECE" height="172.5234" id="SearchCommandData" style="stroke:#D4AC0D;stroke-width:1.5;" width="295" x="1946.5" y="783.9688"/><ellipse cx="2022.25" cy="799.9688" fill="#B4A7E5" rx="11" ry="11" style="stroke:#B4A7E5;stroke-width:1.0;"/><path d="M2023.25,796.9688 L2023.25,802.9688 L2025.25,802.9688 L2025.7344,802.9688 L2026.25,803.5938 L2026.25,803.9688 L2026.25,804.3438 L2025.7344,804.9688 L2025.25,804.9688 L2019.25,804.9688 L2018.7656,804.9688 L2018.25,804.3438 L2018.25,803.9688 L2018.25,803.5938 L2018.7656,802.9688 L2019.25,802.9688 L2021.25,802.9688 L2021.25,796.9688 L2019.25,796.9688 L2018.7656,796.9688 L2018.25,796.3438 L2018.25,795.9688 L2018.25,795.5938 L2018.7656,794.9688 L2019.25,794.9688 L2025.25,794.9688 L2025.7344,794.9688 L2026.25,795.5938 L2026.25,795.9688 L2026.25,796.3438 L2025.7344,796.9688 L2025.25,796.9688 L2023.25,796.9688 Z " fill="#000000"/><ellipse cx="2047.75" cy="799.4688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="124" x="2053.75" y="804.8789">SearchCommandData</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="1947.5" x2="2240.5" y1="815.9688" y2="815.9688"/><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="1947.5" x2="2240.5" y1="823.9688" y2="823.9688"/><ellipse cx="1957.5" cy="834.9688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="182" x="1966.5" y="839.3877">SearchCommandData setSfi (byte sfi)</text><ellipse cx="1957.5" cy="848.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="269" x="1966.5" y="853.2236">SearchCommandData startAtRecord (int recordNumber)</text><ellipse cx="1957.5" cy="862.6406" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="207" x="1966.5" y="867.0596">SearchCommandData setOffset (int offset)</text><ellipse cx="1957.5" cy="876.4766" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="227" x="1966.5" y="880.8955">SearchCommandData enableRepeatedOffset ()</text><ellipse cx="1957.5" cy="890.3125" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="241" x="1966.5" y="894.7314">SearchCommandData setSearchData (byte[] data)</text><ellipse cx="1957.5" cy="904.1484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="213" x="1966.5" y="908.5674">SearchCommandData setMask (byte[] mask)</text><ellipse cx="1957.5" cy="917.9844" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="237" x="1966.5" y="922.4033">SearchCommandData fetchFirstMatchingResult ()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="1969.5" y="936.2393"/><ellipse cx="1957.5" cy="945.6563" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="212" x="1966.5" y="950.0752">List&lt;Integer&gt; getMatchingRecordNumbers ()</text><!--MD5=[693a13ab3a6cdba6037243dfcb574254]
class SamTransactionManager--><rect codeLine="399" fill="#FEFECE" height="75.6719" id="SamTransactionManager" style="stroke:#D4AC0D;stroke-width:1.5;" width="181" x="516.5" y="832.4688"/><ellipse cx="531.5" cy="848.4688" fill="#B4A7E5" rx="11" ry="11" style="stroke:#B4A7E5;stroke-width:1.0;"/><path d="M532.5,845.4688 L532.5,851.4688 L534.5,851.4688 L534.9844,851.4688 L535.5,852.0938 L535.5,852.4688 L535.5,852.8438 L534.9844,853.4688 L534.5,853.4688 L528.5,853.4688 L528.0156,853.4688 L527.5,852.8438 L527.5,852.4688 L527.5,852.0938 L528.0156,851.4688 L528.5,851.4688 L530.5,851.4688 L530.5,845.4688 L528.5,845.4688 L528.0156,845.4688 L527.5,844.8438 L527.5,844.4688 L527.5,844.0938 L528.0156,843.4688 L528.5,843.4688 L534.5,843.4688 L534.9844,843.4688 L535.5,844.0938 L535.5,844.4688 L535.5,844.8438 L534.9844,845.4688 L534.5,845.4688 L532.5,845.4688 Z " fill="#000000"/><ellipse cx="550.5" cy="847.9688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="138" x="556.5" y="853.3789">SamTransactionManager</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="517.5" x2="696.5" y1="864.4688" y2="864.4688"/><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="517.5" x2="696.5" y1="872.4688" y2="872.4688"/><ellipse cx="527.5" cy="883.4688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" filter="url(#b1lokyz1o38ilr0)" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="58" x="536.5" y="887.8877">CardReader</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="82" x="597.5" y="887.8877">getSamReader ()</text><ellipse cx="527.5" cy="897.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="149" x="536.5" y="901.7236">CalypsoSam getCalypsoSam ()</text><!--MD5=[7540f2bc197295eea372683d3e802e43]
class SamSecuritySetting--><rect codeLine="403" fill="#FEFECE" height="48" id="SamSecuritySetting" style="stroke:#D4AC0D;stroke-width:1.5;" width="151" x="697.5" y="1490.9688"/><ellipse cx="712.5" cy="1506.9688" fill="#B4A7E5" rx="11" ry="11" style="stroke:#B4A7E5;stroke-width:1.0;"/><path d="M713.5,1503.9688 L713.5,1509.9688 L715.5,1509.9688 L715.9844,1509.9688 L716.5,1510.5938 L716.5,1510.9688 L716.5,1511.3438 L715.9844,1511.9688 L715.5,1511.9688 L709.5,1511.9688 L709.0156,1511.9688 L708.5,1511.3438 L708.5,1510.9688 L708.5,1510.5938 L709.0156,1509.9688 L709.5,1509.9688 L711.5,1509.9688 L711.5,1503.9688 L709.5,1503.9688 L709.0156,1503.9688 L708.5,1503.3438 L708.5,1502.9688 L708.5,1502.5938 L709.0156,1501.9688 L709.5,1501.9688 L715.5,1501.9688 L715.9844,1501.9688 L716.5,1502.5938 L716.5,1502.9688 L716.5,1503.3438 L715.9844,1503.9688 L715.5,1503.9688 L713.5,1503.9688 Z " fill="#000000"/><ellipse cx="731.5" cy="1506.4688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="108" x="737.5" y="1511.8789">SamSecuritySetting</text><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="698.5" x2="847.5" y1="1522.9688" y2="1522.9688"/><line style="stroke:#D4AC0D;stroke-width:1.5;" x1="698.5" x2="847.5" y1="1530.9688" y2="1530.9688"/><!--MD5=[d266e6b41118882c59f402da525b718d]
reverse link CommonTransactionManager to CardTransactionManager--><path d="M1299.09,379.8087 C1308.25,399.5787 1318.52,421.7388 1329.5,445.4188 " fill="none" id="CommonTransactionManager-backto-CardTransactionManager" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="1292.72,382.6988,1290.66,361.6088,1305.42,376.8087,1292.72,382.6988" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[1db9f822c507b05cc334f36bb90751d1]
reverse link CommonSecuritySetting to CardSecuritySetting--><path d="M952.717,928.1988 C980.127,1027.1388 1037.43,1233.9747 1076.07,1373.4468 " fill="none" id="CommonSecuritySetting-backto-CardSecuritySetting" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="945.933,929.9288,947.339,908.7887,959.425,926.1988,945.933,929.9288" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[d797ff1dc764dc8d6ac7a284e740df54]
reverse link CommonTransactionManager to SamTransactionManager--><path d="M1002.78,359.4288 C864.634,398.2088 720.624,439.6588 715,445.4688 C609.686,554.1788 602.884,750.5188 605.043,832.2288 " fill="none" id="CommonTransactionManager-backto-SamTransactionManager" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="1001.07,352.6388,1022.22,353.9788,1004.85,366.1188,1001.07,352.6388" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[bebc41ed0d56af7f5f4768b2ae71c54c]
reverse link CommonSecuritySetting to SamSecuritySetting--><path d="M924.217,928.2588 C904.001,1017.1388 862.843,1194.3688 823,1343.4688 C808.825,1396.5158 790.189,1458.2238 780.149,1490.9028 " fill="none" id="CommonSecuritySetting-backto-SamSecuritySetting" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="917.415,926.5988,928.664,908.6488,931.068,929.6988,917.415,926.5988" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[7311878a45bc8ca393edbbb1702df70b]
reverse link SignatureComputationData to CommonTransactionManager--><path codeLine="410" d="M957.495,287.9688 C979.176,287.9688 1001.01,287.9688 1022.47,287.9688 " fill="none" id="SignatureComputationData-backto-CommonTransactionManager" style="stroke:#27AE60;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="952.284,287.9688,961.284,291.9688,957.284,287.9688,961.284,283.9688,952.284,287.9688" style="stroke:#27AE60;stroke-width:1.0;"/><polygon fill="#000000" points="969.25,276.1445,978.2951,279.0835,978.2951,273.2056,969.25,276.1445" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="983.25" y="281.4639">use</text><!--MD5=[2c27f4625a104423cfb16dcdfc9c991c]
link CommonTransactionManager to SignatureVerificationData--><path codeLine="411" d="M1491.68,287.9688 C1513.03,287.9688 1534.94,287.9688 1556.98,287.9688 " fill="none" id="CommonTransactionManager-to-SignatureVerificationData" style="stroke:#27AE60;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1561.99,287.9688,1552.99,283.9688,1556.99,287.9688,1552.99,291.9688,1561.99,287.9688" style="stroke:#27AE60;stroke-width:1.0;"/><polygon fill="#000000" points="1518.75,276.1445,1509.7049,273.2056,1509.7049,279.0835,1518.75,276.1445" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="1522.75" y="281.4639">use</text><!--MD5=[9517a19e810f159680f934d60c3d203d]
link CommonTransactionManager to CommonSecuritySetting--><path codeLine="412" d="M1209.13,361.8387 C1192.47,387.9288 1173.96,417.7488 1158,445.4688 C1079.09,582.5687 995.198,750.5088 957.468,827.3988 " fill="none" id="CommonTransactionManager-to-CommonSecuritySetting" style="stroke:#3498DB;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="955.05,832.3287,962.6028,826.0077,957.2506,827.839,955.4192,822.4868,955.05,832.3287" style="stroke:#3498DB;stroke-width:1.0;"/><polygon fill="#000000" points="1187.6224,411.043,1194.5089,404.4836,1189.3382,401.6885,1187.6224,411.043" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="1199" y="411.9639">provide</text><!--MD5=[f5522f459d23cb12c219dbc25ab09527]
link CommonSecuritySetting to SamRevocationServiceSpi--><path codeLine="414" d="M928.4,908.5487 C907.251,991.2388 844.721,1191.5988 715,1295.4688 C610.479,1379.1598 545.569,1317.3458 424,1373.4688 C366.74,1399.9028 308.135,1442.1608 268.519,1473.4367 " fill="none" id="CommonSecuritySetting-to-SamRevocationServiceSpi" style="stroke:#27AE60;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="264.265,1476.8098,273.8019,1474.3505,268.1823,1473.7025,268.8303,1468.0829,264.265,1476.8098" style="stroke:#27AE60;stroke-width:1.0;"/><polygon fill="#000000" points="669.2017,1337.8961,677.9841,1334.2466,674.1617,1329.7814,669.2017,1337.8961" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="682" y="1339.9639">use</text><!--MD5=[791e09d4c810c8a1c6008939c8d78a95]
reverse link CalypsoCardSelection to FileOccurrence--><path codeLine="416" d="M2472.73,1051.6288 C2446.06,1134.3888 2415.97,1234.2168 2394,1325.4688 C2382.88,1371.6588 2373.89,1425.0628 2368.11,1463.2098 " fill="none" id="CalypsoCardSelection-backto-FileOccurrence" style="stroke:#A80036;stroke-width:1.0;"/><ellipse cx="2474.9389" cy="1044.7908" fill="#FFFFFF" rx="8" ry="8" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2472.4777" x2="2477.4" y1="1052.4028" y2="1037.1788"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2467.3268" x2="2482.5509" y1="1042.3296" y2="1047.2519"/><!--MD5=[b2f8d5953c89cd71183705a81cb4cd83]
link CalypsoCardSelection to FileOccurrence--><path codeLine="417" d="M2489.34,1037.3488 C2451.96,1176.1488 2400.86,1365.9348 2375.92,1458.5598 " fill="none" id="CalypsoCardSelection-to-FileOccurrence" style="stroke:#3498DB;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="2374.61,1463.4378,2380.8122,1455.7871,2375.9099,1458.6097,2373.0873,1453.7073,2374.61,1463.4378" style="stroke:#3498DB;stroke-width:1.0;"/><polygon fill="#000000" points="2411.7,1339.4726,2416.8896,1331.5027,2411.2139,1329.9744,2411.7,1339.4726" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="2422" y="1339.9639">provide</text><!--MD5=[124899d3a846069039d137320287bb3c]
reverse link CalypsoCardSelection to FileControlInformation--><path codeLine="418" d="M2522.32,1052.1088 C2518.45,1140.0788 2516.38,1247.3538 2522,1343.4688 C2524.7,1389.5858 2531.46,1442.3618 2536.38,1476.8278 " fill="none" id="CalypsoCardSelection-backto-FileControlInformation" style="stroke:#A80036;stroke-width:1.0;"/><ellipse cx="2522.6443" cy="1045.0404" fill="#FFFFFF" rx="8" ry="8" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2522.2786" x2="2523.01" y1="1053.032" y2="1037.0488"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2514.6527" x2="2530.636" y1="1044.6747" y2="1045.4061"/><!--MD5=[d14a378fd0bab8d7334e27ffa02b6b16]
link CalypsoCardSelection to FileControlInformation--><path codeLine="419" d="M2536.07,1037.3488 C2537.88,1183.1688 2540.4,1385.2478 2541.48,1471.8398 " fill="none" id="CalypsoCardSelection-to-FileControlInformation" style="stroke:#3498DB;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="2541.54,1476.8758,2545.4291,1467.8273,2541.4786,1471.8761,2537.4297,1467.9256,2541.54,1476.8758" style="stroke:#3498DB;stroke-width:1.0;"/><polygon fill="#000000" points="2545.0623,1339.6441,2547.8883,1330.5632,2542.0109,1330.6364,2545.0623,1339.6441" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="2554" y="1339.9639">provide</text><!--MD5=[957e52cfabfdeac703e0e4a67a1d654b]
link CardTransactionManager to WriteAccessLevel--><path codeLine="421" d="M1622.39,1295.6957 C1627.29,1321.9568 1631.88,1348.0378 1636,1373.4688 C1662.68,1538.2358 1679.01,1735.7238 1685.62,1825.8188 " fill="none" id="CardTransactionManager-to-WriteAccessLevel" style="stroke:#27AE60;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1685.98,1830.8128,1689.3162,1821.5461,1685.6171,1825.8259,1681.3373,1822.1268,1685.98,1830.8128" style="stroke:#27AE60;stroke-width:1.0;"/><polygon fill="#000000" points="1679.5922,1520.1093,1681.4392,1510.7798,1675.6027,1511.476,1679.5922,1520.1093" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="1688" y="1520.4639">use</text><!--MD5=[6e3ea62bcea4255f9e0016e7a14d6e55]
link CardTransactionManager to SvOperation--><path codeLine="422" d="M1467.26,1295.5507 C1457.29,1367.4858 1448.39,1431.7308 1442.87,1471.6168 " fill="none" id="CardTransactionManager-to-SvOperation" style="stroke:#27AE60;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1442.14,1476.8398,1447.3411,1468.4762,1442.8285,1471.8874,1439.4173,1467.3747,1442.14,1476.8398" style="stroke:#27AE60;stroke-width:1.0;"/><polygon fill="#000000" points="1465.3139,1339.5972,1469.4662,1331.041,1463.6439,1330.2344,1465.3139,1339.5972" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="1475" y="1339.9639">use</text><!--MD5=[43458ce7ca92b5bf9eba082436bc4f4b]
link CardTransactionManager to SvAction--><path codeLine="423" d="M1517.26,1295.4858 C1518.85,1311.7128 1520.74,1327.7528 1523,1343.4688 C1529.44,1388.2868 1544.93,1437.7618 1556.98,1471.8198 " fill="none" id="CardTransactionManager-to-SvAction" style="stroke:#27AE60;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1558.73,1476.7308,1559.4794,1466.9104,1557.0528,1472.0204,1551.9429,1469.5939,1558.73,1476.7308" style="stroke:#27AE60;stroke-width:1.0;"/><polygon fill="#000000" points="1529.0987,1339.5223,1529.9782,1330.0525,1524.244,1331.3441,1529.0987,1339.5223" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="1537" y="1339.9639">use</text><!--MD5=[c316da82647688efb33554c922e0ba44]
reverse link SelectFileControl to CardTransactionManager--><path codeLine="424" d="M2301.4,336.7687 C2288.33,348.2488 2273.42,359.4888 2258,367.4688 C2124.55,436.5687 2059.28,370.5687 1929,445.4688 C1911.06,455.7787 1893.43,467.1388 1876.16,479.3087 " fill="none" id="SelectFileControl-backto-CardTransactionManager" style="stroke:#27AE60;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2305.4,333.1988,2296.0223,336.2084,2301.6701,336.5285,2301.3499,342.1763,2305.4,333.1988" style="stroke:#27AE60;stroke-width:1.0;"/><polygon fill="#000000" points="2181.7408,405.0554,2172.2306,405.1436,2174.0987,410.7167,2181.7408,405.0554" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="2186" y="411.9639">use</text><!--MD5=[17efe9176b1f62a456b602da9c1703b1]
reverse link GetDataTag to CardTransactionManager--><path codeLine="425" d="M2490.96,343.5387 C2468.13,370.1888 2437.09,399.8187 2402,415.4688 C2305.81,458.3688 2024.42,400.8888 1929,445.4688 C1910.94,453.9088 1893.29,463.5387 1876.07,474.1388 " fill="none" id="GetDataTag-backto-CardTransactionManager" style="stroke:#27AE60;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2494.27,339.6288,2485.4023,343.914,2491.0396,343.4451,2491.5085,349.0825,2494.27,339.6288" style="stroke:#27AE60;stroke-width:1.0;"/><polygon fill="#000000" points="2441.8909,405.6057,2432.4326,404.6101,2433.6538,410.3597,2441.8909,405.6057" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="2446" y="411.9639">use</text><!--MD5=[9bda690369adb1dbd55243a6b72e07b6]
link CardTransactionManager to SearchCommandData--><path codeLine="426" d="M1876.02,870.4688 C1898.54,870.4688 1920.47,870.4688 1941.21,870.4688 " fill="none" id="CardTransactionManager-to-SearchCommandData" style="stroke:#27AE60;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1946.46,870.4688,1937.46,866.4688,1941.46,870.4688,1937.46,874.4688,1946.46,870.4688" style="stroke:#27AE60;stroke-width:1.0;"/><polygon fill="#000000" points="1903.25,858.6445,1894.2049,855.7056,1894.2049,861.5835,1903.25,858.6445" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="1907.25" y="863.9639">use</text><!--MD5=[290add383f9517a2de7babdd84045efc]
link CardTransactionManager to CalypsoCard--><path codeLine="427" d="M1876.04,500.0988 C1893.28,490.4688 1910.96,481.8488 1929,474.4688 C2105.47,402.2787 2628.24,368.8788 2787,474.4688 C2815.84,493.6488 2839.68,518.9188 2859.39,547.4188 " fill="none" id="CardTransactionManager-to-CalypsoCard" style="stroke:#3498DB;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="2862.26,551.6488,2860.5344,541.9522,2859.4602,547.5062,2853.9063,546.4319,2862.26,551.6488" style="stroke:#3498DB;stroke-width:1.0;"/><polygon fill="#000000" points="2596.9942,406.8849,2588.1009,403.5146,2587.8183,409.3856,2596.9942,406.8849" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="2601" y="411.9639">use and provide up to date content</text><!--MD5=[52b5f30b2d37598ca0e4149af55964c4]
link CardTransactionManager to CardSecuritySetting--><path codeLine="428" d="M1254.72,1295.5507 C1238.29,1321.2318 1222.49,1345.9328 1207.8,1368.8958 " fill="none" id="CardTransactionManager-to-CardSecuritySetting" style="stroke:#3498DB;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="1205.07,1373.1628,1213.288,1367.7346,1207.7632,1368.9501,1206.5477,1363.4254,1205.07,1373.1628" style="stroke:#3498DB;stroke-width:1.0;"/><polygon fill="#000000" points="1228.3056,1338.8564,1235.6555,1332.8208,1230.7041,1329.6533,1228.3056,1338.8564" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="1240" y="1339.9639">provide</text><!--MD5=[e7462c464ac49a3bd10175a329a45036]
link CardSecuritySetting to WriteAccessLevel--><path codeLine="430" d="M1321.83,1656.6168 C1335.94,1664.9618 1350.08,1672.9918 1364,1680.4688 C1398.04,1698.7478 1409.93,1696.2558 1444,1714.4688 C1507.55,1748.4428 1575.83,1793.9898 1624.12,1827.8838 " fill="none" id="CardSecuritySetting-to-WriteAccessLevel" style="stroke:#27AE60;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1628.43,1830.9208,1623.3624,1822.4757,1624.3378,1828.0478,1618.7657,1829.0232,1628.43,1830.9208" style="stroke:#27AE60;stroke-width:1.0;"/><polygon fill="#000000" points="1437.3503,1700.1093,1430.9293,1693.0935,1428.0318,1698.2076,1437.3503,1700.1093" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="1442" y="1702.9639">use</text><!--MD5=[48cac2ff2978e44d465a059f601e1d50]
link CardSecuritySetting to CalypsoSam--><path codeLine="431" d="M893.192,1656.7737 C885.547,1666.7838 878.731,1677.3468 873,1688.4688 C859.804,1714.0808 856.262,1744.4138 857.259,1773.0948 " fill="none" id="CardSecuritySetting-to-CalypsoSam" style="stroke:#3498DB;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="857.497,1778.4288,861.0918,1769.2594,857.2741,1773.4337,853.0998,1769.616,857.497,1778.4288" style="stroke:#3498DB;stroke-width:1.0;"/><polygon fill="#000000" points="876.5242,1702.4218,882.0019,1694.6471,876.3859,1692.9122,876.5242,1702.4218" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="887" y="1702.9639">provide</text><!--MD5=[463830dd6010e96d60bfc26cb85b02c8]
link CalypsoSamSelection to SamProductType--><path codeLine="433" d="M1144.97,1932.1188 C1094.46,1972.4778 1026.59,2026.7058 978.259,2065.3228 " fill="none" id="CalypsoSamSelection-to-SamProductType" style="stroke:#27AE60;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="974.23,2068.5418,983.7583,2066.0493,978.1364,2065.4209,978.7649,2059.7991,974.23,2068.5418" style="stroke:#27AE60;stroke-width:1.0;"/><polygon fill="#000000" points="1050.0938,2020.2657,1058.9948,2016.9155,1055.3257,2012.3235,1050.0938,2020.2657" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="1063" y="2022.4639">use</text><!--MD5=[bcbf95a248b76879897387f80e494102]
link SamTransactionManager to CalypsoSam--><path codeLine="435" d="M597.065,908.4888 C567.031,1028.3688 487.395,1413.5638 625,1680.4688 C659.123,1746.6548 727.135,1797.0507 783.91,1829.9428 " fill="none" id="SamTransactionManager-to-CalypsoSam" style="stroke:#3498DB;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="788.324,1832.4778,782.5115,1824.5269,783.9882,1829.9877,778.5274,1831.4643,788.324,1832.4778" style="stroke:#3498DB;stroke-width:1.0;"/><polygon fill="#000000" points="630.9936,1520.0448,632.0764,1510.5961,626.3158,1511.7642,630.9936,1520.0448" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="639" y="1520.4639">provide</text><!--MD5=[486f18c8945b6f05a319b58b427cf92d]
link SamTransactionManager to SamSecuritySetting--><path codeLine="436" d="M616.337,908.6488 C634.901,982.4588 677.86,1152.6688 715,1295.4688 C732.799,1363.9068 754.274,1444.2438 765.434,1485.8297 " fill="none" id="SamTransactionManager-to-SamSecuritySetting" style="stroke:#3498DB;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="766.743,1490.7058,768.2718,1480.9763,765.4462,1485.8769,760.5456,1483.0512,766.743,1490.7058" style="stroke:#3498DB;stroke-width:1.0;"/><polygon fill="#000000" points="734.2505,1339.4856,734.8338,1329.993,729.1428,1331.4631,734.2505,1339.4856" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="742" y="1339.9639">provide</text><!--MD5=[1d7d1f3a59163c759a2873ea24945c0d]
reverse link CalypsoSam to SamProductType--><path codeLine="438" d="M876.446,1989.0288 C877.659,2001.5698 879.445,2014.0958 882,2025.9688 C884.108,2035.7648 887.255,2045.8608 890.827,2055.5567 " fill="none" id="CalypsoSam-backto-SamProductType" style="stroke:#A80036;stroke-width:1.0;"/><ellipse cx="875.8684" cy="1981.7417" fill="#FFFFFF" rx="8" ry="8" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="876.5008" x2="875.236" y1="1989.7167" y2="1973.7668"/><line style="stroke:#A80036;stroke-width:1.0;" x1="867.8934" x2="883.8434" y1="1982.3741" y2="1981.1093"/><!--MD5=[cf1f36c13265bd4b5b312aa9a8ef60a4]
link CalypsoSam to SamProductType--><path codeLine="439" d="M893.735,1973.5038 C898.263,1999.6178 903.043,2027.1948 907.153,2050.9028 " fill="none" id="CalypsoSam-to-SamProductType" style="stroke:#3498DB;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="908.02,2055.9008,910.4232,2046.3496,907.1656,2050.9743,902.5409,2047.7167,908.02,2055.9008" style="stroke:#3498DB;stroke-width:1.0;"/><polygon fill="#000000" points="908.8541,2022.071,910.2048,2012.6569,904.4133,2013.6609,908.8541,2022.071" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="917" y="2022.4639">provide</text><!--MD5=[3c766b8dbd2d4b637d84ed4972e0a262]
reverse link SelectFileControl to CalypsoCardSelection--><path codeLine="441" d="M2350.04,338.3187 C2352.21,361.9088 2355.86,390.4088 2362,415.4688 C2386,513.5088 2425.18,619.1688 2460.09,703.8688 " fill="none" id="SelectFileControl-backto-CalypsoCardSelection" style="stroke:#27AE60;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2349.57,333.0587,2346.382,342.3774,2350.0124,338.0391,2354.3506,341.6695,2349.57,333.0587" style="stroke:#27AE60;stroke-width:1.0;"/><polygon fill="#000000" points="2365.5586,401.8568,2365.3519,411.3651,2370.9803,409.6707,2365.5586,401.8568" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="2376" y="411.9639">use</text><!--MD5=[ed4b6019252305bc0cd5d3bef0d383d2]
reverse link GetDataTag to CalypsoCardSelection--><path codeLine="442" d="M2531.29,344.7587 C2531.71,426.6888 2532.52,582.8988 2533.14,703.6588 " fill="none" id="GetDataTag-backto-CalypsoCardSelection" style="stroke:#27AE60;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2531.26,339.4688,2527.3115,348.4915,2531.2886,344.4687,2535.3114,348.4457,2531.26,339.4688" style="stroke:#27AE60;stroke-width:1.0;"/><polygon fill="#000000" points="2536.9742,401.6446,2534.082,410.7047,2539.9597,410.6744,2536.9742,401.6446" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="2546" y="411.9639">use</text><!--MD5=[b9c02494ee2edb3f49e24a11a76ae6d5]
link CalypsoCard to DirectoryHeader--><path codeLine="444" d="M3039.6,1189.4288 C3063.83,1278.3628 3088.14,1367.6388 3105.12,1429.9788 " fill="none" id="CalypsoCard-to-DirectoryHeader" style="stroke:#3498DB;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="3106.54,1435.1718,3108.0286,1425.436,3105.2232,1430.3483,3100.311,1427.5429,3106.54,1435.1718" style="stroke:#3498DB;stroke-width:1.0;"/><polygon fill="#000000" points="3087.314,1339.4688,3087.7726,1329.9693,3082.1013,1331.514,3087.314,1339.4688" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="3095" y="1339.9639">provide</text><!--MD5=[435a292fec6bd60cef8a6737227e6c35]
link CalypsoCard to ElementaryFile--><path codeLine="445" d="M3094.02,1082.9488 C3153.18,1172.2888 3222.41,1277.6368 3284,1373.4688 C3303.57,1403.9208 3325.15,1438.3638 3342.05,1465.5258 " fill="none" id="CalypsoCard-to-ElementaryFile" style="stroke:#3498DB;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="3344.72,1469.8207,3343.3639,1460.0657,3342.0795,1465.5748,3336.5704,1464.2905,3344.72,1469.8207" style="stroke:#3498DB;stroke-width:1.0;"/><polygon fill="#000000" points="3264.72,1338.84,3262.2655,1329.6516,3257.3335,1332.8491,3264.72,1338.84" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="3271" y="1339.9639">provide</text><!--MD5=[57dcad9f3791efe87eb3de288cba384a]
reverse link CalypsoCard to CardProductType--><path codeLine="446" d="M2963.73,1204.3688 C2961.72,1251.2438 2957.77,1298.6888 2951,1343.4688 C2945.58,1379.2688 2934.26,1417.9598 2923.55,1449.4198 " fill="none" id="CalypsoCard-backto-CardProductType" style="stroke:#A80036;stroke-width:1.0;"/><ellipse cx="2964.0152" cy="1197.1729" fill="#FFFFFF" rx="8" ry="8" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2963.7103" x2="2964.32" y1="1205.1671" y2="1189.1788"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2956.021" x2="2972.0094" y1="1196.8681" y2="1197.4778"/><!--MD5=[da295e0332042a57370ae8d038ae7841]
link CalypsoCard to CardProductType--><path codeLine="447" d="M2894.39,1189.0188 C2889.18,1240.4938 2886.38,1293.3468 2888,1343.4688 C2889.07,1376.5388 2891.29,1413.1608 2893.46,1443.9608 " fill="none" id="CalypsoCard-to-CardProductType" style="stroke:#3498DB;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="2893.84,1449.2458,2897.192,1439.9849,2893.4856,1444.2583,2889.2121,1440.5519,2893.84,1449.2458" style="stroke:#3498DB;stroke-width:1.0;"/><polygon fill="#000000" points="2892.9818,1339.6445,2895.9537,1330.6102,2890.0758,1330.5888,2892.9818,1339.6445" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="2902" y="1339.9639">provide</text><!--MD5=[aba73d32463631a1419cefff8db1a33e]
link CalypsoCard to SvLoadLogRecord--><path codeLine="448" d="M3094.06,995.6688 C3200.63,1093.0288 3347.29,1234.8198 3460,1373.4688 C3465.95,1380.7948 3471.86,1388.5228 3477.64,1396.4348 " fill="none" id="CalypsoCard-to-SvLoadLogRecord" style="stroke:#3498DB;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="3480.84,1400.8478,3478.7929,1391.214,3477.904,1396.8005,3472.3174,1395.9116,3480.84,1400.8478" style="stroke:#3498DB;stroke-width:1.0;"/><polygon fill="#000000" points="3443.4572,1338.2567,3439.3262,1329.6901,3435.0799,1333.7544,3443.4572,1338.2567" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="3449" y="1339.9639">provide</text><!--MD5=[0ef7c8472eddb1facc6466acd43af4c7]
link CalypsoCard to SvDebitLogRecord--><path codeLine="449" d="M2844.62,1189.4288 C2818.5,1266.0748 2792.28,1342.9747 2771.94,1402.6678 " fill="none" id="CalypsoCard-to-SvDebitLogRecord" style="stroke:#3498DB;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="2770.24,1407.6608,2776.9246,1400.4278,2771.8498,1402.927,2769.3506,1397.8521,2770.24,1407.6608" style="stroke:#3498DB;stroke-width:1.0;"/><polygon fill="#000000" points="2796.3869,1339.3772,2802.0868,1331.7639,2796.5232,1329.8676,2796.3869,1339.3772" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="2807" y="1339.9639">provide</text><!--MD5=[dace07c6424a6284409add909451346a]
link DirectoryHeader to WriteAccessLevel--><path codeLine="451" d="M3074.98,1594.7968 C3048.49,1627.3678 3013.44,1661.8158 2973,1680.4688 C2833.39,1744.8587 2433.86,1690.4688 2282,1714.4688 C2092.04,1744.4908 1875.47,1811.8497 1764.03,1849.0528 " fill="none" id="DirectoryHeader-to-WriteAccessLevel" style="stroke:#27AE60;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1759.13,1850.6918,1768.934,1851.6307,1763.8718,1849.1059,1766.3966,1844.0437,1759.13,1850.6918" style="stroke:#27AE60;stroke-width:1.0;"/><polygon fill="#000000" points="2945.0915,1698.5965,2954.5307,1699.7595,2953.4115,1693.9892,2945.0915,1698.5965" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="2959" y="1702.9639">use</text><!--MD5=[cc1c643465d1c05aadfdd3e7e3ee33ff]
reverse link ElementaryFile to FileType--><path codeLine="453" d="M3342.79,1573.5878 C3308.86,1640.5078 3253.23,1750.2558 3219.27,1817.2268 " fill="none" id="ElementaryFile-backto-FileType" style="stroke:#A80036;stroke-width:1.0;"/><ellipse cx="3346.0609" cy="1567.1233" fill="#FFFFFF" rx="8" ry="8" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="3342.4418" x2="3349.68" y1="1574.2579" y2="1559.9888"/><line style="stroke:#A80036;stroke-width:1.0;" x1="3338.9263" x2="3353.1954" y1="1563.5042" y2="1570.7424"/><!--MD5=[78c7db04616214d64a65e1c3389039a2]
link ElementaryFile to FileHeader--><path codeLine="454" d="M3360.89,1560.1858 C3348.76,1598.6577 3325.3,1652.5068 3284,1680.4688 C3270.67,1689.4938 3227.84,1685.6208 3212,1688.4688 C3165.11,1696.8967 3149.62,1691.2818 3108,1714.4688 C3080.66,1729.6988 3054.61,1750.6308 3031.61,1772.3497 " fill="none" id="ElementaryFile-to-FileHeader" style="stroke:#3498DB;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="3027.95,1775.8418,3037.2213,1772.5186,3031.5659,1772.3885,3031.6961,1766.7331,3027.95,1775.8418" style="stroke:#3498DB;stroke-width:1.0;"/><polygon fill="#000000" points="3212.7969,1700.3527,3221.9922,1697.9241,3218.8085,1692.9831,3212.7969,1700.3527" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="3226" y="1702.9639">provide</text><!--MD5=[86b3bd56e99d104172930610ea72020e]
link ElementaryFile to FileData--><path codeLine="455" d="M3382.42,1559.9888 C3396.45,1619.2308 3421.62,1725.5428 3438.81,1798.1238 " fill="none" id="ElementaryFile-to-FileData" style="stroke:#3498DB;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="3440.03,1803.2898,3441.8525,1793.611,3438.8799,1798.4238,3434.067,1795.4512,3440.03,1803.2898" style="stroke:#3498DB;stroke-width:1.0;"/><polygon fill="#000000" points="3423.1521,1702.51,3423.9277,1693.0311,3418.2081,1694.3855,3423.1521,1702.51" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="3431" y="1702.9639">provide</text><!--MD5=[0277f54c0239137ab686445791bc46fe]
link FileHeader to FileType--><path codeLine="457" d="M3035.68,1875.9688 C3063.52,1875.9688 3093.61,1875.9688 3119.75,1875.9688 " fill="none" id="FileHeader-to-FileType" style="stroke:#3498DB;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="3124.93,1875.9688,3115.93,1871.9688,3119.93,1875.9688,3115.93,1879.9688,3124.93,1875.9688" style="stroke:#3498DB;stroke-width:1.0;"/><polygon fill="#000000" points="3062.75,1864.1445,3053.7049,1861.2056,3053.7049,1867.0835,3062.75,1864.1445" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="3066.75" y="1869.4639">provide</text><!--MD5=[43bc778a75bcc549b44ae3c690ff2e29]
@startuml
title
    Calypsonet - calypsonet-terminal-calypso-java-api - 1.2.+ (2022-03-18)
end title

' == THEME ==

'Couleurs issues de : https://htmlcolorcodes.com/fr/tableau-de-couleur/tableau-de-couleur-design-plat/
!define C_GREY1 F8F9F9
!define C_GREY2 F2F3F4
!define C_GREY3 E5E7E9
!define C_GREY4 D7DBDD
!define C_GREY5 CACFD2
!define C_GREY6 BDC3C7
!define C_LINK 3498DB
!define C_USE 27AE60

skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
' Red
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
' Purple
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
' blue
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
' Green
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
' Grey
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

' == CONTENT ==

legend top
    __Colors legend__ :
    * __External public API references__ :
    ** <back:yellow>**calypsonet-terminal-reader-java-api**</back>
end legend

package "org.calypsonet.terminal.calypso" as api {

    +class "**final** CalypsoApiProperties" as ApiProperties {
        +{static} **final** String VERSION
    }
    +enum WriteAccessLevel {
        PERSONALIZATION
        LOAD
        DEBIT
    }
    +enum SelectFileControl {
        FIRST_EF
        NEXT_EF
        CURRENT_DF
    }
    +enum GetDataTag {
        FCP_FOR_CURRENT_FILE
        FCI_FOR_CURRENT_DF
        EF_LIST
        TRACEABILITY_INFORMATION
    }
    package spi {
        +interface SamRevocationServiceSpi {
            +boolean isSamRevoked (byte[] serialNumber)
            +boolean isSamRevoked (byte[] serialNumber, int counterValue)
        }
    }
    package card {
        +interface "<<<back:yellow>CardSelection</back>>>\nCalypsoCardSelection" as CalypsoCardSelection {
            +CalypsoCardSelection filterByCardProtocol (String cardProtocol)

            +CalypsoCardSelection filterByPowerOnData (String powerOnDataRegex)

            +CalypsoCardSelection filterByDfName (byte[] aid)
            +CalypsoCardSelection filterByDfName (String aid)
            +CalypsoCardSelection setFileOccurrence (FileOccurrence fileOccurrence)
            +CalypsoCardSelection setFileControlInformation (FileControlInformation fileControlInformation)
            +<s>CalypsoCardSelection addSuccessfulStatusWord (int statusWord)</s>

            +CalypsoCardSelection acceptInvalidatedCard ()

            +<s>CalypsoCardSelection prepareSelectFile (byte[] lid)</s>
            +CalypsoCardSelection prepareSelectFile (short lid)
            +CalypsoCardSelection prepareSelectFile (SelectFileControl selectControl)

            +CalypsoCardSelection prepareGetData (GetDataTag tag)

            +<s>CalypsoCardSelection prepareReadRecordFile (byte sfi, int recordNumber)</s>
            +CalypsoCardSelection prepareReadRecord (byte sfi, int recordNumber)
        }
        +enum FileOccurrence {
            FIRST
            LAST
            NEXT
            PREVIOUS
        }
        +enum FileControlInformation {
            FCI
            NO_RESPONSE
        }
        +interface "<<<back:yellow>SmartCard</back>>>\nCalypsoCard" as CalypsoCard {
            +ProductType getProductType ()
            +boolean isHce ()

            +boolean isDfInvalidated ()

            +byte[] getDfName ()
            +byte[] getApplicationSerialNumber ()

            +byte[] getStartupInfoRawData ()
            +byte getPlatform ()
            +byte getApplicationType ()
            +byte getApplicationSubtype ()
            +byte getSoftwareIssuer ()
            +byte getSoftwareVersion ()
            +byte getSoftwareRevision ()
            +byte getSessionModification ()

            +byte[] getTraceabilityInformation ()

            +DirectoryHeader getDirectoryHeader ()
            +ElementaryFile getFileBySfi (byte sfi)
            +ElementaryFile getFileByLid (short lid)
            +<s>Map<Byte, ElementaryFile> getAllFiles ()</s>
            +Set<ElementaryFile> getFiles ()

            +boolean isDfRatified ()
            +int getTransactionCounter ()

            +boolean isPkiModeSupported ()
            +boolean isExtendedModeSupported ()
            +boolean isRatificationOnDeselectSupported ()

            +boolean isPinFeatureAvailable ()
            +boolean isPinBlocked ()
            +int getPinAttemptRemaining ()

            +boolean isSvFeatureAvailable ()
            +int getSvBalance ()
            +int getSvLastTNum ()
            +SvLoadLogRecord getSvLoadLogRecord ()
            +SvDebitLogRecord getSvDebitLogLastRecord ()
            +List<SvDebitLogRecord> getSvDebitLogAllRecords ()
        }
        +interface DirectoryHeader {
            +short getLid ()
            +Byte getDfStatus ()

            +byte[] getAccessConditions ()
            +byte[] getKeyIndexes ()

            +byte getKif (WriteAccessLevel writeAccessLevel)
            +byte getKvc (WriteAccessLevel writeAccessLevel)
        }
        +interface ElementaryFile {
            +byte getSfi ()
            +FileHeader getHeader ()
            +FileData getData ()
        }
        +interface FileHeader {
            +short getLid ()
            +byte getDfStatus ()
            +ElementaryFile.Type getEfType ()

            +int getRecordsNumber ()
            +int getRecordSize ()

            +byte[] getAccessConditions ()
            +byte[] getKeyIndexes ()

            +Short getSharedReference ()
        }
        +enum "Type" as FileType {
            LINEAR
            BINARY
            CYCLIC
            COUNTERS
            SIMULATED_COUNTERS
        }
        +interface FileData {
            +byte[] getContent ()
            +byte[] getContent (int numRecord)
            +byte[] getContent (int numRecord, int dataOffset, int dataLength)
            +SortedMap<Integer, byte[]> getAllRecordsContent ()

            +Integer getContentAsCounterValue (int numCounter)
            +SortedMap<Integer, Integer> getAllCountersValue ()
        }
        +enum "ProductType" as CardProductType {
            PRIME_REVISION_1
            PRIME_REVISION_2
            PRIME_REVISION_3
            LIGHT
            BASIC
            UNKNOWN
        }
        +interface SvLoadLogRecord {
            +byte[] getRawData ()

            +byte[] getLoadDate ()
            +byte[] getLoadTime ()

            +int getAmount ()
            +int getBalance ()
            +byte[] getFreeData ()

            +byte getKvc ()
            +byte[] getSamId ()
            +int getSamTNum ()
            +int getSvTNum ()
        }
        +interface SvDebitLogRecord {
            +byte[] getRawData ()

            +byte[] getDebitDate ()
            +byte[] getDebitTime ()

            +int getAmount ()
            +int getBalance ()

            +byte getKvc ()
            +byte[] getSamId ()
            +int getSamTNum ()
            +int getSvTNum ()
        }
    }
    package sam {
        +interface "<<<back:yellow>CardSelection</back>>>\nCalypsoSamSelection" as CalypsoSamSelection {
            +CalypsoSamSelection filterByProductType (CalypsoSam.ProductType productType)
            +CalypsoSamSelection filterBySerialNumber (String serialNumberRegex)

            +CalypsoSamSelection setUnlockData (String unlockData)
        }
        +interface "<<<back:yellow>SmartCard</back>>>\nCalypsoSam" as CalypsoSam {
            +ProductType getProductType ()
            +String getProductInfo ()

            +byte[] getSerialNumber ()
            +byte getPlatform ()
            +byte getApplicationType ()
            +byte getApplicationSubType ()
            +byte getSoftwareIssuer ()
            +byte getSoftwareVersion ()
            +byte getSoftwareRevision ()
        }
        +enum "ProductType" as SamProductType {
            SAM_C1
            SAM_S1E1
            SAM_S1Dx
            CSAM_F
            UNKNOWN
        }
    }
    package transaction {
        ' Common to Card and SAM
        +interface CommonTransactionManager<T extends CommonTransactionManager<T, S>,\nS extends CommonSecuritySetting<S>> {
            +S getSecuritySetting ()
            +List<byte[]> getTransactionAuditData ()

            +T prepareComputeSignature (SignatureComputationData data)
            +T prepareVerifySignature (SignatureVerificationData data)

            +T processCommands ()
        }
        +interface SignatureComputationData {
            +SignatureComputationData setData (byte[] data, byte kif, byte kvc)
            +SignatureComputationData setSignatureSize (int size)
            +SignatureComputationData setKeyDiversifier (byte[] diversifier)
            +SignatureComputationData withSamTraceabilityMode (int offset, boolean usePartialSamSerialNumber)
            +SignatureComputationData withoutBusyMode ()

            +byte[] getSignedData ()
            +byte[] getSignature ()
        }
        +interface SignatureVerificationData {
            +SignatureVerificationData setData (byte[] data, byte[] signature, byte kif, byte kvc)
            +SignatureVerificationData setKeyDiversifier (byte[] diversifier)
            +SignatureVerificationData withSamTraceabilityMode (int offset, boolean isPartialSamSerialNumber, boolean checkSamRevocationStatus)
            +SignatureVerificationData withoutBusyMode ()

            +boolean isSignatureValid ()
        }
        +interface CommonSecuritySetting<S extends CommonSecuritySetting<S>> {
            +S setControlSamResource (<back:yellow>CardReader</back> samReader, CalypsoSam calypsoSam)
            +S setSamRevocationServiceSpi (SamRevocationServiceSpi service)
        }
        ' Card
        +interface CardTransactionManager extends CommonTransactionManager {
            +<back:yellow>CardReader</back> getCardReader ()
            +CalypsoCard getCalypsoCard ()
            +<s>CardSecuritySetting getCardSecuritySetting ()</s>

            +<s>CardTransactionManager prepareSelectFile (byte[] lid)</s>
            +CardTransactionManager prepareSelectFile (short lid)
            +CardTransactionManager prepareSelectFile (SelectFileControl selectFileControl)

            +CardTransactionManager prepareGetData (GetDataTag tag)

            +<s>CardTransactionManager prepareReadRecordFile (byte sfi, int recordNumber)</s>
            +<s>CardTransactionManager prepareReadRecordFile (byte sfi, int firstRecordNumber, int numberOfRecords, int recordSize)</s>
            +<s>CardTransactionManager prepareReadCounterFile (byte sfi, int countersNumber)</s>
            +CardTransactionManager prepareReadRecord (byte sfi, int recordNumber)
            +CardTransactionManager prepareReadRecords (byte sfi, int fromRecordNumber, int toRecordNumber, int recordSize)
            +CardTransactionManager prepareReadRecordsPartially (byte sfi, int fromRecordNumber, int toRecordNumber, int offset, int nbBytesToRead)
            +CardTransactionManager prepareReadBinary (byte sfi, int offset, int nbBytesToRead)
            +CardTransactionManager prepareReadCounter (byte sfi, int nbCountersToRead)

            +CardTransactionManager prepareSearchRecords (SearchCommandData data)

            +CardTransactionManager prepareCheckPinStatus ()

            +CardTransactionManager prepareAppendRecord (byte sfi, byte[] recordData)
            +CardTransactionManager prepareUpdateRecord (byte sfi, int recordNumber, byte[] recordData)
            +CardTransactionManager prepareWriteRecord (byte sfi, int recordNumber, byte[] recordData)

            +CardTransactionManager prepareUpdateBinary (byte sfi, int offset, byte[] data)
            +CardTransactionManager prepareWriteBinary (byte sfi, int offset, byte[] data)

            +CardTransactionManager prepareIncreaseCounter (byte sfi, int counterNumber, int incValue)
            +CardTransactionManager prepareIncreaseCounters(byte sfi, Map<Integer, Integer> counterNumberToIncValueMap)
            +CardTransactionManager prepareDecreaseCounter (byte sfi, int counterNumber, int decValue)
            +CardTransactionManager prepareDecreaseCounters(byte sfi, Map<Integer, Integer> counterNumberToDecValueMap)
            +CardTransactionManager prepareSetCounter (byte sfi, int counterNumber, int newValue)

            +CardTransactionManager prepareSvGet (SvOperation svOperation, SvAction svAction)
            +CardTransactionManager prepareSvReload (int amount, byte[] date, byte[] time, byte[] free)
            +CardTransactionManager prepareSvReload (int amount)
            +CardTransactionManager prepareSvDebit (int amount, byte[] date, byte[] time)
            +CardTransactionManager prepareSvDebit (int amount)
            +CardTransactionManager prepareSvReadAllLogs ()

            +CardTransactionManager prepareInvalidate ()
            +CardTransactionManager prepareRehabilitate ()

            +CardTransactionManager prepareReleaseCardChannel ()

            +<s>CardTransactionManager processCardCommands ()</s>

            +CardTransactionManager processVerifyPin (byte[] pin)
            +CardTransactionManager processChangePin (byte[] newPin)

            +CardTransactionManager processChangeKey (int keyIndex, byte newKif, byte newKvc, byte issuerKif, byte issuerKvc)

            +CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel)
            +CardTransactionManager processClosing ()
            +CardTransactionManager processCancel ()
        }
        +enum SvOperation {
            RELOAD
            DEBIT
        }
        +enum SvAction {
            DO
            UNDO
        }
        +interface CardSecuritySetting extends CommonSecuritySetting {
            +<s>CardSecuritySetting setSamResource (<back:yellow>CardReader</back> samReader, CalypsoSam calypsoSam)</s>

            +CardSecuritySetting enableMultipleSession ()
            +CardSecuritySetting enableRatificationMechanism ()
            +CardSecuritySetting enablePinPlainTransmission ()
            +CardSecuritySetting enableSvLoadAndDebitLog ()
            +CardSecuritySetting authorizeSvNegativeBalance ()

            +CardSecuritySetting assignKif (WriteAccessLevel writeAccessLevel, byte kvc, byte kif)
            +CardSecuritySetting assignDefaultKif (WriteAccessLevel writeAccessLevel, byte kif)
            +CardSecuritySetting assignDefaultKvc (WriteAccessLevel writeAccessLevel, byte kvc)

            +CardSecuritySetting addAuthorizedSessionKey (byte kif, byte kvc)
            +CardSecuritySetting addAuthorizedSvKey (byte kif, byte kvc)

            +CardSecuritySetting setPinVerificationCipheringKey (byte kif, byte kvc)
            +CardSecuritySetting setPinModificationCipheringKey (byte kif, byte kvc)
        }
        +interface SearchCommandData {
            +SearchCommandData setSfi (byte sfi)
            +SearchCommandData startAtRecord (int recordNumber)
            +SearchCommandData setOffset (int offset)
            +SearchCommandData enableRepeatedOffset ()
            +SearchCommandData setSearchData (byte[] data)
            +SearchCommandData setMask (byte[] mask)
            +SearchCommandData fetchFirstMatchingResult ()

            +List<Integer> getMatchingRecordNumbers ()
        }
        ' SAM
        +interface SamTransactionManager extends CommonTransactionManager {
            +<back:yellow>CardReader</back> getSamReader ()
            +CalypsoSam getCalypsoSam ()
        }
        +interface SamSecuritySetting extends CommonSecuritySetting {
        }
    }
}

' Associations

CommonTransactionManager .left.> SignatureComputationData #C_USE : use >
CommonTransactionManager .right.> SignatureVerificationData #C_USE : use >
CommonTransactionManager ..> CommonSecuritySetting #C_LINK : provide >

CommonSecuritySetting ..> SamRevocationServiceSpi #C_USE : use >

CalypsoCardSelection +- - FileOccurrence
CalypsoCardSelection ..> FileOccurrence #C_LINK : provide >
CalypsoCardSelection +- - FileControlInformation
CalypsoCardSelection ..> FileControlInformation #C_LINK : provide >

CardTransactionManager ..> WriteAccessLevel #C_USE : use >
CardTransactionManager ..> SvOperation #C_USE : use >
CardTransactionManager ..> SvAction #C_USE : use >
CardTransactionManager .up.> SelectFileControl #C_USE : use >
CardTransactionManager .up.> GetDataTag #C_USE : use >
CardTransactionManager .right.> SearchCommandData #C_USE : use >
CardTransactionManager .right.> CalypsoCard #C_LINK : use and provide up to date content >
CardTransactionManager ..> CardSecuritySetting #C_LINK : provide >

CardSecuritySetting ..> WriteAccessLevel #C_USE : use >
CardSecuritySetting ..> CalypsoSam #C_LINK : provide >

CalypsoSamSelection ..> SamProductType #C_USE : use >

SamTransactionManager ..> CalypsoSam #C_LINK : provide >
SamTransactionManager ..> SamSecuritySetting #C_LINK : provide >

CalypsoSam +- - SamProductType
CalypsoSam ..> SamProductType #C_LINK : provide >

CalypsoCardSelection .up.> SelectFileControl #C_USE : use >
CalypsoCardSelection .up.> GetDataTag #C_USE : use >

CalypsoCard ..> DirectoryHeader #C_LINK : provide >
CalypsoCard ..> ElementaryFile #C_LINK : provide >
CalypsoCard +- - CardProductType
CalypsoCard ..> CardProductType #C_LINK : provide >
CalypsoCard ..> SvLoadLogRecord #C_LINK : provide >
CalypsoCard ..> SvDebitLogRecord #C_LINK : provide >

DirectoryHeader ..> WriteAccessLevel #C_USE : use >

ElementaryFile +- - FileType
ElementaryFile ..> FileHeader #C_LINK : provide >
ElementaryFile ..> FileData #C_LINK : provide >

FileHeader .right.> FileType #C_LINK : provide >

' == LAYOUT ==

'SignatureComputationData -[hidden]- SignatureVerificationData

' == STYLE ==

package api #C_GREY1 {}
package spi #C_GREY2 {}
package card #C_GREY2 {}
package sam #C_GREY2 {}
package transaction #C_GREY2 {}


@enduml

@startuml
title
    Calypsonet - calypsonet-terminal-calypso-java-api - 1.2.+ (2022-03-18)
end title



skinparam Shadowing false
skinparam ClassFontStyle italic
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype


legend top
    __Colors legend__ :
    * __External public API references__ :
    ** <back:yellow>**calypsonet-terminal-reader-java-api**</back>
end legend

package "org.calypsonet.terminal.calypso" as api {

    +class "**final** CalypsoApiProperties" as ApiProperties {
        +{static} **final** String VERSION
    }
    +enum WriteAccessLevel {
        PERSONALIZATION
        LOAD
        DEBIT
    }
    +enum SelectFileControl {
        FIRST_EF
        NEXT_EF
        CURRENT_DF
    }
    +enum GetDataTag {
        FCP_FOR_CURRENT_FILE
        FCI_FOR_CURRENT_DF
        EF_LIST
        TRACEABILITY_INFORMATION
    }
    package spi {
        +interface SamRevocationServiceSpi {
            +boolean isSamRevoked (byte[] serialNumber)
            +boolean isSamRevoked (byte[] serialNumber, int counterValue)
        }
    }
    package card {
        +interface "<<<back:yellow>CardSelection</back>>>\nCalypsoCardSelection" as CalypsoCardSelection {
            +CalypsoCardSelection filterByCardProtocol (String cardProtocol)

            +CalypsoCardSelection filterByPowerOnData (String powerOnDataRegex)

            +CalypsoCardSelection filterByDfName (byte[] aid)
            +CalypsoCardSelection filterByDfName (String aid)
            +CalypsoCardSelection setFileOccurrence (FileOccurrence fileOccurrence)
            +CalypsoCardSelection setFileControlInformation (FileControlInformation fileControlInformation)
            +<s>CalypsoCardSelection addSuccessfulStatusWord (int statusWord)</s>

            +CalypsoCardSelection acceptInvalidatedCard ()

            +<s>CalypsoCardSelection prepareSelectFile (byte[] lid)</s>
            +CalypsoCardSelection prepareSelectFile (short lid)
            +CalypsoCardSelection prepareSelectFile (SelectFileControl selectControl)

            +CalypsoCardSelection prepareGetData (GetDataTag tag)

            +<s>CalypsoCardSelection prepareReadRecordFile (byte sfi, int recordNumber)</s>
            +CalypsoCardSelection prepareReadRecord (byte sfi, int recordNumber)
        }
        +enum FileOccurrence {
            FIRST
            LAST
            NEXT
            PREVIOUS
        }
        +enum FileControlInformation {
            FCI
            NO_RESPONSE
        }
        +interface "<<<back:yellow>SmartCard</back>>>\nCalypsoCard" as CalypsoCard {
            +ProductType getProductType ()
            +boolean isHce ()

            +boolean isDfInvalidated ()

            +byte[] getDfName ()
            +byte[] getApplicationSerialNumber ()

            +byte[] getStartupInfoRawData ()
            +byte getPlatform ()
            +byte getApplicationType ()
            +byte getApplicationSubtype ()
            +byte getSoftwareIssuer ()
            +byte getSoftwareVersion ()
            +byte getSoftwareRevision ()
            +byte getSessionModification ()

            +byte[] getTraceabilityInformation ()

            +DirectoryHeader getDirectoryHeader ()
            +ElementaryFile getFileBySfi (byte sfi)
            +ElementaryFile getFileByLid (short lid)
            +<s>Map<Byte, ElementaryFile> getAllFiles ()</s>
            +Set<ElementaryFile> getFiles ()

            +boolean isDfRatified ()
            +int getTransactionCounter ()

            +boolean isPkiModeSupported ()
            +boolean isExtendedModeSupported ()
            +boolean isRatificationOnDeselectSupported ()

            +boolean isPinFeatureAvailable ()
            +boolean isPinBlocked ()
            +int getPinAttemptRemaining ()

            +boolean isSvFeatureAvailable ()
            +int getSvBalance ()
            +int getSvLastTNum ()
            +SvLoadLogRecord getSvLoadLogRecord ()
            +SvDebitLogRecord getSvDebitLogLastRecord ()
            +List<SvDebitLogRecord> getSvDebitLogAllRecords ()
        }
        +interface DirectoryHeader {
            +short getLid ()
            +Byte getDfStatus ()

            +byte[] getAccessConditions ()
            +byte[] getKeyIndexes ()

            +byte getKif (WriteAccessLevel writeAccessLevel)
            +byte getKvc (WriteAccessLevel writeAccessLevel)
        }
        +interface ElementaryFile {
            +byte getSfi ()
            +FileHeader getHeader ()
            +FileData getData ()
        }
        +interface FileHeader {
            +short getLid ()
            +byte getDfStatus ()
            +ElementaryFile.Type getEfType ()

            +int getRecordsNumber ()
            +int getRecordSize ()

            +byte[] getAccessConditions ()
            +byte[] getKeyIndexes ()

            +Short getSharedReference ()
        }
        +enum "Type" as FileType {
            LINEAR
            BINARY
            CYCLIC
            COUNTERS
            SIMULATED_COUNTERS
        }
        +interface FileData {
            +byte[] getContent ()
            +byte[] getContent (int numRecord)
            +byte[] getContent (int numRecord, int dataOffset, int dataLength)
            +SortedMap<Integer, byte[]> getAllRecordsContent ()

            +Integer getContentAsCounterValue (int numCounter)
            +SortedMap<Integer, Integer> getAllCountersValue ()
        }
        +enum "ProductType" as CardProductType {
            PRIME_REVISION_1
            PRIME_REVISION_2
            PRIME_REVISION_3
            LIGHT
            BASIC
            UNKNOWN
        }
        +interface SvLoadLogRecord {
            +byte[] getRawData ()

            +byte[] getLoadDate ()
            +byte[] getLoadTime ()

            +int getAmount ()
            +int getBalance ()
            +byte[] getFreeData ()

            +byte getKvc ()
            +byte[] getSamId ()
            +int getSamTNum ()
            +int getSvTNum ()
        }
        +interface SvDebitLogRecord {
            +byte[] getRawData ()

            +byte[] getDebitDate ()
            +byte[] getDebitTime ()

            +int getAmount ()
            +int getBalance ()

            +byte getKvc ()
            +byte[] getSamId ()
            +int getSamTNum ()
            +int getSvTNum ()
        }
    }
    package sam {
        +interface "<<<back:yellow>CardSelection</back>>>\nCalypsoSamSelection" as CalypsoSamSelection {
            +CalypsoSamSelection filterByProductType (CalypsoSam.ProductType productType)
            +CalypsoSamSelection filterBySerialNumber (String serialNumberRegex)

            +CalypsoSamSelection setUnlockData (String unlockData)
        }
        +interface "<<<back:yellow>SmartCard</back>>>\nCalypsoSam" as CalypsoSam {
            +ProductType getProductType ()
            +String getProductInfo ()

            +byte[] getSerialNumber ()
            +byte getPlatform ()
            +byte getApplicationType ()
            +byte getApplicationSubType ()
            +byte getSoftwareIssuer ()
            +byte getSoftwareVersion ()
            +byte getSoftwareRevision ()
        }
        +enum "ProductType" as SamProductType {
            SAM_C1
            SAM_S1E1
            SAM_S1Dx
            CSAM_F
            UNKNOWN
        }
    }
    package transaction {
        +interface CommonTransactionManager<T extends CommonTransactionManager<T, S>,\nS extends CommonSecuritySetting<S>> {
            +S getSecuritySetting ()
            +List<byte[]> getTransactionAuditData ()

            +T prepareComputeSignature (SignatureComputationData data)
            +T prepareVerifySignature (SignatureVerificationData data)

            +T processCommands ()
        }
        +interface SignatureComputationData {
            +SignatureComputationData setData (byte[] data, byte kif, byte kvc)
            +SignatureComputationData setSignatureSize (int size)
            +SignatureComputationData setKeyDiversifier (byte[] diversifier)
            +SignatureComputationData withSamTraceabilityMode (int offset, boolean usePartialSamSerialNumber)
            +SignatureComputationData withoutBusyMode ()

            +byte[] getSignedData ()
            +byte[] getSignature ()
        }
        +interface SignatureVerificationData {
            +SignatureVerificationData setData (byte[] data, byte[] signature, byte kif, byte kvc)
            +SignatureVerificationData setKeyDiversifier (byte[] diversifier)
            +SignatureVerificationData withSamTraceabilityMode (int offset, boolean isPartialSamSerialNumber, boolean checkSamRevocationStatus)
            +SignatureVerificationData withoutBusyMode ()

            +boolean isSignatureValid ()
        }
        +interface CommonSecuritySetting<S extends CommonSecuritySetting<S>> {
            +S setControlSamResource (<back:yellow>CardReader</back> samReader, CalypsoSam calypsoSam)
            +S setSamRevocationServiceSpi (SamRevocationServiceSpi service)
        }
        +interface CardTransactionManager extends CommonTransactionManager {
            +<back:yellow>CardReader</back> getCardReader ()
            +CalypsoCard getCalypsoCard ()
            +<s>CardSecuritySetting getCardSecuritySetting ()</s>

            +<s>CardTransactionManager prepareSelectFile (byte[] lid)</s>
            +CardTransactionManager prepareSelectFile (short lid)
            +CardTransactionManager prepareSelectFile (SelectFileControl selectFileControl)

            +CardTransactionManager prepareGetData (GetDataTag tag)

            +<s>CardTransactionManager prepareReadRecordFile (byte sfi, int recordNumber)</s>
            +<s>CardTransactionManager prepareReadRecordFile (byte sfi, int firstRecordNumber, int numberOfRecords, int recordSize)</s>
            +<s>CardTransactionManager prepareReadCounterFile (byte sfi, int countersNumber)</s>
            +CardTransactionManager prepareReadRecord (byte sfi, int recordNumber)
            +CardTransactionManager prepareReadRecords (byte sfi, int fromRecordNumber, int toRecordNumber, int recordSize)
            +CardTransactionManager prepareReadRecordsPartially (byte sfi, int fromRecordNumber, int toRecordNumber, int offset, int nbBytesToRead)
            +CardTransactionManager prepareReadBinary (byte sfi, int offset, int nbBytesToRead)
            +CardTransactionManager prepareReadCounter (byte sfi, int nbCountersToRead)

            +CardTransactionManager prepareSearchRecords (SearchCommandData data)

            +CardTransactionManager prepareCheckPinStatus ()

            +CardTransactionManager prepareAppendRecord (byte sfi, byte[] recordData)
            +CardTransactionManager prepareUpdateRecord (byte sfi, int recordNumber, byte[] recordData)
            +CardTransactionManager prepareWriteRecord (byte sfi, int recordNumber, byte[] recordData)

            +CardTransactionManager prepareUpdateBinary (byte sfi, int offset, byte[] data)
            +CardTransactionManager prepareWriteBinary (byte sfi, int offset, byte[] data)

            +CardTransactionManager prepareIncreaseCounter (byte sfi, int counterNumber, int incValue)
            +CardTransactionManager prepareIncreaseCounters(byte sfi, Map<Integer, Integer> counterNumberToIncValueMap)
            +CardTransactionManager prepareDecreaseCounter (byte sfi, int counterNumber, int decValue)
            +CardTransactionManager prepareDecreaseCounters(byte sfi, Map<Integer, Integer> counterNumberToDecValueMap)
            +CardTransactionManager prepareSetCounter (byte sfi, int counterNumber, int newValue)

            +CardTransactionManager prepareSvGet (SvOperation svOperation, SvAction svAction)
            +CardTransactionManager prepareSvReload (int amount, byte[] date, byte[] time, byte[] free)
            +CardTransactionManager prepareSvReload (int amount)
            +CardTransactionManager prepareSvDebit (int amount, byte[] date, byte[] time)
            +CardTransactionManager prepareSvDebit (int amount)
            +CardTransactionManager prepareSvReadAllLogs ()

            +CardTransactionManager prepareInvalidate ()
            +CardTransactionManager prepareRehabilitate ()

            +CardTransactionManager prepareReleaseCardChannel ()

            +<s>CardTransactionManager processCardCommands ()</s>

            +CardTransactionManager processVerifyPin (byte[] pin)
            +CardTransactionManager processChangePin (byte[] newPin)

            +CardTransactionManager processChangeKey (int keyIndex, byte newKif, byte newKvc, byte issuerKif, byte issuerKvc)

            +CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel)
            +CardTransactionManager processClosing ()
            +CardTransactionManager processCancel ()
        }
        +enum SvOperation {
            RELOAD
            DEBIT
        }
        +enum SvAction {
            DO
            UNDO
        }
        +interface CardSecuritySetting extends CommonSecuritySetting {
            +<s>CardSecuritySetting setSamResource (<back:yellow>CardReader</back> samReader, CalypsoSam calypsoSam)</s>

            +CardSecuritySetting enableMultipleSession ()
            +CardSecuritySetting enableRatificationMechanism ()
            +CardSecuritySetting enablePinPlainTransmission ()
            +CardSecuritySetting enableSvLoadAndDebitLog ()
            +CardSecuritySetting authorizeSvNegativeBalance ()

            +CardSecuritySetting assignKif (WriteAccessLevel writeAccessLevel, byte kvc, byte kif)
            +CardSecuritySetting assignDefaultKif (WriteAccessLevel writeAccessLevel, byte kif)
            +CardSecuritySetting assignDefaultKvc (WriteAccessLevel writeAccessLevel, byte kvc)

            +CardSecuritySetting addAuthorizedSessionKey (byte kif, byte kvc)
            +CardSecuritySetting addAuthorizedSvKey (byte kif, byte kvc)

            +CardSecuritySetting setPinVerificationCipheringKey (byte kif, byte kvc)
            +CardSecuritySetting setPinModificationCipheringKey (byte kif, byte kvc)
        }
        +interface SearchCommandData {
            +SearchCommandData setSfi (byte sfi)
            +SearchCommandData startAtRecord (int recordNumber)
            +SearchCommandData setOffset (int offset)
            +SearchCommandData enableRepeatedOffset ()
            +SearchCommandData setSearchData (byte[] data)
            +SearchCommandData setMask (byte[] mask)
            +SearchCommandData fetchFirstMatchingResult ()

            +List<Integer> getMatchingRecordNumbers ()
        }
        +interface SamTransactionManager extends CommonTransactionManager {
            +<back:yellow>CardReader</back> getSamReader ()
            +CalypsoSam getCalypsoSam ()
        }
        +interface SamSecuritySetting extends CommonSecuritySetting {
        }
    }
}


CommonTransactionManager .left.> SignatureComputationData #27AE60 : use >
CommonTransactionManager .right.> SignatureVerificationData #27AE60 : use >
CommonTransactionManager ..> CommonSecuritySetting #3498DB : provide >

CommonSecuritySetting ..> SamRevocationServiceSpi #27AE60 : use >

CalypsoCardSelection +- - FileOccurrence
CalypsoCardSelection ..> FileOccurrence #3498DB : provide >
CalypsoCardSelection +- - FileControlInformation
CalypsoCardSelection ..> FileControlInformation #3498DB : provide >

CardTransactionManager ..> WriteAccessLevel #27AE60 : use >
CardTransactionManager ..> SvOperation #27AE60 : use >
CardTransactionManager ..> SvAction #27AE60 : use >
CardTransactionManager .up.> SelectFileControl #27AE60 : use >
CardTransactionManager .up.> GetDataTag #27AE60 : use >
CardTransactionManager .right.> SearchCommandData #27AE60 : use >
CardTransactionManager .right.> CalypsoCard #3498DB : use and provide up to date content >
CardTransactionManager ..> CardSecuritySetting #3498DB : provide >

CardSecuritySetting ..> WriteAccessLevel #27AE60 : use >
CardSecuritySetting ..> CalypsoSam #3498DB : provide >

CalypsoSamSelection ..> SamProductType #27AE60 : use >

SamTransactionManager ..> CalypsoSam #3498DB : provide >
SamTransactionManager ..> SamSecuritySetting #3498DB : provide >

CalypsoSam +- - SamProductType
CalypsoSam ..> SamProductType #3498DB : provide >

CalypsoCardSelection .up.> SelectFileControl #27AE60 : use >
CalypsoCardSelection .up.> GetDataTag #27AE60 : use >

CalypsoCard ..> DirectoryHeader #3498DB : provide >
CalypsoCard ..> ElementaryFile #3498DB : provide >
CalypsoCard +- - CardProductType
CalypsoCard ..> CardProductType #3498DB : provide >
CalypsoCard ..> SvLoadLogRecord #3498DB : provide >
CalypsoCard ..> SvDebitLogRecord #3498DB : provide >

DirectoryHeader ..> WriteAccessLevel #27AE60 : use >

ElementaryFile +- - FileType
ElementaryFile ..> FileHeader #3498DB : provide >
ElementaryFile ..> FileData #3498DB : provide >

FileHeader .right.> FileType #3498DB : provide >




package api #F8F9F9 {}
package spi #F2F3F4 {}
package card #F2F3F4 {}
package sam #F2F3F4 {}
package transaction #F2F3F4 {}


@enduml

PlantUML version 1.2022.1(Tue Feb 01 19:19:58 CET 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>